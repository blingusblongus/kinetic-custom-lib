(this.webpackJsonpesolutions_vteams=this.webpackJsonpesolutions_vteams||[]).push([[137],{2209:function(e,t,a){},2218:function(e,t){!function(e,t,a){typeAheadSearch=function(a){e(a.element()).find("input[uses-typeahead]:not(.typeahead)").each((function(){var n=a,r=e(this),s=e.extend({},"function"===typeof typeaheadConfigurations.defaultConfiguration?typeaheadConfigurations.defaultConfiguration():typeaheadConfigurations.defaultConfiguration);if(s.typeaheadForm=n,t.isEmpty(e(r).attr("typeahead-query-field"))||(s.queryField=e(r).attr("typeahead-query-field")),t.isEmpty(e(r).attr("typeahead-min-length"))||(s.minLength=parseInt(e(r).attr("typeahead-min-length"))),t.isEmpty(e(r).attr("typeahead-fa-class"))||(s.faClass=e(r).attr("typeahead-fa-class")),t.isEmpty(e(r).attr("typeahead-placeholder"))||(s.placeholder=e(r).attr("typeahead-placeholder")),t.isEmpty(e(r).attr("typeahead-empty-message"))||(s.emptyMessage=e(r).attr("typeahead-empty-message")),t.isEmpty(e(r).attr("typeahead-user-id-attribute"))||(s.userIdAttribute=e(r).attr("typeahead-user-id-attribute")),t.isEmpty(e(r).attr("typeahead-bridged-resource"))||(s.bridgedResource=e(r).attr("typeahead-bridged-resource")),t.isEmpty(e(r).attr("typeahead-bridge-location"))||(s.bridgeLocation=e(r).attr("typeahead-bridge-location")),t.isEmpty(e(r).attr("typeahead-attributes-to-show"))||(s.attrsToShow=e(r).attr("typeahead-attributes-to-show").split(",")),t.isEmpty(e(r).attr("typeahead-attribute-to-set"))||(s.attrToSet=e(r).attr("typeahead-attribute-to-set")),t.isEmpty(e(r).attr("typeahead-query-field"))?t.isEmpty(s.queryField)?s.queryField=e(r).attr("name"):s.queryField=s.queryField:s.queryField=e(r).attr("typeahead-query-field"),t.isEmpty(e(r).attr("typeahead-fields-to-set"))||(s.fieldsToSet={},e.each(e(r).attr("typeahead-fields-to-set").split(","),(function(e,t){var a=t.split("=")[0],n=t.split("=")[1];s.fieldsToSet[a]=n}))),t.isEmpty(e(r).attr("typeahead-additional-params"))||(s.additionalParams={},e.each(e(r).attr("typeahead-additional-params").split(","),(function(e,t){var a=t.split("=")[0],n=t.split("=")[1];s.additionalParams[a]=n}))),t.isEmpty(s.bridgeLocation)?s.bridgeUrl=bundle.kappLocation(K("kapp").slug())+"/"+n.slug()+"/bridgedResources/"+s.bridgedResource+"?values["+s.queryField+"]=%QUERY":s.bridgeUrl=bundle.kappLocation(K("kapp").slug())+"/"+s.bridgeLocation+"/bridgedResources/"+s.bridgedResource+"?values["+s.queryField+"]=%QUERY",t.isEmpty(s.additionalParams)||e.each(s.additionalParams,(function(e,t){var a="",n=t.split("::")[1];if("string"===t.split("::")[0].toLowerCase())a="&values["+e+"]="+n;else if("field"===t.split("::")[0].toLowerCase()){null!=s.typeaheadForm.getFieldByName(n)?a="&values["+e+"]=field["+n+"]":console.log("KD Typeahead Error! When adding additional bridge parameters (typeahead-additional-params), could not find field with the name: "+n)}s.bridgeUrl+=a})),t.isEmpty(s.bridgedResource))return console.log("KD Typeahead Error! Missing bridged resource configuration (typeahead-bridged-resource)."),!1;if(t.isEmpty(s.attrToSet))return console.log("KD Typeahead Error! Missing attribute to set configuration (typeahead-attribute-to-set)."),!1;e(r).wrap(e('<div class="input-group"/>')),e(r).closest(".input-group").prepend(e('<span class="input-group-addon" id="basic-addon1"><i class="fa '+s.faClass+'" aria-hidden="true"></i></span>')),e(r).attr("placeholder",s.placeholder),e(r).attr("data-provide","typeahead").addClass("typeahead");var i=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:s.bridgeUrl,prepare:function(e,t){t.type="POST",t.url=t.url.replace("%QUERY",encodeURIComponent(e));for(var a=RegExp("(&values\\[.+?\\]=)field\\[(.+?)\\]"),n=t.url.match(a);n;)t.url=t.url.replace(a,n[1]+encodeURIComponent(s.typeaheadForm.getFieldByName(n[2]).value())),n=t.url.match(a);return t},filter:function(a){var n=t.map(a.records.records,(function(e){return t.object(a.records.fields,e)}));return t.isEmpty(s.userIdAttribute)?n:e.grep(n,(function(e){return e[s.userIdAttribute]!==K("identity").username}))}}});e(r).typeahead({hint:!0,highlight:!0,minLength:s.minLength},{name:"typeahead-search",limit:100,display:s.attrToSet,source:i,templates:{empty:['<div class="tt-empty-message text-center">',s.emptyMessage,"<br>","</div>"].join("\n"),suggestion:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return suggestion=s.suggestionHtml(e,s),suggestion}))}}),e(r).siblings(".tt-hint").removeAttr("data-element-type"),e(r).bind("typeahead:select",(function(e,t){s.selectedCallback(t,s)})),e(r).bind("typeahead:change",(function(e){})),e(r).keydown((function(e){if(13==e.keyCode)return e.preventDefault(),!1}))}))}}(jQuery,_,moment),typeaheadConfigurations={defaultConfiguration:function(){return{faClass:"fa-search",placeholder:K.translate("shared","Start typing to begin your search..."),emptyMessage:K.translate("shared","No results found"),userIdAttribute:null,queryField:null,additionalParams:null,minLength:3,bridgedResource:null,bridgeLocation:null,attrsToShow:null,attrToSet:null,fieldsToSet:null,suggestionHtml:function(e,t){var a=$('<div class="tt-details"/>');return $.each(t.attrsToShow,(function(t,n){$(a).append('<div class="tt-attribute col-sm-6">'+e[n]+"</div>")})),$('<div class="tt-suggestion"/>').append($(a))},selectedCallback:function(e,t){$.each(t.fieldsToSet,(function(a,n){var r=t.typeaheadForm.select("field["+a+"]");null!=r?(r.value(e[n]),$(r.element()).change()):console.log("KD Typeahead Error! When setting fields (typeahead-fields-to-set), could not find field with the name: "+a)}))}}}}},2219:function(e,t){!function(e){DataViewer="undefined"==typeof DataViewer?{}:DataViewer,e("body").on("keydown",".dataTables_filter input",(function(e){e.stopPropagation()}));var t={resultsContainer:'<table cellspacing="0", border="0", class="display">',paging:!0,info:!0,searching:!0,responsive:{details:{type:"column"}}},a={resultsContainer:"<div>"};function n(t){return 0==e(t.forms.self("form").element()).find("#"+t.resultsContainerId).length?("string"==typeof t.resultsContainer?t.resultsContainer=e(t.resultsContainer).attr("id",t.resultsContainerId):"function"==typeof t.resultsContainer&&(t.resultsContainer=t.resultsContainer().attr("id",t.resultsContainerId)),t.destination instanceof e?t.destination.append(t.resultsContainer):"string"==typeof t.destination?t.destination=e(t.destination).append(t.resultsContainer):"function"==typeof t.destination&&(t.destination=t.destination().append(t.resultsContainer)),t):t}function r(t,a){a.destination=evaluteObjType(t),a.forms={};var n=e(a.destination).closest("form[data-form]").attr("id"),r=K.as(Kinetic.forms[n]);a.forms.self=r,a.forms.parent=K,Subform=a.forms.self}DataViewer.executeSearch=function(t,a){r(t,a),a.before&&a.before(a);var n={};a.resource.parameters&&e.each(a.resource.parameters,(function(t,r){"function"==typeof r?n[t]=r():"string"==typeof r&&(n[t]=e(a.resource.parameters[t]).val())}));try{a.forms.self("bridgedResource["+a.resource.name+"]").load({attributes:a.resource.attributes,values:n,success:function(n){"Single"==a.forms.self("bridgedResource["+a.resource.name+"]").type?a.response=[n]:a.response=n,e(a.response).length>0||!a.successEmpty?(a.success&&a.success(a),a.renderer&&a.renderer.type&&(a=a.renderer.type(t,a))):a.successEmpty&&(a.successEmpty(a),a=a.renderer.type(t,a)),a.complete&&a.complete(a)},error:function(e){a.error&&a.error(a),a.complete&&a.complete(a)}})}catch(s){alert('There was an error loading the Bridge Resource "'+a.resource.name+'"')}},DataViewer.renderFieldValues=function(t,a){r(t,a),a.response="undefined"==typeof a.response?[]:a.response,a.renderer.options.processSingleResult=!1,a.removeOnClick=!1,a.before&&a.before(a);var n={};e.each(a.data,(function(e,t){if(""!=t.setField&&"undefined"!=typeof t.setField){var r="field["+t.setField+"]";if(null!=a.forms.self(r))var s=a.forms.self(r).value();else if(null!=a.forms.parent(r))s=a.forms.parent(r).value();else s="";n[t.name]=s}})),a.response.push(n),(a=a.renderer.type(t,a)).complete&&a.complete(a)},DataViewer.renderResults=function(t,a){r(t,a),a.renderer.options.processSingleResult=!1,a.response="undefined"==typeof a.response?[]:a.response,e(a.response).length>0||!a.successEmpty?(a.success&&a.success(a),a.renderer&&a.renderer.type&&(a=a.renderer.type(t,a))):a.successEmpty&&a.successEmpty(a),a.complete&&a.complete(a)},DataViewer.setFieldsfromResults=function(t,a,n){var r=this;r.configObj=n,e.each(t,(function(t,n){""!=n.setField&&"undefined"!=typeof n.setField&&(fldArr=Array.isArray(n.setField)?n.setField:new Array(n.setField),e.each(fldArr,(function(t,s){s=s;e.each(r.configObj.forms,(function(e,t){null!==t("field["+s+"]")?t("field["+s+"]").value(a[n.name]):evaluteObjType(s).html(a[n.name])}))}))),n.callback&&n.callback(a[n.name],a)}))},evaluteObjType=function(t){return t instanceof e?t=t:"string"==typeof t?t=e(t):"function"==typeof t&&(t=t()),t},DataViewer.ucFirst=function(e){return e.substr(0,1).toUpperCase()+e.substr(1)},DataViewer.Renderers={DataTables:function(a,r){var s;r=e.extend({},t,r),r=n(r=e.extend(!0,{},r,r.renderer.options)),(s=r).columns=[],e.each(s.data,(function(e,t){t.data=t.name,s.columns.push(t)})),"undefined"===typeof r.response||Array.isArray(r.response)||alert("The response Obj must be an Array.  The table cannot be populated."),r.data=r.response,r.responsive&&r.columns.unshift({title:"&nbsp",defaultContent:"",class:"control",orderable:!1});var i=e(r.forms.self("form").element()).find("#"+r.resultsContainerId);if("undefined"!=typeof r.processSingleResult&&r.processSingleResult&&1==e(r.data).length){e.fn.DataTable.isDataTable(i)&&i.DataTable().destroy([!0]),DataViewer.setFieldsfromResults(r.columns,r.data[0],r);try{r.clickCallback&&r.clickCallback(null,r.data[0])}catch(l){alert("Error in clickCallback:\n"+l)}r.tableObj=e("A single result was processed, no result set was created")}else{e.fn.DataTable.isDataTable(i)&&(i.DataTable().destroy(),i.empty());var o={};o.data=r.data,o.columns=r.columns,o=e.extend(!0,{},o,r.renderer.options),r.tableObj=i.DataTable(o),i.off().on("click","td",(function(t){if(!e(this).hasClass("control")&&r.tableObj.data().any()){DataViewer.setFieldsfromResults(r.columns,r.tableObj.row(e(this).closest("tr")).data(),r);try{r.clickCallback&&r.clickCallback(e(this).closest("tr"),r.tableObj.row(e(this).closest("tr")).data(),r)}catch(l){alert("Error in clickCallback:\n"+l)}(r.removeOnClick||"undefined"==typeof r.removeOnClick)&&(r.tableObj.destroy(),i.empty())}}))}return r},UnorderedList:function(t,r){if(r=e.extend({},a,r),r=e.extend(!0,{},r,r.renderer.options),Array.isArray(r.response)||alert("The response Obj must be an Array.  The table cannot be populated."),"undefined"!=typeof(r=n(r)).processSingleResult&&r.processSingleResult&&1==e(r.response).length){e(r.forms.self("form").element()).find("#"+r.resultsContainerId).remove(),DataViewer.setFieldsfromResults(r.data,r.response[0],r);try{r.clickCallback&&r.clickCallback(null,r.response[0])}catch(i){alert("Error in clickCallback:\n"+i)}}else{this.$resultsList=e("<ul/>").attr("id","resultList");var s=this;e.each(r.response,(function(t,a){var n=t%2==0?"even":"odd";s.$singleResult=e("<li/>").attr("class","result "+n),e.each(r.data,(function(t,n){if("undefined"!=typeof a[n.name]||"undefined"!=typeof n.defaultContent){if(n.title){var r=e("<div/>").addClass("title "+n.class).html(n.title);s.$singleResult.append(r)}var i="";"undefined"!=typeof n.defaultContent?(i=n.defaultContent,s.$singleResult.data(n.name,n.defaultContent)):(i=a[n.name],s.$singleResult.data(n.name,a[n.name])),"undefined"!=typeof n.render&&(i=n.render(i,"display",a));var o=e("<div/>").addClass(n.class).html(i).data("name",n.name);s.$singleResult.append(o)}})),s.$resultsList.append(s.$singleResult)})),e(r.forms.self("form").element()).find("#"+r.resultsContainerId).empty().append(this.$resultsList),e(r.forms.self("form").element()).find("#"+r.resultsContainerId).off().on("click","li div",(function(t){if(!e(this).hasClass("control")){DataViewer.setFieldsfromResults(r.data,e(this).parent("li").data(),r);try{r.clickCallback&&r.clickCallback(e(this).parent("li"),e(this).parent("li").data())}catch(i){alert("Error in clickCallback:\n"+i)}(r.removeOnClick||"undefined"==typeof r.removeOnClick)&&e(r.forms.self("form").element()).find("#"+r.resultsContainerId).empty()}}))}return r}},DataViewer.render={moment:function(e){var t=(e=e||{}).from||"",a=e.to||"MMMM Do YYYY, h:mm:ss a",n=e.locale||"en";return function(e,r,s){return window.moment(e,t,n,!0).format("sort"===r||"type"===r?"x":a)}}},e.fn.UnorderedList=function(){var t=this;return{data:function(){var a=[];return e(t).find("li").each((function(t,n){var r={};e(n).find("div:not('.title')").each((function(t,a){r[e(a).data("name")]=e(a).text()})),a.push(r)})),a}}}}(jQuery)},2221:function(e,t,a){"use strict";a.r(t);var n=a(118),r=a(41),s=a(0),i=a.n(s),o=a(62),l=a.n(o),d=a(4),u=a(75),c=a.n(u),p=function(e,t){if(c()(e.element)&&(e.element=e.element[0]),!e.element||!(e.element instanceof Element))throw new Error("".concat(t," failed, element is required and must be a DOM Element"));return c()(e.anchor)&&(e.anchor=e.anchor[0]),e.anchor&&"string"===typeof e.anchor&&(e.anchor=e.element.closest(e.anchor),e.anchor||console.warn("".concat(t," could not find the anchor DOM Element and is using the element instead"))),e.anchor&&e.anchor instanceof Element||(e.anchor=e.element),e},f=function(e){var t=function(){for(var t;(t=e.anchor.previousElementSibling)&&t.matches("div.notification-wrapper");)l.a.unmountComponentAtNode(t)};return"all"===e.exit&&e.anchor.querySelectorAll("div.notification-wrapper").forEach((function(e){return l.a.unmountComponentAtNode(e)})),e.exit||e.toggle&&e.anchor.previousElementSibling&&e.anchor.previousElementSibling.matches("div.notification-wrapper")?(t(),!0):(e.allowMultiple||t(),!1)},m="undefined"!==typeof window.bundle?window.bundle:{};m.helpers=m.helpers||{},m.helpers.Typeahead=d.jb.Typeahead,m.helpers.Signature=d.jb.Signature,m.helpers.PDF=d.jb.PDF,m.helpers.Markdown=d.jb.Markdown,m.helpers.browserCheck=d.ob,m.helpers.addToast=d.mb,m.helpers.addToastAlert=d.nb,m.helpers.openConfirm=d.xb,m.helpers.openLoader=d.yb,m.helpers.closeLoader=d.pb,m.helpers.openModalForm=d.zb,m.helpers.closeModalForm=d.qb,m.helpers.alert=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p(Object(r.a)({color:"danger",message:"Error",style:{},closable:!0},e),"bundle.helpers.alert");if(!f(t)){var a=document.createElement("div");a.classList.add("notification-wrapper"),t.anchor.parentElement.insertBefore(a,t.anchor),Object(d.Cb)(i.a.createElement(d.b,Object.assign({},t,{domWrapper:a,handleClose:function(){return l.a.unmountComponentAtNode(a)}})),a)}},m.helpers.calendar=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.calendarSlug?Object(d.Cb)(i.a.createElement(d.g,{slug:t.calendarSlug,size:t.size,timezone:t.timezone,timezoneDisplay:t.timezoneDisplay,maxEventLimit:t.maxEventLimit,title:t.title}),e):console.warn("The calendar requires calendarSlug")},m.helpers.calendarConfigForm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(d.Cb)(i.a.createElement(d.h,t),e)},m.helpers.confirm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p(Object(r.a)(Object(r.a)({color:"danger",message:"Error",acceptButtonText:"OK",rejectButtonText:"Cancel",style:{},disable:!0},e),{},{onClose:!1===e.disable?e.onClose:function(t,a){t.disabled=!1,"function"===typeof e.onClose&&e.onClose(t,a)}}),"bundle.helpers.confirm");if(!f(t)){var a=document.createElement("div");a.classList.add("notification-wrapper"),t.anchor.parentElement.insertBefore(a,t.anchor),Object(d.Cb)(i.a.createElement(d.n,Object.assign({},t,{domWrapper:a,handleClose:function(){return l.a.unmountComponentAtNode(a)}})),a),t.disable&&(t.element.disabled=!0)}},m.helpers.schedulerWidget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!t.showSchedulerSelector&&!t.schedulerId||!t.showTypeSelector&&!t.source)l.a.unmountComponentAtNode(e);else{if("function"===typeof t.performSubmit&&Object.keys(a.validate()).length>0)return void t.performSubmit();Object(d.Cb)(i.a.createElement(d.S,Object.assign({},t,{appointmentRequestId:a.submission().id(),rescheduleDataMap:n,eventUpdated:function(e){n.scheduledEventId&&a.getFieldByName(n.scheduledEventId)&&a.getFieldByName(n.scheduledEventId).value(e.id),n.eventDate&&a.getFieldByName(n.eventDate)&&a.getFieldByName(n.eventDate).value(e.values.Date),n.eventTime&&a.getFieldByName(n.eventTime)&&a.getFieldByName(n.eventTime).value(e.values.Time),n.duration&&a.getFieldByName(n.duration)&&a.getFieldByName(n.duration).value(e.values.Duration)},eventDeleted:function(){n.scheduledEventId&&a.getFieldByName(n.scheduledEventId)&&a.getFieldByName(n.scheduledEventId).value(""),n.eventDate&&a.getFieldByName(n.eventDate)&&a.getFieldByName(n.eventDate).value(""),n.eventTime&&a.getFieldByName(n.eventTime)&&a.getFieldByName(n.eventTime).value(""),n.duration&&a.getFieldByName(n.duration)&&a.getFieldByName(n.duration).value("")}})),e)}},m.helpers.peopleSelect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.container,a=e.multiple,r=void 0!==a&&a,s=e.onChange,o=Object(n.a)(e,["container","multiple","onChange"]);t?Object(d.Cb)(i.a.createElement(d.O,{multiple:r,users:!0,valueMapper:function(e){return e.user},onChange:"function"===typeof s?function(e){return s(r?e.target.value:e.target.value[0])}:void 0,props:o||{}}),t):console.warn("bundle.helpers.peopleSelect must pass container as an option")},m.helpers.peopleSelect.remove=function(e){return l.a.unmountComponentAtNode(e)}},2222:function(e,t,a){"use strict";a.r(t);var n=a(2206),r=a.n(n),s=a(14),i=a.n(s),o=a(2220);a(2208),a(2209),a(2210),a(2211),a(2212);r.a.ajaxSetup({xhrFields:{withCredentials:!0}}),window.$=r.a,window.jQuery=r.a,window.moment=i.a,window._=o.a,window.Bloodhound=a(2213),a(2207),a(2214),a(2215),a(2216),a(2217),a(2218),a(2219),a(2221)}}]);
//# sourceMappingURL=137.c8226907.chunk.js.map