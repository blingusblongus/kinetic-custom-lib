(this.webpackJsonpesolutions_vteams=this.webpackJsonpesolutions_vteams||[]).push([[133],{1177:function(e,t,a){e.exports=a(2076)},124:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},1615:function(e,t,a){var n={"./af":[1014,0],"./af.js":[1014,0],"./ar":[1021,7],"./ar-dz":[1015,1],"./ar-dz.js":[1015,1],"./ar-kw":[1016,2],"./ar-kw.js":[1016,2],"./ar-ly":[1017,3],"./ar-ly.js":[1017,3],"./ar-ma":[1018,4],"./ar-ma.js":[1018,4],"./ar-sa":[1019,5],"./ar-sa.js":[1019,5],"./ar-tn":[1020,6],"./ar-tn.js":[1020,6],"./ar.js":[1021,7],"./az":[1022,8],"./az.js":[1022,8],"./be":[1023,9],"./be.js":[1023,9],"./bg":[1024,10],"./bg.js":[1024,10],"./bm":[1025,11],"./bm.js":[1025,11],"./bn":[1026,12],"./bn.js":[1026,12],"./bo":[1027,13],"./bo.js":[1027,13],"./br":[1028,14],"./br.js":[1028,14],"./bs":[1029,15],"./bs.js":[1029,15],"./ca":[1030,16],"./ca.js":[1030,16],"./cs":[1031,17],"./cs.js":[1031,17],"./cv":[1032,18],"./cv.js":[1032,18],"./cy":[1033,19],"./cy.js":[1033,19],"./da":[1034,20],"./da.js":[1034,20],"./de":[1037,23],"./de-at":[1035,21],"./de-at.js":[1035,21],"./de-ch":[1036,22],"./de-ch.js":[1036,22],"./de.js":[1037,23],"./dv":[1038,24],"./dv.js":[1038,24],"./el":[1039,25],"./el.js":[1039,25],"./en-au":[1040,26],"./en-au.js":[1040,26],"./en-ca":[1041,27],"./en-ca.js":[1041,27],"./en-gb":[1042,28],"./en-gb.js":[1042,28],"./en-ie":[1043,29],"./en-ie.js":[1043,29],"./en-il":[1044,30],"./en-il.js":[1044,30],"./en-in":[1045,31],"./en-in.js":[1045,31],"./en-nz":[1046,32],"./en-nz.js":[1046,32],"./en-sg":[1047,33],"./en-sg.js":[1047,33],"./eo":[1048,34],"./eo.js":[1048,34],"./es":[1051,37],"./es-do":[1049,35],"./es-do.js":[1049,35],"./es-us":[1050,36],"./es-us.js":[1050,36],"./es.js":[1051,37],"./et":[1052,38],"./et.js":[1052,38],"./eu":[1053,39],"./eu.js":[1053,39],"./fa":[1054,40],"./fa.js":[1054,40],"./fi":[1055,41],"./fi.js":[1055,41],"./fil":[1056,42],"./fil.js":[1056,42],"./fo":[1057,43],"./fo.js":[1057,43],"./fr":[1060,46],"./fr-ca":[1058,44],"./fr-ca.js":[1058,44],"./fr-ch":[1059,45],"./fr-ch.js":[1059,45],"./fr.js":[1060,46],"./fy":[1061,47],"./fy.js":[1061,47],"./ga":[1062,48],"./ga.js":[1062,48],"./gd":[1063,49],"./gd.js":[1063,49],"./gl":[1064,50],"./gl.js":[1064,50],"./gom-deva":[1065,51],"./gom-deva.js":[1065,51],"./gom-latn":[1066,52],"./gom-latn.js":[1066,52],"./gu":[1067,53],"./gu.js":[1067,53],"./he":[1068,54],"./he.js":[1068,54],"./hi":[1069,55],"./hi.js":[1069,55],"./hr":[1070,56],"./hr.js":[1070,56],"./hu":[1071,57],"./hu.js":[1071,57],"./hy-am":[1072,58],"./hy-am.js":[1072,58],"./id":[1073,59],"./id.js":[1073,59],"./is":[1074,60],"./is.js":[1074,60],"./it":[1076,62],"./it-ch":[1075,61],"./it-ch.js":[1075,61],"./it.js":[1076,62],"./ja":[1077,63],"./ja.js":[1077,63],"./jv":[1078,64],"./jv.js":[1078,64],"./ka":[1079,65],"./ka.js":[1079,65],"./kk":[1080,66],"./kk.js":[1080,66],"./km":[1081,67],"./km.js":[1081,67],"./kn":[1082,68],"./kn.js":[1082,68],"./ko":[1083,69],"./ko.js":[1083,69],"./ku":[1084,70],"./ku.js":[1084,70],"./ky":[1085,71],"./ky.js":[1085,71],"./lb":[1086,72],"./lb.js":[1086,72],"./lo":[1087,73],"./lo.js":[1087,73],"./lt":[1088,74],"./lt.js":[1088,74],"./lv":[1089,75],"./lv.js":[1089,75],"./me":[1090,76],"./me.js":[1090,76],"./mi":[1091,77],"./mi.js":[1091,77],"./mk":[1092,78],"./mk.js":[1092,78],"./ml":[1093,79],"./ml.js":[1093,79],"./mn":[1094,80],"./mn.js":[1094,80],"./mr":[1095,81],"./mr.js":[1095,81],"./ms":[1097,83],"./ms-my":[1096,82],"./ms-my.js":[1096,82],"./ms.js":[1097,83],"./mt":[1098,84],"./mt.js":[1098,84],"./my":[1099,85],"./my.js":[1099,85],"./nb":[1100,86],"./nb.js":[1100,86],"./ne":[1101,87],"./ne.js":[1101,87],"./nl":[1103,89],"./nl-be":[1102,88],"./nl-be.js":[1102,88],"./nl.js":[1103,89],"./nn":[1104,90],"./nn.js":[1104,90],"./oc-lnc":[1105,91],"./oc-lnc.js":[1105,91],"./pa-in":[1106,92],"./pa-in.js":[1106,92],"./pl":[1107,93],"./pl.js":[1107,93],"./pt":[1109,95],"./pt-br":[1108,94],"./pt-br.js":[1108,94],"./pt.js":[1109,95],"./ro":[1110,96],"./ro.js":[1110,96],"./ru":[1111,97],"./ru.js":[1111,97],"./sd":[1112,98],"./sd.js":[1112,98],"./se":[1113,99],"./se.js":[1113,99],"./si":[1114,100],"./si.js":[1114,100],"./sk":[1115,101],"./sk.js":[1115,101],"./sl":[1116,102],"./sl.js":[1116,102],"./sq":[1117,103],"./sq.js":[1117,103],"./sr":[1119,105],"./sr-cyrl":[1118,104],"./sr-cyrl.js":[1118,104],"./sr.js":[1119,105],"./ss":[1120,106],"./ss.js":[1120,106],"./sv":[1121,107],"./sv.js":[1121,107],"./sw":[1122,108],"./sw.js":[1122,108],"./ta":[1123,109],"./ta.js":[1123,109],"./te":[1124,110],"./te.js":[1124,110],"./tet":[1125,111],"./tet.js":[1125,111],"./tg":[1126,112],"./tg.js":[1126,112],"./th":[1127,113],"./th.js":[1127,113],"./tk":[1128,114],"./tk.js":[1128,114],"./tl-ph":[1129,115],"./tl-ph.js":[1129,115],"./tlh":[1130,116],"./tlh.js":[1130,116],"./tr":[1131,117],"./tr.js":[1131,117],"./tzl":[1132,118],"./tzl.js":[1132,118],"./tzm":[1134,120],"./tzm-latn":[1133,119],"./tzm-latn.js":[1133,119],"./tzm.js":[1134,120],"./ug-cn":[1135,121],"./ug-cn.js":[1135,121],"./uk":[1136,122],"./uk.js":[1136,122],"./ur":[1137,123],"./ur.js":[1137,123],"./uz":[1139,125],"./uz-latn":[1138,124],"./uz-latn.js":[1138,124],"./uz.js":[1139,125],"./vi":[1140,126],"./vi.js":[1140,126],"./x-pseudo":[1141,127],"./x-pseudo.js":[1141,127],"./yo":[1142,128],"./yo.js":[1142,128],"./zh-cn":[1143,129],"./zh-cn.js":[1143,129],"./zh-hk":[1144,130],"./zh-hk.js":[1144,130],"./zh-mo":[1145,131],"./zh-mo.js":[1145,131],"./zh-tw":[1146,132],"./zh-tw.js":[1146,132]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,7)}))}r.keys=function(){return Object.keys(n)},r.id=1615,e.exports=r},1769:function(e,t){},1853:function(e,t,a){e.exports=a.p+"static/media/login-background.91ec96af.png"},1854:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAABRCAYAAAC5dMiHAAAbBElEQVR42u1dCVzVxfb/XpBN9h1UZBEUWRTNJUUFkcTcyIXc912UHe4FFbVcsrJ8Zln/1PS9l6alZmWbmpmpWbk+q2eJ23NDAUFzQ+T+z/y89sjk/ub+7r3wijmfz/lcvN7fzPnNzPecMzNnzgBEyxPQRKvBq8SXtGrcI9bquIL4R+0MZG0ZAlsIEiTIOCKwBR8bj2wC1r+IbxJXVgEc+/uqNhc7Ts1D/+HDoRItJkiQEURW7XUC1bEqIHsUl2vnY8uK8WhYm7I6OQEb18ByY384bZwC+6wsoQAE/dkAp8YV4lsygGN8ZMWTiKktOTcNgOfeUcjULsPHJMte7RzsujwPb+0ahl6jIoW7K+jPA7hKDrAx/pEA17M2ZNwyEB3Ks7Fdpxwqqri7TFEUXErB/IGhaCR6U9CfAXBaTv6pNgC3eSAal+eQRVPjbjVyVZJbXFqUgszugXAUPSpIAE4hOVrD8rvRWEF135CRjYHuZNlOxLVvK+Z1ggTgFNE7TyHkbg4Oc8p3T5uPrE6NhZUTJACniD4aiDiq9wS3jBos7dQI3qJXBQnAKQFcEjpRvT8bALgXCXAeolcFCcApAVwGGmjnYM9D0S/V8S3tq5jYqSnsRK8KEoBTQCkpUBXORSbVXSy7aKLGF9uWoGVIiOhTQQJwimlyK3gUpUrRMNerXSzR4NjHSUgKcxcb4IIE4Iym4eEIKk1HHgHr6O/cSw1K6fP9rUnoH+EJF9GbggTgTER9Q+A0IQqdtbMwQZuHGdpcZO8bg6cHNUfzcA9Yi54UJABnYrK2BOICYR0XACdihwgvWIoeFCQAJ0iQIAE4Y2hmN1gXpMG7IBkRBVPQmbg9cZOCXLjs2PG/FU7m7QBVQTacCiYjiGRsS9yJuAVxg4LpsOng978X/rZ+GGwLUtCQ2jeK5I6hz1bs3+z72pbN2Rk48DUsSB5PasOmur7vSnJGE7cqmAb/glTYtvatZcDZWELlZgdr4vrE9g+xrYstX8c7U5NXU46dmyMs7Uy482ahkuqq1zUAboUZ6FCYAg3xJzeycEarkU4rFEuHctUoIS6iuWRhxVz8RL9ZQTxyRW80ZXLa1oOFuQeCvT3J6oB6VJ/j7lGIoPonFE7H21dS8DPJdVmS776c/5VXg0tX07GPfvtSYSr6HdegQaAr6jvb1gwIrSzuj4lp7eBdmI4nSI4FJPPe8hxceJS87Hv6zT76zUL6fXd6zoeet2HlmEO++lb3+5/YYfsQtKZ6U66k4p17c3Fc1/9VZbwqjQeN1K4XS9JwiGRdR6wuzETsoYVwdbaBVY0AjsBmMbk1fEvSMYgEWVSSiteIX5c4Da/S99m/TEOoV3395Xg4kHaZCFd6ZhQ9u5g+l+v4Vfp3fslb6JKdYprNbm97WLbwgjvJ1vtaOj7SrYLe1J1UqNQbx6nGHeJf72ThF5Jr4YwOiPR1gB1TOuYYGA7WsFy+CM4lryCe2uLdihwpPcav0mFh+SNX7IjTbbbVUpmLAgLgvIMT0YTkZQrNLPJakvqh8q0TQ+BH8o69kSmdACnTHbGq4JCX/e4aPfcNPT+BlcPKszQh8OytYPHiE9SmGehOdfzj7n0lcIOzTauOAzZmrt7Lw579I9HLnQBsVsCRdsf4KATQgP27niiRe6SFj5yQAcu+2XDU5mOD7kUeVc6ZJfEY/QdNYiAFusCmOBvRJDMD2j0D2qU6PqPNQza1QyNTWjsCGpq6w3Zpd3Si9lunG7TGysoG0wXtTMzZNRH+PvamXYxioIjzhxu1RxLV860BZzD1hfEdoPKGULnupgCdkzWsn+uKCGrT5VR+qQna9IGcv+wahiizAq5dQ1hR5yVxHKspOjEFzfUCbpRUziWZl3p3YhSClTZ2hAdczk/DQCrrlEkGQ9VwMw2Wj45EBIGunrGDwtEGKnU0nKlth1C5h0wo5wNmVu/DrUlo5+dkmrlTPQtYdPNHYwJHvs4Ca004mJklmZcQjMBWLZUrNVLWNvnRiKfydnKGERrCVwhwU8wLOF94kvBLZMucgfMnXoCXXsCNRJ6sxtFgNwGuvZLGbu8Lp5OTkaXzzbVmYAbgD8e3REtyLy2NABuyu5CVmIE0Ku+0mWTVSu6zBnve7Yeegc7Gu+p9Q9CM3PNVVGal2dp3Nv55fjvCFYLNekZHdCX5dplJvku7hmKkeQHXACH0Al/L+eW3ZuDLF17Q7w4Q4GbLuk0a7CXAdTS0sWP8YfvTBIyX3CnzDeAHvG5SFPyVzukifWCvnYcJstbeVIOYlNjavogNclFumWme5UPzw9V6pgOm4jtX07Ce6mtkoBKzmN0ZofSun5hNNg1O7hqBx8wGOFc7WCztIc2FrsqUd/PSdMyVK89cgIsPgurIBPQmn/2YGdyIR8lYcTMLC7I7wsng+QVp4cVx6CXlCDU/2P6bqU2NDev6ISzAxXAlMSwSTpen4xl6719rSN6bl1Pw4rBwuPHKGOIKR+r/fD3pO4zle1dSsGdyG9ibDXA0obcjt2cyR3lll1LQtbYAtywBfvTce4q0r/JFlYuF6ehl0MqZNVT/1xuB9OxuIy2WEpfuGs295iYEGX7GkObew+j5c4rmxMrb99K+EZjIZd2sYbGiF1pKi1vK2vMex7tdPzoOz5h1W6CpGzxImDVy5f2agR9HRcKnNgD3VCjw70mSK/kf7vQNGvxE2vB17UykzozGiMIMjKHvWED1JgNWte7eysaHixP5V1Q968OWBn2WgVa4nM3D6PNlejZ55wiM3NAfo+nvdCkPqUay6uWcg//49hHoFOjKvyiR2Q6+pNk/47YcbPFDgy+JF9K/J+e0x/Bf1ZhI/36W/v05fV7jfO8KqncX1R8kJ6OPPbVrLrWHARaU5PiAjInmhxSMXjaOFMomjNLmI5m+n038JvEXTKn+tj2Qiy1HJz20mGcGwPnznNIuTsNKN9sqprYGATcrWtqyWM85IFjm6ZWvP4kY0vQNEprAllw8VefGsEwIhOPgMARrZ2Eolbefc3BdKUhBD84tANX7g8kSG5Zm4lxRGjQkWwtiL5LZJtwTqiACDP1tR981ODQR7eidFnEqigoC6oI2vvyu2kdJmGrAXJNl/J6e0ZbkDYI7yWdlbwVVXADq0d+uGR0Qpn2WlKNG2k7gKa/o8vPQZGTod4MJcK5U5g7OMi/THHEyyRNCMjq09YPKh0xFQgeoEoJhQ987EzckDiPuVJSFxNJ09KW/Q6P9HlJUpgSchx0s/zUOMTzakwA3kgBnXUuAS6Tn/s3j9tJgW7Y6EY29q9mbsqLm7NceNtqDiCU5vuGZ4BdMwls8crrawobAk2qAdbtamomkTn5wlXH7VQQgj3PJkoa/zlHuyR+noKWfs/xcLr8TPErT8BHHZjbrt2/nd0FiGx84MOXySKVjA7RphPrzY/CEZAV5vJHZ2L5qGAJkAOfFgMTTrmUZmNulMf/xr5besIyqLrDelIBjkQrUKLkcDX2neA4Zw/ryHWhqwA1qA4uifOkuhZuyHZeLHe8NQBMPGTmtyEHs14FANw9Pkywlcv5/eQ5+3DJE3roT4ByLUiXXjNe6zSAgOVlwLnEEOMO+KAX/4JjHMpd6ZIir/N7cqp7oqrNacvKeXdINE9geGO/yPf1+MGeOm+MkR2K1ZdlBdTAdjXkVWUkqWrjZmSh4wVSAU1Enh7pL8zeeyf2eCC+48QwMUwNuYmv4kNV6k0PGc9uGYAR1NFdDW5E+GxyORpIvLz+ZvnRorPyC0eFxaHIvB4Wc/XOQLIU/talBK4o/T0aLSjXOy5afizcIcG4ycYiqt/tKKTEuy85ls7Aiqz2/m8ooqyPsb7F5qXxq/jKSYy6T51HlMPCQh9WCs13LyGPwtTRVrJCpAEfa2PJUMh6nAXebo/MWkEm355HP5ICLwmO6ya2cFfrmn/0NS7kXS/OO0myaSGtkI2zKCHBqufLI5RssrRTyWbfZ/s5wMLT/g1zgdDUVaznKP/x4Q/jpU5L58bC5nYeVHO7kSRpLw+zqGaYc6Peg53pzbI9U3lbjnfyYR7uBLF60OA8hvNs5pzRo6mqqGFNTAS7KG940UXybZ6XuzHTEedbni7owA+C6cbg8N/aNwGtK2nN4ODpxhF3dPDQGr3MAbinXRSsalJ9NRoeGjoa7PSxyvyQdw7kWTxaglY9j9QNvYay0GLWVQ94dyxIQqKR959Ac8XqGNEeU8yK+IHkiH1WGC8Hw8G7ydHiMA3FpBmbS+Hb6nwBcc3dYt/aBH5nouRzzIqkcck38uPdzTA84piFPyshYTPVOVQi45vT8FrmFEwLcBg7AbeJavtfgZKQnFOUrc7OHRcl8RHHNZ3LRmzyTaiNPFsYggg10OeCWZOBtdSflweYbnsJrHIpoHwGug55FEzb9Oc459i8UZ2JQuKcJQKcEcM3cYRkfCK/4AESdmEpujwbv6wJftRyd9goBzrUWAZdEv5ebF13YN8qwDeoqgGtI5a+QG3QEuG0cgPuSc7VvOwHOT4m87M69re9I2p5ni2AUDVRrPRauAxvocpvpBJjnjBmz9HyO7iYlffUcJgXQXQ/gHOmdVxkQD3vxwjTk0JiPIAPjWBOA+/cXQzBsSBhafTqEQJaHl+i7A9xAu8+lnw6WtKRVLQJuBEfU+n+o3s4KAccCt1+R68DTU/BtXKD+eQEB7ijnStpaApyP0jHg60DanmebRIMMtmGsx8I9wQa63D4ZASbXSMBN5oh/PU4KYIAewFnTGB5qYKQR++0edmMw4aDDkNZwDfczH+CYRvlIt+BQojBkZ1MbH8M0sRkAxyJE5Br5LNXbRhHgIqQN1Rdl2yIPh3dMqN49G9kSlqVpnKcCNFhJgPMyAnDuOuUpV888Gqj19Vi4PhwLGpcIMClGAo4pzbMy9ZwieYbpCVxWvZUIfzZ2FB27Yuf65mHB1nHok9YeDYNcOU+C1FgwrAb/WdkTST4Ohp2zMgvg5LXaGXIpWykEnAu5zS/ItsdMAty06i39j2lS6NF5zrZdRoDzMAJwbpyxmi8T4Bz0AK4vySIHuIsEmKlGAa6fdB5QThmdJnmG6ysnhMX9PouRUooEhacUmCWlfvr7u/0xdmE3NPKyl1m4qiHAlWln45mEYAVBsHUVcNk0GHgBp8ZSApy7UYDji+L4218JcE6k+ufGw5vKWsy7YqkntcJZ8lo2bhqAUa88AZfqImdqAnDMFV38YjwCPe0N38swA+DGsmV0ATgBOF0Ei8WsaARLQd18q+xyETmny3Pwzrv9EF3zgGONvx5j/5YJbxZnqaRxBeAE4MwJOGlfzgaWczqjCZX5golO/t8pz8bRzQMwoqYt3M4VAxDp5qa8cYVLWUOAU3OlGPhLAk5yL8nSLeoDd+18jKJnD3Ftx8hFK2Xj1JaBmFSTgLt8fS1SJo1TnstDAE5YuJoAHCN2MqGBI2xWJ8K/JB2Zd7Pxk87NvGcE6E5sGYD+Dla6xRQjJok8+QQrtbPwQX43NLe1EoAzCHBZAnA1DbjfgGcNlbsdbHcMRsjlVMy9p8YvumNMSqxeBc3pdq3uiyaGAq5SN1CLilPw3akpePFWJlc+kFLtEkwbHq0slKfOzuFypZPe5zjnyq+aYFvga456XtIXdF6DgGMHfs+YC3AP0/4JcD+bjIlkPL7R7UEbCrziT57GTHe2jmHAQ78Wp+LjI2OQNDTs/rGKHUOlEJtijo7amtsREY7WAnC8gNu8GaryuZx5MjVYZfTGN1+eyzkyG981A7inMJJr4zsGQ2EiciO7fmQBHH6eJAVO7NIdQeIHXi62L38S/kYFLy+OR8D1DOnou5yVu84SCyU0MTzPYV11KXWhXQc45w8bCHC+RgCOhaOd4AB2it7QrpoD3FRd7hC9oYgkz1MwMQW7QbVzFDx/mIBp9K7fcZ3m0IWaLU8geYw9LXBojHTCmyfd9vZ5MYgw9FxRHQfcNq68K6RxCXCNlcjL7twb3VIKuC7j0NLDZIKXawpweRye1SGSJx5moo6NYHVwHGKpTT7njCe+SoDTGA04TQf4l6XjoKwm1pAmmIFpbXz5Dp7WdZdSB7h1nMG15+YnopmjgjzJbjSvKMlCO64xkIcEvcdzagBwXfxheXCstEktZ1n2kjyPw4wUGwDL78eiD70zT0qJiq9G4BWTHEAtmCTN5W5waOL9bz6JcHcDrFwdB9wznNEP5drF6OHvZniWZHb1U0kaknnC85bEI6LakKUaAtyyHmhA7fspj0dF8jSHmamrP5y/H4O3uDyRXKwyCeCGhKHBtXQJ5fdkB4YGOSGu/KkA6jjgnuS+HScXi/2dDT8g+coiON3O4zilrcbX1G8N9JVVI4Drjqc4jhJVUnusXRjHn2nLGCJcPMuV/UyDf5osxUJhiuRX3+So9OfPByOM9zLGugy4AaFoeC0DBZxbA6c/G4xIJxvD0iwULiVQ53EkKtLgeQKcc20C7ulQuJI39SqHO1m6Yyhmh3ma/1LMYS2gOp0s5fi8ydHnb5kOcJkIosb+gXPTfH4tJhH60wDO1RYORalSwlq+YIRcrPxsOBwdbfhkXd8PLuU5HAszGsli9CPAWdUW4PqGod7pNOkc3Ckepb6ql+lXKB9F82MRQm2zlcO7q9g80ERzOEbtG8K2LA0aTm1cuH8MQnlS0NVxwFkVpUkuFPdeaYUGz+4aLa/M3usP1zvZ0s02NzjK3U/WJdRa5uYfTsCV0zg5cGw8ph+bDP+kMHlPJy4Q1ufTqR1ycYQz5cRXq3rD3+zWLRw+l1OkzAc8mdWKlycgx2SAY6nHSnLIyvFd/VRZnIrn3WxRXwCuemIp6Vp4wpMjT8jvFjcq1PjgTDLabRr0xxhWmgPVPzMFve9kSZu3N7gijDRI5Vld5gScVmdRS5klonHw5plp6H4mDQ5NHwpOa+oBizPZCLicigW6yBKejeaSHYMx210mcSs7KkZ1Bp6ZijXER6hNPqfP56jd+hEHxvpX3zcdG8GOfvtESSo2c8+xNfgXAa67SRPBNvdAfRpss3k2aysJmD9Nlk9jUJcBx4gGjlVxmnQLrCG5N9iALilX4+iVVKwjXkb8GvGm29lSpqoyzsHLwLY3KRRR9Tiu9TUAcA+HC5bRc2dL0vEpybiS+GX2WZImXfBxRTdn47pj+242vl3bV38KPmmsekr99OD2pMqq94iztitLx6krKdhNcqynzzfocwl9sjb8sDQdx3RJl8o537OCvIn3X+gGd5OmOvcirXExE+EccW7SmSF6gRU+DvqXsuvyxveDwdHCC95U5mYFMXwPLnm/rWPey+F/W3wgsKfENOZbVVYAuIfBd7eKvHcUvG/Rd6OgdrDWb91Y8MWpHATLLHQ8AOGdR7ShoacHzn6QhDFSJmgz3J7jpLNyPL520Ylk/ZuTdR1wjBo4QXUiE2G6G2TMdXXvH5LVXpyOv/UO1r8VYELAGX2fOlnvtWsT5VPYuTGvIR2Dakiu2zey8PaSHjqlZWrAsRtWDk9Ca2p4nuXsO+eS8U6Ud/UxlgJw9ynIBVZHx6OHLnmpuW9svaWdhc2Z0Ygy5N1rEXDl5LJ98XYfvoxwbrawI8u9oCbkupGJnTRvbvlb5TozztOBPxDguO41a9cAbto8zOe8f+3CgbHVg4UAN0v2HjMN9hCQHucGnHzCGAa4lgoB56y7e03/e+fj0I4MwyJDwj1gv3+0dBbsgBnvzb52Zgo2bR6LzoltDYt7rSXA3SGwbftHH/7ryghwDgS41WYHWwa+XBKPTr+rXErzpZa9j5sN6u9X9OTL1RjgAouPh6A9e4YnqPPAGKTpAdxE2TwTGnxMQIrkBNwQ3ZkmfeX9sm+cskzGwx+DrXYeZsq41PeKsrE7vZfhSZVa+cB293B0l27j5F0h45/vXTg7FctGRyJcybvXAuCukGJf/VoPRNL8yNIAwDELN8+MchXdIjdyQZdHGAH6z2TpWlf9Ky7Xjk/AksQQ/lAZFr71fn9po1Iu5OvygdHVJ+zcl45Q7QwpZ2J1A7hk51DMauPLJxsBroPuOt5qfe6iNKyY2F7ZgdmW/lB9PlG68FFf3vrrh8ZgodL9n7a+sHymM1p+Pxpz6F32GZltqlJSaBpsPJ+CCSMilB/z4QQcy3rNbos9aGDW7t+nXVRjB42LjKU94GNvZfAtPJbzY6T7FLaZIFPX7+9EV+PLWzORNbdLNQo7uTUcv2LHDGbiZWqsT+iBr3RJQXezDUTizQVTkNezCUIN7YBQdzhv7o+eVMbLultVdv2ubDU2X0mB5unQ6q+FGtgeqktZiKffv8ECUn97/n5ZH2jfQO6sMQ/do6zfLXP6MEm6OJFd0bSzSnlMpo9L07FoaLhxQa80J3XfNli6tuqPdajx2ZVUPDeoOb/M1VGMPxyTH0P0L5MwQ5cV+zT3/E4jDbSj5P6uKcvHWCqn6cBw40KhOAF36eAYzFjfD3FUdz79fhtnJu+70p3sGmzRvoe0JYPQOrmtdP2zIiKLWG9OF7QibyRFd8fAXt2dE4aujN5m+4nE72pfwrRn49B2fHvY6k0p0roRLJLC4J0UioikZmhF3FriUPo7FE3jAvTH0OmjZm6wpDK8iMP/UHYzNHsySL7sHk2got82Im7x2/P3y2qeFA2XsDDDZArzQH2qP4iej6pSHpMpvHew8lQFVamFVzV1NEMEKS8vmJBiG8OJyg2j+rqVZUgu+BIJ7EzJMWvODkpqCPgaaWthNQ30OaRgB5GyjaZnAvqEG37KwNjQrmA3gOp2Im7x7VjyCPKgpmfZvOoTyWrfX5HdJg3kXCzTLsDU98aiO/2+eVJ32Hl6Gi8vSxqU1ALWVKYftV+bNX3Rg6zmWKqPrRuwG3o2Uv2fS+kn2PToPu+UbkfSYA39bv66RIyg52OJQ5LawMbJDoLqEkU3gg0B0JvYnziYOJw4kjiUOIi4Uaw/XNhZLtt6pq1baSxlhBdUJJOjJFtjhOhkjiBuRhxI7BMbDLtALxNdiljdCrsTKS9/WFN9LsS+urqbEofp2vBBOzYh9iN283dWfu2WIEG1AjhBggQJwAkSJAAnSJAgAThBggTgBAkSgBOAEyRIAE6QIAE4QYIECcAJEiQAJ0iQAJwAnCBBAnCCBP1FANdHAE6QoJoDXAwB6ju59BUEuOGitQQJMpLyY+By+/45slJdzpXyh/hWeTa+WtULIaK1BAkykljexde6o+HF6ZhGvIb4PeKNOt5AvGjLQDzuYED+kb8a/T9NJFpyeA1nJwAAAABJRU5ErkJggg=="},1857:function(e,t,a){},1875:function(e,t){},1877:function(e,t){},2053:function(e,t,a){},2054:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2055:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2056:function(e,t,a){},2057:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2058:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2059:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2060:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2063:function(e,t,a){},2064:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2065:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2066:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2067:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2068:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2069:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2070:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2071:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2072:function(e,t,a){},2073:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2074:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2075:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},2076:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(116),l=a(40),s=(a(1178),a(1187),a(0)),c=a.n(s),i=a(60),o=a.n(i),u=a(82),m=a(42),p=a(128),d=a(61),f=a(90),E=a(904),b=a(1),g=a(3),h=a(4),S=h.hb.noPayload,v=h.hb.withPayload,O=h.hb.namespaceBuilder("app/about"),k={FETCH_ABOUT_REQUEST:O("FETCH_ABOUT_REQUEST"),FETCH_ABOUT_COMPLETE:O("FETCH_ABOUT_COMPLETE")},T={fetchAboutRequest:S(k.FETCH_ABOUT_REQUEST),fetchAboutComplete:v(k.FETCH_ABOUT_COMPLETE)},y=Object(g.f)({loading:!1,teams:null,users:null}),N=a(14),C=a.n(N),F=a(143),j=a(105),_=h.hb.noPayload,A=h.hb.withPayload,R=h.hb.namespaceBuilder("app"),x=["/login","/reset-password","/create-account"],w={FETCH_APP_REQUEST:R("FETCH_APP_REQUEST"),FETCH_APP_SUCCESS:R("FETCH_APP_SUCCESS"),FETCH_APP_FAILURE:R("FETCH_APP_FAILURE"),FETCH_APP_RESET:R("FETCH_APP_RESET"),FETCH_SPACE_REQUEST:R("FETCH_SPACE_REQUEST"),FETCH_SPACE_SUCCESS:R("FETCH_SPACE_SUCCESS"),FETCH_SPACE_FAILURE:R("FETCH_SPACE_FAILURE"),FETCH_KAPPS_REQUEST:R("FETCH_KAPPS_REQUEST"),FETCH_KAPPS_SUCCESS:R("FETCH_KAPPS_SUCCESS"),FETCH_KAPPS_FAILURE:R("FETCH_KAPPS_FAILURE"),FETCH_PROFILE_REQUEST:R("FETCH_PROFILE_REQUEST"),FETCH_PROFILE_SUCCESS:R("FETCH_PROFILE_SUCCESS"),FETCH_PROFILE_FAILURE:R("FETCH_PROFILE_FAILURE"),FETCH_LOCALE_META_REQUEST:R("FETCH_LOCALE_META_REQUEST"),FETCH_LOCALE_META_SUCCESS:R("FETCH_LOCALE_META_SUCCESS"),FETCH_LOCALE_META_FAILURE:R("FETCH_LOCALE_META_FAILURE"),SET_USER_LOCALE:R("SET_USER_LOCALE"),SET_KAPP_SLUG:R("SET_KAPP_SLUG"),SET_CORE_VERSION:R("SET_CORE_VERSION"),SET_AUTHENTICATED:R("SET_AUTHENTICATED")},I={fetchApp:A(w.FETCH_APP_REQUEST),fetchAppSuccess:A(w.FETCH_APP_SUCCESS),fetchAppFailure:A(w.FETCH_APP_FAILURE),fetchAppReset:A(w.FETCH_APP_RESET),fetchSpaceRequest:_(w.FETCH_SPACE_REQUEST),fetchSpaceSuccess:A(w.FETCH_SPACE_SUCCESS),fetchSpaceFailure:A(w.FETCH_SPACE_FAILURE),fetchKappsRequest:_(w.FETCH_KAPPS_REQUEST),fetchKappsSuccess:A(w.FETCH_KAPPS_SUCCESS),fetchKappsFailure:A(w.FETCH_KAPPS_FAILURE),fetchProfileRequest:_(w.FETCH_PROFILE_REQUEST),fetchProfileSuccess:A(w.FETCH_PROFILE_SUCCESS),fetchProfileFailure:A(w.FETCH_PROFILE_FAILURE),fetchLocaleMetaRequest:_(w.FETCH_LOCALE_META_REQUEST),fetchLocaleMetaSuccess:A(w.FETCH_LOCALE_META_SUCCESS),fetchLocaleMetaFailure:A(w.FETCH_LOCALE_META_FAILURE),setUserLocale:A(w.SET_USER_LOCALE),setKappSlug:A(w.SET_KAPP_SLUG),setCoreVersion:A(w.SET_CORE_VERSION),setAuthenticated:A(w.SET_AUTHENTICATED)},L=Object(g.f)({coreVersion:null,locales:null,timezones:null,locale:C.a.locale(),space:null,kapp:null,kapps:Object(g.a)(),profile:null,errors:Object(g.a)(),kappSlug:null,loading:!0,authenticated:null,authRedirect:null,authRoute:"/login"}),P=h.hb.noPayload,U=h.hb.withPayload,M=h.hb.namespaceBuilder("app/alerts"),D={FETCH_ALERTS_REQUEST:M("FETCH_ALERTS_REQUEST"),FETCH_ALERTS_SUCCESS:M("FETCH_ALERTS_SUCCESS"),FETCH_ALERTS_FAILURE:M("FETCH_ALERTS_FAILURE"),DELETE_ALERT_REQUEST:M("DELETE_ALERT_REQUEST")},q={fetchAlertsRequest:P(D.FETCH_ALERTS_REQUEST),fetchAlertsSuccess:U(D.FETCH_ALERTS_SUCCESS),fetchAlertsFailure:U(D.FETCH_ALERTS_FAILURE),deleteAlertRequest:U(D.DELETE_ALERT_REQUEST)},H=Object(g.f)({data:null,error:null}),B=h.hb.withPayload,z=h.hb.namespaceBuilder("app/forms"),Q={FETCH_FORM_REQUEST:z("FETCH_FORM_REQUEST"),FETCH_FORM_SUCCESS:z("FETCH_FORM_SUCCESS"),FETCH_FORM_FAILURE:z("FETCH_FORM_FAILURE")},K={fetchFormRequest:B(Q.FETCH_FORM_REQUEST),fetchFormSuccess:B(Q.FETCH_FORM_SUCCESS),fetchFormFailure:B(Q.FETCH_FORM_FAILURE)},G=h.hb.withPayload,W=h.hb.namespaceBuilder("app/layout"),V={SET_SIZE:W("SET_SIZE"),SET_SIDEBAR_OPEN:W("SET_SIDEBAR_OPEN"),SET_SUPPRESSED_SIDEBAR_OPEN:W("SET_SUPPRESSED_SIDEBAR_OPEN")},J={setSize:G(V.SET_SIZE),setSidebarOpen:G(V.SET_SIDEBAR_OPEN),setSuppressedSidebarOpen:G(V.SET_SUPPRESSED_SIDEBAR_OPEN)},X=Object(g.f)({size:"large",sidebarOpen:!0,suppressedSidebarOpen:!1}),Y=h.hb.withPayload,Z=h.hb.namespaceBuilder("app/profile"),$={FETCH_PROFILE_REQUEST:Z("FETCH_PROFILE_REQUEST"),FETCH_PROFILE_SUCCESS:Z("FETCH_PROFILE_SUCCESS"),FETCH_PROFILE_FAILURE:Z("FETCH_PROFILE_FAILURE"),UPDATE_PROFILE_REQUEST:Z("UPDATE_PROFILE_REQUEST"),UPDATE_PROFILE_SUCCESS:Z("UPDATE_PROFILE_SUCCESS")},ee={fetchProfileRequest:Y($.FETCH_PROFILE_REQUEST),fetchProfileSuccess:Y($.FETCH_PROFILE_SUCCESS),fetchProfileFailure:Y($.FETCH_PROFILE_FAILURE),updateProfileRequest:Y($.UPDATE_PROFILE_REQUEST),updateProfileSuccess:Y($.UPDATE_PROFILE_SUCCESS)},te=Object(g.f)({data:null,error:null}),ae=h.hb.noPayload,ne=h.hb.withPayload,re=h.hb.namespaceBuilder("app/teams"),le={FETCH_TEAMS_REQUEST:re("FETCH_TEAMS_REQUEST"),FETCH_TEAMS_SUCCESS:re("FETCH_TEAMS_SUCCESS"),FETCH_TEAMS_FAILURE:re("FETCH_TEAMS_FAILURE"),FETCH_TEAM_REQUEST:re("FETCH_TEAM_REQUEST"),FETCH_TEAM_SUCCESS:re("FETCH_TEAM_SUCCESS"),FETCH_TEAM_FAILURE:re("FETCH_TEAM_FAILURE")},se={fetchTeamsRequest:ae(le.FETCH_TEAMS_REQUEST),fetchTeamsSuccess:ne(le.FETCH_TEAMS_SUCCESS),fetchTeamsFailure:ne(le.FETCH_TEAMS_FAILURE),fetchTeamRequest:ne(le.FETCH_TEAM_REQUEST),fetchTeamSuccess:ne(le.FETCH_TEAM_SUCCESS),fetchTeamFailure:ne(le.FETCH_TEAM_FAILURE)},ce=Object(g.f)({error:null,data:null,roles:null,team:null,teamError:null}),ie={about:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case k.FETCH_ABOUT_REQUEST:return e.set("loading",!0);case k.FETCH_ABOUT_COMPLETE:return e.set("teams",n.teams).set("users",n.users).set("loading",!1);default:return e}},alerts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case D.FETCH_ALERTS_REQUEST:return e.set("error",null).set("data",null);case D.FETCH_ALERTS_SUCCESS:return e.set("error",null).set("data",n);case D.FETCH_ALERTS_FAILURE:return e.set("error",n).set("data",null);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case w.FETCH_APP_REQUEST:return e.set("errors",Object(g.a)());case w.FETCH_APP_SUCCESS:return e.set("errors",Object(g.a)()).set("loading",!1);case w.FETCH_APP_FAILURE:return e.update("errors",(function(e){return e.push(n)})).set("loading",!1);case w.FETCH_APP_RESET:return e.set("loading",!0);case w.FETCH_SPACE_SUCCESS:return e.set("space",n);case w.FETCH_SPACE_FAILURE:return e.update("errors",(function(e){return e.push(n)}));case w.FETCH_KAPPS_SUCCESS:return e.set("kapps",n).set("kapp",n.find((function(t){return t.slug===e.kappSlug})));case w.FETCH_KAPPS_FAILURE:return e.update("errors",(function(e){return e.push(n)}));case w.FETCH_PROFILE_SUCCESS:return e.set("profile",n);case w.FETCH_PROFILE_FAILURE:return e.update("errors",(function(e){return e.push(n)}));case w.FETCH_LOCALE_META_SUCCESS:return e.set("timezones",n.timezones).set("locales",n.locales);case w.FETCH_LOCALE_META_FAILURE:return e.update("errors",(function(e){return e.push(n)}));case w.SET_USER_LOCALE:return e.set("locale",n||C.a.locale());case w.SET_KAPP_SLUG:return e.set("kappSlug",n).set("kapp",e.kapps.find((function(e){return e.slug===n})));case w.SET_CORE_VERSION:return e.set("coreVersion",n);case F.b:var r="/kapps/:kappSlug",l=Object(u.f)(n.location.pathname,{path:r}),s=l&&l.params.kappSlug;return e.set("kappSlug",s).set("kapp",e.kapps.find((function(e){return e.slug===s}))).set("authRedirect",e.authenticated?null:x.some((function(e){return n.location.pathname.startsWith(e)}))?e.authRedirect:"".concat(n.location.pathname).concat(n.location.search)).set("authRoute",n.location.search?Object(j.parse)(n.location.search).invitationToken?"/create-account".concat(n.location.search):"/login".concat(n.location.search):"/login").update("loading",(function(t){return!(e.authenticated||!x.some((function(e){return n.location.pathname.startsWith(e)})))||t}));case w.SET_AUTHENTICATED:return e.set("loading",n!==e.authenticated).set("authenticated",n);default:return e}},forms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(g.b)(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Q.FETCH_FORM_REQUEST:return n.kappSlug&&n.formSlug?(e.has(n.kappSlug)?e:e.set(n.kappSlug,Object(g.b)())).setIn([n.kappSlug,n.formSlug],null):e;case Q.FETCH_FORM_SUCCESS:return e.setIn([n.kappSlug,n.formSlug],n.form);case Q.FETCH_FORM_FAILURE:return e.deleteIn([n.kappSlug,n.formSlug]);default:return e}},layout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case V.SET_SIZE:return e.set("size",n);case V.SET_SIDEBAR_OPEN:return e.set("sidebarOpen",n).set("suppressedSidebarOpen",n?e.suppressedSidebarOpen:n);case V.SET_SUPPRESSED_SIDEBAR_OPEN:return e.set("suppressedSidebarOpen",n).set("sidebarOpen",n||e.sidebarOpen);case F.b:return"small"===e.size?e.set("sidebarOpen",!1):e;default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case $.FETCH_PROFILE_REQUEST:return e.set("data",null).set("error",null);case $.FETCH_PROFILE_SUCCESS:return e.set("data",n);case $.FETCH_PROFILE_FAILURE:return e.set("error",n);case $.UPDATE_PROFILE_REQUEST:return e;case $.UPDATE_PROFILE_SUCCESS:return e.set("data",n);default:return e}},teams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case le.FETCH_TEAMS_REQUEST:return e.set("error",null).set("data",null).set("roles",null);case le.FETCH_TEAMS_SUCCESS:return e.set("data",Object(g.a)(n).filter((function(e){return"Role"!==e.name&&!e.name.startsWith("Role::")}))).set("roles",Object(g.a)(n).filter((function(e){return"Role"!==e.name&&e.name.startsWith("Role::")})));case le.FETCH_TEAMS_FAILURE:return e.set("error",n);case le.FETCH_TEAM_REQUEST:return e.set("teamError",null).set("team",null);case le.FETCH_TEAM_SUCCESS:return e.set("team",n);case le.FETCH_TEAM_FAILURE:return e.set("teamError",n);default:return e}}},oe=a(21),ue=a.n(oe),me=a(5),pe=ue.a.mark(fe),de=ue.a.mark(Ee);function fe(){var e,t,a,r,l,s,c,i;return ue.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(me.a)([Object(me.b)(b.ib),Object(me.b)(b.mb)]);case 2:return e=o.sent,t=Object(n.a)(e,2),a=t[0],r=a.teams,l=a.error,s=t[1],c=s.users,i=s.error,(l||i)&&Object(h.nb)({message:"Failed to load ".concat(l?"Teams":"").concat(l&&i?" and ":"").concat(i?"Users":"",".")}),o.next=13,Object(me.e)(T.fetchAboutComplete({teams:r,users:c}));case 13:case"end":return o.stop()}}),pe)}function Ee(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)(k.FETCH_ABOUT_REQUEST,fe);case 2:case"end":return e.stop()}}),de)}var be=ue.a.mark(ve),ge=ue.a.mark(Oe),he=ue.a.mark(ke),Se=new b.s(!0).eq("values[Status]","Active").index("values[Status]").include("details,values").limit(1e3).build();function ve(){var e,t,a,n;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(me.b)(b.Ab,{datastore:!0,form:"alerts",search:Se});case 2:if(e=r.sent,t=e.submissions,!(a=e.error)){r.next=10;break}return r.next=8,Object(me.e)(q.fetchAlertsFailure(a));case 8:r.next=13;break;case 10:return n=Object(g.a)(t).filter((function(e){return!e.values["End Date Time"]||C()(e.values["End Date Time"]).isAfter()})).filter((function(e){return!e.values["Start Date Time"]||C()(e.values["Start Date Time"]).isBefore()})).sortBy((function(e){return C()(e.values["Start Date Time"]||e.createdAt).unix()})).reverse(),r.next=13,Object(me.e)(q.fetchAlertsSuccess(n));case 13:case"end":return r.stop()}}),be)}function Oe(e){var t,a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(me.b)(b.Q,{datastore:!0,id:e.payload});case 2:if(t=n.sent,!(a=t.error)){n.next=8;break}Object(h.nb)({title:"Alert delete failed",message:a.message}),n.next=11;break;case 8:return Object(h.mb)("Alert deleted successfully"),n.next=11,Object(me.e)(q.fetchAlertsRequest());case 11:case"end":return n.stop()}}),ge)}function ke(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)(D.FETCH_ALERTS_REQUEST,ve);case 2:return e.next=4,Object(me.h)(D.DELETE_ALERT_REQUEST,Oe);case 4:case"end":return e.stop()}}),he)}var Te=a(49),ye=a(387),Ne=a.n(ye),Ce=ue.a.mark(Ue),Fe=ue.a.mark(Me),je=ue.a.mark(De),_e=ue.a.mark(qe),Ae=ue.a.mark(He),Re=ue.a.mark(Be),xe=ue.a.mark(ze),we=ue.a.mark(Qe),Ie=["details","attributes","attributesMap","authorization","userProfileAttributeDefinitions"],Le=["details","attributes","attributesMap","authorization","categories","categories.attributesMap","categories.categorizations.form","categories.categorizations.form.attributes[Icon]"],Pe=["details","attributes","profileAttributes","profileAttributesMap","memberships","memberships.team","memberships.team.attributes","memberships.team.attributesMap","memberships.team.memberships","memberships.team.memberships.user"];function Ue(e){var t,a,n,r,l,s,c,i;return ue.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e.payload,o.next=3,Object(me.f)((function(e){return e.app.authenticated}));case 3:return t=o.sent,o.next=6,Object(me.b)(b.nb,{public:!t});case 6:if(a=o.sent,n=a.version,!Ne.a.satisfies(Ne.a.coerce(n.version),">=".concat("5.0.0"))){o.next=40;break}return o.next=11,Object(me.a)([Object(me.b)(De,t),Object(me.b)(Me,t),Object(me.b)(He,t),Object(me.b)(Be,t),Object(me.e)(I.setCoreVersion(n.version))]);case 11:return o.next=13,Object(me.f)((function(e){return{profile:e.app.profile,kapps:e.app.kapps,errors:e.app.errors}}));case 13:if(r=o.sent,l=r.profile,s=r.kapps,!r.errors.isEmpty()){o.next=38;break}return o.next=20,Object(me.a)(Object(Te.a)(s.map((function(e){return Object(me.e)(Object(h.rb)({kappSlug:e.slug,value:h.hb.getAttributeValue(e,"Record Search History","")}))}))));case 20:if(!l.preferredLocale){o.next=26;break}return Object(b.rb)(l.preferredLocale),o.next=24,Object(me.e)(I.setUserLocale(l.preferredLocale));case 24:o.next=33;break;case 26:return o.next=28,Object(me.b)(b.X,{public:!t});case 28:return c=o.sent,i=c.defaultLocale,Object(b.rb)(i&&i.code||"en"),o.next=33,Object(me.e)(I.setUserLocale(i&&i.code));case 33:return o.next=35,Object(me.e)(I.fetchAppSuccess());case 35:if(!t){o.next=38;break}return o.next=38,Object(me.e)(q.fetchAlertsRequest());case 38:o.next=41;break;case 40:window.alert("You must be running Kinetic Request v".concat("5.0.0"," or later in order to use this app. You are currently running v").concat(n.version,"."));case 41:case"end":return o.stop()}}),Ce)}function Me(e){var t,a,n;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(me.b)(b.cb,{include:Le.join(","),limit:1e3,public:!e});case 2:if(t=r.sent,a=t.kapps,!(n=t.error)){r.next=10;break}return r.next=8,Object(me.e)(I.fetchKappsFailure(n));case 8:r.next=12;break;case 10:return r.next=12,Object(me.e)(I.fetchKappsSuccess(a));case 12:case"end":return r.stop()}}),Fe)}function De(e){var t,a,n;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(me.b)(b.fb,{include:Ie.join(","),public:!e});case 2:if(t=r.sent,a=t.space,!(n=t.error)){r.next=10;break}return r.next=8,Object(me.e)(I.fetchSpaceFailure(n));case 8:r.next=12;break;case 10:return r.next=12,Object(me.e)(I.fetchSpaceSuccess(a));case 12:case"end":return r.stop()}}),je)}function qe(){var e;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(me.f)((function(e){return e.app.authenticated}));case 2:return e=t.sent,t.next=5,Object(me.b)(He,e);case 5:case"end":return t.stop()}}),_e)}function He(e){var t,a,n;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(me.b)(b.eb,{include:Pe.join(","),public:!e});case 2:if(t=r.sent,a=t.profile,!(n=t.error)){r.next=10;break}return r.next=8,Object(me.e)(I.fetchProfileFailure(n));case 8:r.next=12;break;case 10:return r.next=12,Object(me.e)(I.fetchProfileSuccess(a));case 12:case"end":return r.stop()}}),Ae)}function Be(){var e,t,a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(me.a)({locales:Object(me.b)(b.db),timezones:Object(me.b)(b.jb)});case 2:return e=n.sent,t=e.locales,a=e.timezones,n.next=7,Object(me.e)(I.fetchLocaleMetaSuccess({locales:t.data.locales,timezones:a.data.timezones}));case 7:case"end":return n.stop()}}),Re)}function ze(){var e,t,a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(me.f)((function(e){return e.app}));case 2:if(e=n.sent,t=e.authenticated,a=e.authRedirect,!t||!a){n.next=8;break}return n.next=8,Object(me.e)(Object(F.d)(a));case 8:case"end":return n.stop()}}),xe)}function Qe(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)(w.FETCH_APP_REQUEST,Ue);case 2:return e.next=4,Object(me.h)(w.FETCH_PROFILE_REQUEST,qe);case 4:return e.next=6,Object(me.h)(w.SET_AUTHENTICATED,ze);case 6:case"end":return e.stop()}}),we)}var Ke=ue.a.mark(We),Ge=ue.a.mark(Ve);function We(e){var t,a,n,r,l;return ue.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.payload,a=(t=void 0===t?{}:t).kappSlug,n=t.formSlug,a&&n){s.next=5;break}return s.abrupt("return");case 5:return s.next=7,Object(me.b)(b.Z,{include:"details,authorization",kappSlug:a,formSlug:n});case 7:if(r=s.sent,l=r.form,!r.error){s.next=15;break}return s.next=13,Object(me.e)(K.fetchFormFailure({kappSlug:a,formSlug:n}));case 13:s.next=17;break;case 15:return s.next=17,Object(me.e)(K.fetchFormSuccess({kappSlug:a,formSlug:n,form:l}));case 17:case"end":return s.stop()}}),Ke)}function Ve(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)(Q.FETCH_FORM_REQUEST,We);case 2:case"end":return e.stop()}}),Ge)}var Je=ue.a.mark($e),Xe=ue.a.mark(et),Ye=ue.a.mark(tt),Ze=["attributes","attributesMap","profileAttributes","profileAttributesMap","memberships","memberships.team","memberships.team.attributes","memberships.team.memberships","memberships.team.memberships.user","space.userAttributeDefinitions","space.userProfileAttributeDefinitions"].join(",");function $e(e){var t,a,n,r,l;return ue.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(t=e.payload)){s.next=7;break}return s.next=4,Object(me.b)(b.lb,{include:Ze,username:t});case 4:s.t0=s.sent,s.next=10;break;case 7:return s.next=9,Object(me.b)(b.eb,{include:Ze});case 9:s.t0=s.sent;case 10:if(a=s.t0,n=a.user,r=a.profile,!(l=a.error)){s.next=19;break}return s.next=17,Object(me.e)(ee.fetchProfileFailure(l));case 17:s.next=21;break;case 19:return s.next=21,Object(me.e)(ee.fetchProfileSuccess(n||r));case 21:case"end":return s.stop()}}),Je)}function et(e){var t,a,n,r,l;return ue.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.next=3,Object(me.f)((function(e){return e.profile.data.preferredLocale}));case 3:return a=s.sent,s.next=6,Object(me.b)(b.Mb,{include:Ze,profile:t});case 6:if(n=s.sent,r=n.profile,!(l=n.error)){s.next=13;break}Object(h.nb)({title:"Failed to update profile",message:l.message}),s.next=19;break;case 13:return Object(h.mb)("Profile updated successfully"),s.next=16,Object(me.e)(ee.updateProfileSuccess(r));case 16:if(r.preferredLocale===a){s.next=19;break}return s.next=19,Object(me.e)(I.fetchApp());case 19:case"end":return s.stop()}}),Xe)}function tt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)($.FETCH_PROFILE_REQUEST,$e);case 2:return e.next=4,Object(me.h)($.UPDATE_PROFILE_REQUEST,et);case 4:case"end":return e.stop()}}),Ye)}var at=ue.a.mark(lt),nt=ue.a.mark(st),rt=ue.a.mark(ct);function lt(){var e,t,a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(me.b)(b.ib,{limit:1e3,include:"attributes,memberships.user,memberships.user.attributes,memberships.user.profileAttributes"});case 2:if(e=n.sent,t=e.teams,!(a=e.error)){n.next=10;break}return n.next=8,Object(me.e)(se.fetchTeamsFailure(a));case 8:n.next=12;break;case 10:return n.next=12,Object(me.e)(se.fetchTeamsSuccess(t));case 12:case"end":return n.stop()}}),at)}function st(e){var t,a,n,r;return ue.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,l.next=3,Object(me.b)(b.hb,{limit:1e3,include:"attributes,memberships.user,memberships.user.attributes,memberships.user.profileAttributes",teamSlug:t});case 3:if(a=l.sent,n=a.team,!(r=a.error)){l.next=11;break}return l.next=9,Object(me.e)(se.fetchTeamFailure(r));case 9:l.next=13;break;case 11:return l.next=13,Object(me.e)(se.fetchTeamSuccess(n));case 13:case"end":return l.stop()}}),nt)}function ct(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)(le.FETCH_TEAMS_REQUEST,lt);case 2:return e.next=4,Object(me.h)(le.FETCH_TEAM_REQUEST,st);case 4:case"end":return e.stop()}}),rt)}var it=ue.a.mark(ot);function ot(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([Ee(),ke(),Qe(),Ve(),tt(),ct()]);case 2:case"end":return e.stop()}}),it)}console.log("Configuring app package redux store");var ut=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"APP"}):d.d,mt=Object(f.a)(),pt=Object(d.e)(Object(d.c)(Object(l.a)(Object(l.a)({},ie),{},{router:Object(p.b)(b.qb)})),ut(Object(d.a)(Object(E.a)(b.qb),mt)));mt.run(ot);var dt=a(258),ft=a.n(dt),Et=a(6),bt=a(51),gt=(a(1853),a(1854),a(981)),ht=a.n(gt),St=function(e){var t=e.children;return c.a.createElement("div",{className:"login-container"},c.a.createElement("div",{className:"login-wrapper"},t,c.a.createElement("div",{className:"login-image-container",style:{backgroundImage:"url(".concat(ht.a,")"),filter:"drop-shadow(.5rem .5rem .5rem gray)"}},c.a.createElement("div",{className:"kinops-text"}))))},vt=a(2187),Ot=a(2143),kt=a(2144),Tt=function(e){var t=e.loginProps,a=Object(u.g)();return c.a.createElement(St,null,c.a.createElement(dt.Helmet,null,c.a.createElement("title",null,"signin | kinops ")),c.a.createElement(Nt,t,(function(e){var n=e.fields,r=e.buttons;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,c.a.createElement(b.k,null,"Sign In"),c.a.createElement("small",null,c.a.createElement(bt.a,{to:"/create-account".concat(a.search)},c.a.createElement(b.k,null,"Create Account")))),c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.username,n.password,c.a.createElement("span",{className:"text-danger"},c.a.createElement(b.k,null,t.error||" "))),c.a.createElement("div",{className:"button-group"},r.login,c.a.createElement("hr",null),r.ssoLogin&&c.a.createElement(c.a.Fragment,null,r.ssoLogin,c.a.createElement("hr",null)),c.a.createElement(bt.a,{className:"btn btn-link",to:"/reset-password".concat(a.search)},c.a.createElement(b.k,null,"Reset Password"))))})))},yt=function(e){var t=e.loginProps;return c.a.createElement(vt.a,{isOpen:!0,toggle:b.ub,size:"lg",backdrop:"static"},c.a.createElement(Nt,t,(function(e){var a=e.fields,n=e.buttons;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"modal-header"},c.a.createElement("h4",{className:"modal-title"},c.a.createElement("button",{type:"button",className:"btn btn-link",onClick:b.ub},c.a.createElement(b.k,null,"Cancel")),c.a.createElement("span",null,c.a.createElement(b.k,null,"Your Session Timed Out")))),c.a.createElement(Ot.a,null,c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.username,a.password,c.a.createElement("span",{className:"text-danger"},c.a.createElement(b.k,null,t.error||" ")))),c.a.createElement(kt.a,null,n.login,n.ssoLogin))})))},Nt=function(e){e.error;var t=e.username,a=e.onChangeUsername,n=e.password,r=e.onChangePassword,l=e.onLogin,s=e.onSso,i=e.pending,o=e.children,u={username:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"username"},c.a.createElement(b.k,null,"Email Address")),c.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:"wally@kineticdata.com",value:t,onChange:a})),password:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"password"},c.a.createElement(b.k,null,"Password")),c.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"password",value:n,onChange:r}))},m={login:c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:i||!t||!n},c.a.createElement(b.k,null,"Sign In")),ssoLogin:s?c.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:s,disabled:i},c.a.createElement(b.k,null,"Enterprise Sign In")):void 0};return c.a.createElement("form",{className:"login-form-container",onSubmit:l},"function"===typeof o?o({fields:u,buttons:m}):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,Object.values(u)),c.a.createElement("div",null,Object.values(m))))},Ct=a(86),Ft=a(13),jt=a.n(Ft),_t=function(){var e=Object(u.g)(),t=Object(u.h)().token;return c.a.createElement(St,null,c.a.createElement(dt.Helmet,null,c.a.createElement("title",null,"Reset Password | kinops")),t?c.a.createElement(Rt,{token:t,username:Object(j.parse)(e.search).u},(function(t){var a=t.fields,n=t.buttons,r=t.messages;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,c.a.createElement(b.k,null,"Request Password Reset")),c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.username,a.password,a.confirmPassword,r.validations,r.error),c.a.createElement("div",{className:"button-group"},n.reset,c.a.createElement("hr",null),c.a.createElement(bt.a,{className:"btn btn-link",to:"/login".concat(e.search)},"\u2190 ",c.a.createElement(b.k,null,"Back to Sign In"))))})):c.a.createElement(At,null,(function(t){var a=t.fields,n=t.buttons,r=t.messages;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,c.a.createElement(b.k,null,"Reset Password")),c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.username,r.error,r.success),c.a.createElement("div",{className:"button-group"},n.reset,c.a.createElement("hr",null),c.a.createElement(bt.a,{className:"btn btn-link",to:"/login".concat(e.search)},"\u2190 ",c.a.createElement(b.k,null,"Back to Sign In"))))})))},At=function(e){var t=e.children,a=Object(s.useState)(!1),r=Object(n.a)(a,2),l=r[0],i=r[1],o=Object(s.useState)(!1),u=Object(n.a)(o,2),m=u[0],p=u[1],d=Object(s.useState)(null),f=Object(n.a)(d,2),E=f[0],g=f[1],h=Object(s.useState)(""),S=Object(n.a)(h,2),v=S[0],O=S[1],k=Object(s.useCallback)(function(){var e=Object(Ct.a)(ue.a.mark((function e(t){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i(!0),p(!1),g(null),e.prev=4,e.next=7,Object(b.J)({kappSlug:"admin",formSlug:"account-password-reset",values:{Username:v,"Display Name":null,"Password Reset URL":null},public:!0});case 7:a=e.sent,i(!1),a.error?g(a.error.fieldConstraintViolations&&a.error.fieldConstraintViolations.Username?"You must enter a valid email address.":"There was a problem requesting a password reset, try again later."):p(v),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),i(!1),g("There was a problem requesting a password reset, try again later.");case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),[v,g,i,p]),T={username:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"username",className:"required"},c.a.createElement(b.k,null,"Email Address")),c.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:"wally@kineticdata.com",value:v,onChange:function(e){return O(e.target.value)},"aria-required":"true"}))},y={reset:c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:l||!v||m===v},c.a.createElement(b.k,null,"Request Reset"))},N={error:E&&c.a.createElement("div",{className:"text-danger"},c.a.createElement(b.k,null,E)),success:m&&c.a.createElement("div",{className:"text-info"},c.a.createElement("p",null,c.a.createElement("strong",null,c.a.createElement(b.k,null,"Password reset successfully requested."))),c.a.createElement("p",null,c.a.createElement(b.k,null,"In a few moments you should receive an email which will allow you to reset your password.")),c.a.createElement("p",null,c.a.createElement(b.k,null,"If you don't receive an email, contact your kinops administrator.")))};return c.a.createElement("form",{className:"login-form-container",onSubmit:k},"function"===typeof t?t({fields:T,buttons:y,messages:N}):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,Object.values(T)),c.a.createElement("div",null,Object.values(N)),c.a.createElement("div",null,Object.values(y))))},Rt=Object(m.c)(null,{push:F.d})((function(e){var t=e.push,a=e.token,r=e.username,l=e.children,i=Object(s.useState)(!1),o=Object(n.a)(i,2),u=o[0],m=o[1],p=Object(s.useState)(null),d=Object(n.a)(p,2),f=d[0],E=d[1],g=Object(s.useState)(""),h=Object(n.a)(g,2),S=h[0],v=h[1],O=Object(s.useState)(""),k=Object(n.a)(O,2),T=k[0],y=k[1],N=Object(s.useState)(!1),C=Object(n.a)(N,2),F=C[0],_=C[1],A=Object(s.useCallback)(function(){var e=Object(Ct.a)(ue.a.mark((function e(n){var l;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),m(!0),E(null),e.prev=3,l=Object(j.stringify)({username:r,token:a,password:S,confirmPassword:T}),e.next=7,jt.a.request({method:"post",url:"".concat(b.C.spaceLocation(),"/app/reset-password/token"),data:l});case 7:e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(3),302===e.t0.response.status){e.next=14;break}return E("There was a problem resetting your password! Please note that password reset links may only be used once."),e.abrupt("return");case 14:t("/login");case 15:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),[r,S,T,a,E,m,t]),R={username:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"email"},c.a.createElement(b.k,null,"Email Address")),c.a.createElement("span",{className:"form-control-plaintext"},r)),password:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"password",className:"required"},c.a.createElement(b.k,null,"New Password")),c.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"password",value:S,onChange:function(e){return v(e.target.value)},"aria-required":"true"})),confirmPassword:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"password",className:"required"},c.a.createElement(b.k,null,"Confirm Password")),c.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"password",value:T,onChange:function(e){return y(e.target.value)},onBlur:function(){return _(!0)},"aria-required":"true"}))},x={reset:c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:u||S!==T||!S},c.a.createElement(b.k,null,"Reset"))},w={validations:S!==T&&(S||T)&&F&&c.a.createElement("div",{className:"text-danger"},c.a.createElement(b.k,null,"Passwords must match.")),error:f&&c.a.createElement("div",{className:"text-danger"},c.a.createElement(b.k,null,f))};return c.a.createElement("form",{className:"login-form-container",onSubmit:A},"function"===typeof l?l({fields:R,buttons:x,messages:w}):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,Object.values(R)),c.a.createElement("div",null,Object.values(w)),c.a.createElement("div",null,Object.values(x))))})),xt=function(){var e=Object(u.g)(),t=Object(j.parse)(e.search),a=t.invitationToken,n=t.email;return c.a.createElement(St,null,c.a.createElement(ft.a,null,c.a.createElement("title",null,"Create Account | kinops")),a?c.a.createElement(It,{invitationToken:a,email:n,location:e},(function(t){var a=t.fields,n=t.buttons,r=t.messages;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,c.a.createElement(b.k,null,"Create Account")),c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},c.a.createElement("div",{className:"form-group__columns"},a.firstName,a.lastName),a.email,a.password,a.confirmPassword,r.validations,r.error),c.a.createElement("div",{className:"button-group"},n.submit,c.a.createElement("hr",null),c.a.createElement(bt.a,{className:"btn btn-link",to:"/login".concat(e.search)},c.a.createElement(b.k,null,"Already have an account? Sign In"))))})):c.a.createElement(wt,{email:n},(function(t){var a=t.fields,n=t.buttons,r=t.messages;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,c.a.createElement(b.k,null,"Get Started")),c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.success||c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group__columns"},a.firstName,a.lastName),a.email,a.phoneNumber,a.comments,r.error)),c.a.createElement("div",{className:"button-group"},n.submit,c.a.createElement("hr",null),c.a.createElement(bt.a,{className:"btn btn-link",to:"/login".concat(e.search)},"\u2190 ",c.a.createElement(b.k,null,"Back to Sign In"))))})))},wt=function(e){var t=e.children,a=e.email,r=Object(s.useState)(!1),l=Object(n.a)(r,2),i=l[0],o=l[1],u=Object(s.useState)(!1),m=Object(n.a)(u,2),p=m[0],d=m[1],f=Object(s.useState)(null),E=Object(n.a)(f,2),g=E[0],h=E[1],S=Object(s.useState)(""),v=Object(n.a)(S,2),O=v[0],k=v[1],T=Object(s.useState)(""),y=Object(n.a)(T,2),N=y[0],C=y[1],F=Object(s.useState)(a||""),j=Object(n.a)(F,2),_=j[0],A=j[1],R=Object(s.useState)(""),x=Object(n.a)(R,2),w=x[0],I=x[1],L=Object(s.useState)(""),P=Object(n.a)(L,2),U=P[0],M=P[1],D=Object(s.useCallback)(function(){var e=Object(Ct.a)(ue.a.mark((function e(t){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o(!0),d(!1),h(null),e.prev=4,e.next=7,Object(b.J)({kappSlug:"admin",formSlug:"account-request",values:{"First Name":O,"Last Name":N,Email:_,"Phone Number":w,Comments:U},public:!0});case 7:a=e.sent,o(!1),a.error?h(a.error.fieldConstraintViolations&&a.error.fieldConstraintViolations.Email?"You must enter a valid email address.":"There was a problem requesting your new account. Please verify the information you entered."):d(_),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),o(!1),h("There was a problem requesting your new account. Please verify the information you entered.");case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),[O,N,_,w,U,h,o,d]),q={firstName:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"firstName",className:"required"},c.a.createElement(b.k,null,"First Name")),c.a.createElement("input",{type:"text",className:"form-control",id:"firstName",value:O,onChange:function(e){return k(e.target.value)},"aria-required":"true"})),lastName:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"lastName",className:"required"},c.a.createElement(b.k,null,"Last Name")),c.a.createElement("input",{type:"text",className:"form-control",id:"lastName",value:N,onChange:function(e){return C(e.target.value)},"aria-required":"true"})),email:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"email",className:"required"},c.a.createElement(b.k,null,"Email Address")),c.a.createElement("input",{type:"text",className:"form-control",id:"email",value:_,onChange:function(e){return A(e.target.value)},"aria-required":"true"})),phoneNumber:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"phoneNumber"},c.a.createElement(b.k,null,"Phone Number")),c.a.createElement("input",{type:"text",className:"form-control",id:"phoneNumber",value:w,onChange:function(e){return I(e.target.value)}})),comments:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"comments"},c.a.createElement(b.k,null,"Comments")),c.a.createElement("input",{type:"text",className:"form-control",id:"comments",value:U,onChange:function(e){return M(e.target.value)}}))},H={submit:c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:i||!O||!N||!_||p===_},c.a.createElement(b.k,null,"Request Account"))},B={error:g&&c.a.createElement("div",{className:"text-danger"},c.a.createElement("p",null,c.a.createElement(b.k,null,g))),success:p&&c.a.createElement("div",{className:"text-info"},c.a.createElement("p",null,c.a.createElement("strong",null,c.a.createElement(b.k,null,"Your request for a new account has been received."))),c.a.createElement("p",null,c.a.createElement(b.k,null,"Your request for a new account is being reviewed by the team. Once approved you will receive an email with further instructions.")))};return c.a.createElement("form",{className:"login-form-container",onSubmit:D},"function"===typeof t?t({fields:q,buttons:H,messages:B}):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,Object.values(q)),c.a.createElement("div",null,Object.values(B)),c.a.createElement("div",null,Object.values(H))))},It=Object(m.c)(null,{push:F.d})((function(e){var t=e.children,a=e.invitationToken,r=e.email,l=e.location,i=Object(s.useState)(!1),o=Object(n.a)(i,2),u=o[0],m=o[1],p=Object(s.useState)(null),d=Object(n.a)(p,2),f=d[0],E=d[1],g=Object(s.useState)(""),h=Object(n.a)(g,2),S=h[0],v=h[1],O=Object(s.useState)(""),k=Object(n.a)(O,2),T=k[0],y=k[1],N=Object(s.useState)(r||""),C=Object(n.a)(N,2),j=C[0],_=C[1],A=Object(s.useState)(""),R=Object(n.a)(A,2),x=R[0],w=R[1],I=Object(s.useState)(""),L=Object(n.a)(I,2),P=L[0],U=L[1],M=Object(s.useState)(!1),D=Object(n.a)(M,2),q=D[0],H=D[1],B=Object(s.useCallback)(Object(Ct.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jt.a.post("".concat(b.C.spaceLocation(),"/app/login.do"),{j_username:j,j_password:x},{__bypassAuthInterceptor:!0});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(F.d)("/login".concat(l.search));case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),[j,x,l]),z=Object(s.useCallback)(function(){var e=Object(Ct.a)(ue.a.mark((function e(t){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(!0),E(null),e.prev=3,e.next=6,jt.a.post("".concat(b.C.apiLocation(),"/users?token=").concat(a),{username:j,email:j,password:x,displayName:"".concat(S," ").concat(T),invitationToken:a});case 6:B(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),n=404===e.t0.response.status?"Invitation expired.":400===e.t0.response.status?e.t0.response.data.error:"",E("There was a problem creating your new account. ".concat(n));case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),[S,T,j,x,a,E,m,B]),Q={firstName:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"firstName",className:"required"},c.a.createElement(b.k,null,"First Name")),c.a.createElement("input",{type:"text",className:"form-control",id:"firstName",value:S,onChange:function(e){return v(e.target.value)},"aria-required":"true"})),lastName:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"lastName",className:"required"},c.a.createElement(b.k,null,"Last Name")),c.a.createElement("input",{type:"text",className:"form-control",id:"lastName",value:T,onChange:function(e){return y(e.target.value)},"aria-required":"true"})),email:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"email",className:"required"},c.a.createElement(b.k,null,"Email Address")),c.a.createElement("input",{type:"text",className:"form-control",id:"email",value:j,onChange:function(e){return _(e.target.value)},"aria-required":"true"})),password:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"password",className:"required"},c.a.createElement(b.k,null,"New Password")),c.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"password",value:x,onChange:function(e){return w(e.target.value)},"aria-required":"true"})),confirmPassword:c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"confirm-password",className:"required"},c.a.createElement(b.k,null,"Confirm Password")),c.a.createElement("input",{type:"password",className:"form-control",id:"confirm-password",placeholder:"password",value:P,onChange:function(e){return U(e.target.value)},onBlur:function(){return H(!0)},"aria-required":"true"}))},K={submit:c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:u||!S||!T||!j||x!==P||!x},c.a.createElement(b.k,null,"Accept Invitation"))},G={validations:x!==P&&(x||P)&&q&&c.a.createElement("div",{className:"text-danger"},c.a.createElement("p",null,c.a.createElement(b.k,null,"Passwords must match."))),error:f&&c.a.createElement("div",{className:"text-danger"},c.a.createElement("p",null,c.a.createElement(b.k,null,f)))};return c.a.createElement("form",{className:"login-form-container",onSubmit:z},"function"===typeof t?t({fields:Q,buttons:K,messages:G}):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,Object.values(Q)),c.a.createElement("div",null,Object.values(G)),c.a.createElement("div",null,Object.values(K))))})),Lt=Object(Et.a)(Object(m.c)((function(e){return{authenticated:e.app.authenticated,authRedirect:e.app.authRedirect}}),{setAuthenticated:I.setAuthenticated}))((function(e){var t=e.loggedIn,a=e.loginProps,n=e.timedOut,r=e.authenticated,l=e.setAuthenticated,i=e.authRedirect,o=(e.location,e.children);return Object(s.useEffect)((function(){l(t)}),[t,l,n]),c.a.createElement(c.a.Fragment,null,n&&c.a.createElement(yt,{loginProps:a}),c.a.createElement(u.d,null,r?c.a.createElement(u.a,{path:["/login","/reset-password","/create-account"],to:i||"/"}):[c.a.createElement(u.b,{path:"/login",key:"login"},c.a.createElement(Tt,{loginProps:a})),c.a.createElement(u.b,{path:"/reset-password/:token?",key:"reset",component:_t}),c.a.createElement(u.b,{path:"/create-account",key:"create",component:xt})],c.a.createElement(u.b,{path:"/"},o)))})),Pt=(a(1855),a(1856),a(1857),a(16)),Ut=a.n(Pt),Mt=function(e){var t=e.authenticated,a=e.sidebar,n=e.header,r=e.main,l=e.classNames,s=void 0===l?{}:l,i=e.sidebarRef,o=e.headerRef,u=e.bodyRef,m=e.asideRef,p=e.mobile,d=e.sidebarOpen,f=e.toggleSidebar,E=e.resizeAside,b=e.toggleAside,g=e.asideWidth;return c.a.createElement("div",{className:"app-wrapper"},!!a&&t&&c.a.createElement("nav",{className:Ut()("app-sidebar",{closed:!p&&-1===d,closing:!p&&0===d,open:p&&d>0}),ref:i},a),c.a.createElement("div",{className:Ut()("app-body",s.body),ref:u,onClick:p&&a&&d>0?f:void 0},!!n&&c.a.createElement("header",{className:Ut()("app-header",s.header),ref:o,style:g&&!p?{marginRight:"-".concat(g[1],"px")}:void 0},n),c.a.createElement("main",{className:Ut()("app-main",s.main),style:g&&!p?{marginRight:"-".concat(g[1],"px")}:void 0},r)),c.a.createElement("aside",{className:"app-aside",id:"app-aside",ref:m,style:g&&!p?{flexBasis:"".concat(g[0],"px")}:void 0},c.a.createElement("div",{className:"controls",onMouseDown:E},c.a.createElement("button",{className:"aside-toggle","aria-label":"Toggle Aside",onClick:b,onMouseDown:function(e){return e.stopPropagation()}},c.a.createElement("span",{className:"fa fa-chevron-right"})))))},Dt=a(386),qt=a(2136),Ht=a(2137),Bt={fetchAlertsRequest:q.fetchAlertsRequest},zt=Object(Et.a)(Object(m.c)((function(e){return{alerts:e.alerts.data,error:e.alerts.error,isSpaceAdmin:e.app.profile.spaceAdmin}}),Bt),Object(Et.g)("isOpen","setIsOpen",!1),Object(Et.d)({toggle:function(e){return function(){return e.setIsOpen((function(e){return!e}))}}}))((function(e){var t=e.alerts,a=e.error,n=e.fetchAlertsRequest,r=e.isSpaceAdmin,l=e.isOpen,i=e.toggle;return c.a.createElement(Dt.a,{isOpen:l,toggle:i},c.a.createElement(qt.a,{nav:!0,role:"button","aria-label":"Alerts"},c.a.createElement("span",{className:"fa fa-fw fa-bell",alt:"Alerts"}),t&&t.size>0&&c.a.createElement("span",{className:"badge badge-secondary"},t.size),a&&c.a.createElement("span",{className:"badge badge-secondary"},"!")),c.a.createElement(Ht.a,{right:!0,className:"alerts-menu"},c.a.createElement("div",{className:"alerts-header"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Alerts")),c.a.createElement("div",{className:"actions"},c.a.createElement("button",{className:"btn btn-link",onClick:n},c.a.createElement(b.k,null,"Refresh")),c.a.createElement("span",{className:"divider"},"\u2022"),c.a.createElement(bt.a,{to:"/alerts",onClick:i,role:"menuitem"},c.a.createElement(b.k,null,"View All")),r&&c.a.createElement(s.Fragment,null,c.a.createElement("span",{className:"divider"},"\u2022"),c.a.createElement(bt.a,{to:"/alerts/new",onClick:i,role:"menuitem"},c.a.createElement(b.k,null,"New Alert"))))),c.a.createElement("div",{className:"alerts-list"},a&&c.a.createElement("span",{className:"empty-alerts"},c.a.createElement(b.k,null,"There was an error fetching alerts.")),t&&t.map((function(e){return c.a.createElement("div",{key:e.id,className:"alert-item",role:"none"},c.a.createElement("h1",{className:"alert-item__title"},c.a.createElement(bt.a,{to:"/alerts/".concat(e.id),role:"menuitem"},c.a.createElement("small",{className:"source"},c.a.createElement(b.k,null,e.values.Source)),c.a.createElement(b.k,null,e.values.Title))),c.a.createElement(b.k,{render:function(t){return c.a.createElement("p",{className:"alert-item__content",dangerouslySetInnerHTML:{__html:t(e.values.Content)}})}}),c.a.createElement("span",{className:"meta"},e.values.CreatedAt))})),t&&t.size<1&&c.a.createElement("span",{className:"empty-alerts"},c.a.createElement(b.k,null,"There are no active alerts.")))))})),Qt=function(e){return!e.app.loading&&(e.app.authenticated&&(e.app.profile.spaceAdmin||e.app.space.authorization&&e.app.space.authorization["Users Access"]))},Kt=function(e){return!e.app.loading&&(e.app.authenticated&&(e.app.profile.spaceAdmin||e.app.space.authorization&&e.app.space.authorization["Teams Access"]))},Gt={formSlug:"help",kappSlug:"admin",title:"Get Help",confirmationMessage:"We'll get you a response as soon as possible."},Wt={formSlug:"feedback",kappSlug:"admin",title:"Give Feedback",confirmationMessage:"Thanks for your feedback. We'll get that routed to the right team."},Vt={formSlug:"invite-users",kappSlug:"admin",title:"Invite Others",confirmationMessage:"We'll send those invitations out right away."},Jt={formSlug:"kitchen-sink-form",kappSlug:"queue",title:"Kitchen Sink",confirmationMessage:"That was the kitchen sink, how fun."},Xt={push:F.d},Yt=Object(Et.a)(Object(m.c)((function(e){return{profile:e.app.profile,hasUserAccess:Qt(e),hasTeamAccess:Kt(e)}}),Xt),Object(Et.g)("isOpen","setIsOpen",!1),Object(Et.d)({openHelpForm:function(e){return function(){e.setIsOpen(!1),Object(h.zb)(Gt)}},openFeedbackForm:function(e){return function(){e.setIsOpen(!1),Object(h.zb)(Wt)}},openInviteOthersForm:function(e){return function(){e.setIsOpen(!1),Object(h.zb)(Vt)}},openKitchenSinkForm:function(e){return function(){e.setIsOpen(!1),Object(h.zb)(Jt)}},toggle:function(e){return function(){return e.setIsOpen((function(e){return!e}))}}}))((function(e){var t=e.profile,a=e.openFeedbackForm,n=e.openHelpForm,r=e.openInviteOthersForm,l=e.isOpen,s=e.toggle,i=e.hasUserAccess,o=e.hasTeamAccess;e.push;return c.a.createElement(Dt.a,{isOpen:l,toggle:s,className:"profile-dropdown"},c.a.createElement(qt.a,{nav:!0,role:"button","aria-label":"Profile Menu"},c.a.createElement(h.e,{size:32,user:t,previewable:!1,round:"0.3125rem"})),c.a.createElement(Ht.a,{right:!0,className:"profile-menu"},c.a.createElement("div",{className:"profile-header"},c.a.createElement("div",{className:"name"},t.displayName),c.a.createElement("small",{className:"email"},t.email)),c.a.createElement("hr",null),c.a.createElement("div",{className:"profile-links"},c.a.createElement(bt.a,{to:"/profile/edit",className:"dropdown-item",onClick:s,role:"menuitem"},c.a.createElement(b.k,null,"Profile")),t.spaceAdmin&&c.a.createElement("button",{onClick:r,className:"dropdown-item",role:"menuitem"},c.a.createElement(b.k,null,"Invite Others")),c.a.createElement("button",{onClick:n,className:"dropdown-item",role:"menuitem"},c.a.createElement(b.k,null,"Get Help")),c.a.createElement("button",{onClick:a,className:"dropdown-item",role:"menuitem"},c.a.createElement(b.k,null,"Give Feedback")),i&&c.a.createElement(bt.a,{to:"/about",className:"dropdown-item",onClick:s,role:"menuitem"},c.a.createElement(b.k,null,"About My Space")),o&&c.a.createElement(bt.a,{to:"/teams",className:"dropdown-item",onClick:s,role:"menuitem"},c.a.createElement(b.k,null,"Teams")),c.a.createElement("hr",null),c.a.createElement("button",{onClick:b.ub,className:"dropdown-item",role:"menuitem"},c.a.createElement(b.k,null,"Logout")))))})),Zt=a(46),$t=a(50),ea=a(68),ta=a(67),aa=a(476),na=a.n(aa),ra=a(1010),la=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,sa=/^[0-9a-f]{6}$/i,ca=["Service"],ia=["New","Active"],oa=["name","description","attributes[Keyword]"],ua=function(e){return{id:e.slug,label:e.name,path:"/kapps/".concat(e.kapp.slug,"/forms/").concat(e.slug),data:e,type:"form"}},ma=function(e){return{id:e.id,label:e.label,path:"/kapps/".concat(e.form.kapp.slug,"/submissions/").concat(e.id),data:e,type:"submission"}},pa={form:function(e){var t=e.data;return c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"icon align-self-center"},c.a.createElement("span",{className:"fa fa-file-o fa-fw"})),c.a.createElement("div",{className:"flex-grow-1"},c.a.createElement("div",{className:"small"},t.kapp.name),c.a.createElement("div",{className:"large"},t.name)))},submission:function(e){var t=e.data;return c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"align-self-center"},c.a.createElement("span",{className:"fa fa-file-text-o fa-fw"})),c.a.createElement("div",{className:"flex-grow-1"},t.form&&c.a.createElement("div",{className:"small"},t.form.kapp.name," > ",t.form.name),c.a.createElement("div",{className:"large"},t.label)))}},da=function(e){var t=Object(b.N)();return t.in("type","types").in("status","statuses"),t.or(),oa.forEach((function(e){return t.matches(e,"value")})),t.end(),t.end()({statuses:ia,types:ca,value:e})},fa=function(e){Object(ea.a)(a,e);var t=Object(ta.a)(a);function a(e){var n;return Object(Zt.a)(this,a),(n=t.call(this,e)).generateDataSources=function(e){var t=sa.test(e),a=la.test(e);return[!a&&!!n.props.servicesKapp&&{fn:b.ab,params:{kappSlug:n.props.servicesKapp.slug,q:da(e),limit:n.pageSize,include:"details,categorizations,attributesMap,kapp"},transform:function(e){var t=e.forms,a=e.error,n=e.nextPageToken;return{suggestions:t?t.map(ua):[],error:a,more:!!n}}},a&&{fn:b.gb,params:{id:e,include:["details","form","form.kapp"]},transform:function(e){var t=e.submission,a=e.error;return{suggestions:t?[ma(t)]:[],error:a&&404===a.statusCode?null:a,more:!1}}},t&&!!n.props.servicesKapp&&{fn:b.Ab,params:{search:{q:'handle = "'.concat(e,'"'),include:["details","form","form.kapp"]},kapp:n.props.servicesKapp.slug,limit:n.pageSize},transform:function(e){var t=e.submissions,a=e.error,n=e.nextPageToken;return{suggestions:t?t.map(ma):[],error:a,more:!!n}}},t&&!!n.props.queueKapp&&{fn:b.Ab,params:{search:{q:'handle = "'.concat(e,'"'),include:["details","form","form.kapp"]},kapp:n.props.queueKapp.slug,limit:n.pageSize},transform:function(e){var t=e.submissions,a=e.error,n=e.nextPageToken;return{suggestions:t?t.map(ma):[],error:a,more:!!n}}}].filter(Boolean)},n.completeAnimation=function(){n.state.open&&n.autosuggestRef.current&&n.autosuggestRef.current.input.focus(),n.setState({animating:!1})},n.toggle=Object(ra.a)((function(e){(e&&!n.state.open||!e&&n.state.open)&&(n.setState({open:e,animating:!0,value:""}),window.setTimeout(n.completeAnimation,300))}),200),n.toggleOpen=function(){n.toggle(!0)},n.toggleClose=function(){n.toggle(!1)},n.focusInput=function(){n.state.open&&n.autosuggestRef.current&&n.autosuggestRef.current.input.focus()},n.onBtnFocus=function(){n.state.open&&n.toggleOpen()},n.onBtnBlur=function(){n.toggleClose()},n.onChange=function(e,t){var a=t.newValue,r=t.method;n.setState({value:a}),"function"===typeof n.props.onChange&&n.props.onChange(a,r)},n.onFocus=function(){n.props.modal||n.inline||(n.setState({active:!0}),n.toggleOpen())},n.onBlur=function(){n.props.modal||n.inline||(n.setState({active:!1}),n.toggleClose())},n.onKeyDown=function(e){13===e.keyCode&&(n.state.short||n.goToAllResults())},n.onSuggestionSelected=function(e,t){var a=t.suggestion;a&&(n.navigate(a.path),n.autosuggestRef.current&&n.autosuggestRef.current.input.blur())},n.navigate=Object(ra.a)((function(){var e;(e=n.props).push.apply(e,arguments)}),200,{leading:!0,trailing:!1}),n.goToAllResults=function(){n.navigate("/search/".concat(n.state.value))},n.retrieveSuggestions=function(e,t){var a=n.generateDataSources(e);Promise.all(a.map((function(e){return e.fn(e.params)}))).then((function(e){e.forEach((function(e,t){"function"===typeof a[t].then&&a[t].then(e)}));var r=e.map((function(e,t){return a[t].transform(e)})),l=r.flatMap((function(e){return e.suggestions||[]})).sort((function(e,t){return e.label>t.label?1:e.label<t.label?-1:0})).slice(0,n.pageSize);t({suggestions:l,error:r.map((function(e){return e.error})).filter(Boolean)[0],more:r.some((function(e){return e.more}))||l.length>n.pageSize})}))},n.search=Object(ra.a)((function(){var e;(e=n).retrieveSuggestions.apply(e,arguments)}),150),n.onSuggestionsFetchRequested=function(e){var t=e.value;if("input-focused"!==e.reason||!n.props.modal&&!n.inline){var a=t.length<2;n.setState({suggestions:[],loading:!a,error:null,more:!1,empty:!1,short:a}),a||n.search(t,n.onSuggestionsFetchCompleted)}},n.onSuggestionsFetchCompleted=function(e){var t=e.suggestions,a=void 0===t?[]:t,r=e.error,l=e.more;n.setState({suggestions:a,loading:!1,error:r,more:l,empty:a&&0===a.length})},n.onSuggestionsClearRequested=function(){n.props.modal||n.inline||n.setState({suggestions:[],loading:!1,error:null,more:!1,empty:!1,short:!0})},n.renderSuggestion=function(e,t){var a=t.isHighlighted,n=pa[e.type];return c.a.createElement("div",{className:Ut()("suggestion",{active:a})},n&&c.a.createElement(n,{data:e.data}))},n.renderSuggestionsContainer=function(e){var t=e.containerProps,a=e.children;return(n.props.modal||n.inline||!n.state.animating&&n.state.active)&&c.a.createElement("div",Object.assign({},t,{className:Ut()("suggestions",{open:n.state.open,inline:n.props.inline})}),n.state.loading?c.a.createElement("div",{className:"status info"},c.a.createElement(b.k,null,"Searching...")):n.state.short?c.a.createElement("div",{className:"status info"},c.a.createElement(b.k,{render:function(e){return e("Enter at least %d character".concat("s"," to search for forms, or enter a handle to find your requests.")).replace("%d",2)}})):n.state.error?c.a.createElement("div",{className:"status warning"},c.a.createElement(b.k,null,"There was an error fetching results.")):n.state.empty?c.a.createElement("div",{className:"status warning"},c.a.createElement(b.k,null,"No matching results")):n.state.more?c.a.createElement("div",{className:"status warning"},c.a.createElement(b.k,{render:function(e){return e("Too many results, first %d shown. Please refine your search.").replace("%d",n.pageSize)}})):null,a)},n.renderInputComponent=function(e){return c.a.createElement("input",e)},n.state={value:e.value||"",suggestions:[],open:!!e.inline,animating:!1,active:!!e.inline,loading:!1,error:null,more:!1,empty:!1,short:!e.value||e.value.length<2},n.inline=e.inline,n.pageSize=e.inline?100:25,n.autosuggestRef=c.a.createRef(),n}return Object($t.a)(a,[{key:"componentDidMount",value:function(){this.state.value&&!this.state.short&&(this.setState({loading:!0}),this.search(this.state.value,this.onSuggestionsFetchCompleted))}},{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.animating,r=t.value,l=t.suggestions,s=c.a.createElement(b.k,{render:function(t){return c.a.createElement(na.a,{getSuggestionValue:function(e){return e?e.label:""},inputProps:{value:r,onChange:e.onChange,onBlur:e.onBlur,onFocus:e.onFocus,onKeyDown:e.onKeyDown,placeholder:t(""),autoFocus:e.props.autoFocus},onSuggestionHighlighted:e.onHighlight,onSuggestionSelected:e.onSuggestionSelected,onSuggestionsClearRequested:e.onSuggestionsClearRequested,onSuggestionsFetchRequested:e.onSuggestionsFetchRequested,renderSuggestion:e.renderSuggestion,renderSuggestionsContainer:e.renderSuggestionsContainer,renderInputComponent:e.renderInputComponent,alwaysRenderSuggestions:e.props.modal||e.inline,suggestions:l,ref:e.autosuggestRef})}});return this.inline?c.a.createElement("div",{className:"app-search--inline"},c.a.createElement("div",{className:"kinetic-typeahead"},c.a.createElement("button",{className:"search",onClick:this.focusInput},c.a.createElement("span",{className:"fa fa-search"})),s)):this.props.modal?c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"search",onClick:this.toggleOpen},c.a.createElement("span",{className:"fa fa-search"})),c.a.createElement(vt.a,{className:"app-search--modal",size:"lg",isOpen:this.state.open,toggle:this.toggleClose},c.a.createElement("div",{className:"kinetic-typeahead"},c.a.createElement("button",{className:"search",onClick:this.focusInput},c.a.createElement("span",{className:"fa fa-search"})),s,c.a.createElement("button",{className:"goto-search",onClick:this.goToAllResults,disabled:!r},c.a.createElement("span",{className:"fa fa-arrow-right"})),c.a.createElement("span",{className:"divider"}),c.a.createElement("button",{className:"close-search",onClick:this.toggleClose},c.a.createElement("span",{className:"fa fa-times"}))))):c.a.createElement("div",{className:Ut()("kinetic-typeahead",this.props.className,{open:a,animating:n})},c.a.createElement("button",{className:"search",onClick:a?this.focusInput:this.toggleOpen,onFocus:this.onBtnFocus,onBlur:this.onBtnBlur,disabled:n},c.a.createElement("span",{className:"fa fa-search"})),(a||n)&&s,c.a.createElement("button",{className:"goto-search",onClick:this.goToAllResults,onFocus:this.onBtnFocus,onBlur:this.onBtnBlur,disabled:!r||!a||n},c.a.createElement("span",{className:"fa fa-arrow-right"})))}}]),a}(c.a.Component),Ea=Object(m.c)((function(e){return{servicesKapp:Object(h.Lb)(e),queueKapp:Object(h.Jb)(e)}}),{push:F.d})(fa),ba=a(982),ga=a.n(ba),ha="/kapps/vteams/ticket",Sa="/kapps/vteams/home",va=Object(m.c)((function(e){return{authenticated:e.app.authenticated,authRoute:e.app.authRoute,logo:h.hb.getAttributeValue(e.app.space,"Logo",ga.a),alertsDisabled:!h.hb.getAttributeValue(e.app.space,"Alerts Form Slug")}}))((function(e){return c.a.createElement(c.a.Fragment,null,e.mobile&&!e.hideSidebarToggle&&e.authenticated&&c.a.createElement("button",{className:"toggle",onClick:e.toggleSidebar},c.a.createElement("span",{className:"fa fa-bars"})),e.logo&&"Disabled"!==e.logo&&c.a.createElement(bt.a,{className:"logo",to:Sa},c.a.createElement("img",{src:e.logo,alt:"Logo"})),c.a.createElement("div",{className:"mr-auto","aria-hidden":"true"}),e.authenticated&&c.a.createElement(Ea,{modal:e.mobile}),e.authenticated&&!e.alertsDisabled&&c.a.createElement(zt,null),e.authenticated&&c.a.createElement(Yt,null),!e.authenticated&&c.a.createElement(bt.a,{className:"nav-link",to:e.authRoute,title:"Sign In"},c.a.createElement("i",{className:"fa fa-fw fa-sign-in"})))})),Oa=a(2141),ka=a(2138),Ta=a(301),ya=a(155),Na=a(394),Ca=a(393),Fa=Object(m.c)((function(e){return{space:e.app.space,profile:e.app.profile,kapps:e.app.kapps,queueKapp:Object(h.Jb)(e),servicesKapp:Object(h.Lb)(e),servicesFavoritesEnabled:h.hb.hasProfileAttributeDefinition(e.app.space,"Services Favorites"),surveyKapp:Object(h.Nb)(e),techBarKapp:Object(h.Ob)(e),pathname:e.router.location.pathname,isSmallLayout:"small"===e.layout.size,discussionsEnabled:Object(h.Fb)(e)}}))((function(e){var t=Object(s.useCallback)((function(t){var a=t.to,n=t.matchFn,r=t.matchParams,s=void 0===r?{}:r,i=t.matchExclude,o=t.icon,m=t.children;return c.a.createElement(bt.a,{to:a,className:Ut()({active:("function"===typeof n?n(e.pathname):Object(u.f)(e.pathname,Object(l.a)({path:a},s)))&&(!i||!Object(u.f)(e.pathname,Object(l.a)({path:i},s)))}),onClick:e.onSidebarAction},c.a.createElement("span",{className:o}),c.a.createElement("span",{className:"title"},m))}),[e.pathname,e.onSidebarAction]),a=function(e){var t=e.profile,a=e.queueKapp,n=e.servicesKapp,r=e.surveyKapp,l=e.techBarKapp;return[h.hb.isKappManageable(a)&&Ta.b.settingsRoute&&{label:"".concat(a.name," Settings"),to:"/kapps/".concat(a.slug).concat(Ta.b.settingsRoute)},h.hb.isKappManageable(n)&&ya.f.settingsRoute&&{label:"".concat(n.name," Settings"),to:"/kapps/".concat(n.slug).concat(ya.f.settingsRoute)},h.hb.isKappManageable(r)&&Na.a.settingsRoute&&{label:"".concat(r.name," Settings"),to:"/kapps/".concat(r.slug).concat(Na.a.settingsRoute)},(h.hb.isKappManageable(l)||Object(h.Gb)(t)||Object(h.Ib)(t))&&Ca.a.settingsRoute&&{label:"".concat(l.name," Settings"),to:"/kapps/".concat(l.slug).concat(Ca.a.settingsRoute)}].filter(Boolean)}({profile:e.profile,queueKapp:e.queueKapp,servicesKapp:e.servicesKapp,surveyKapp:e.surveyKapp,techBarKapp:e.techBarKapp});return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"app-sidebar__group app-sidebar__group--toggle"},c.a.createElement("button",{className:"toggle",onClick:e.toggleSidebar},c.a.createElement("span",{className:Ut()("fa",{"fa-bars":!e.mobile,"fa-chevron-left":e.mobile})}))),c.a.createElement("div",{className:"app-sidebar__group"},c.a.createElement(t,{to:"/kapps/vteams/home",icon:"fa fa-home",matchExclude:"/kapps/".concat(e.queueKapp.slug).concat(Ta.b.settingsRoute)},c.a.createElement(b.k,null,"Home")),c.a.createElement(t,{to:"/kapps/vteams/ticket",icon:"fa fa-plus",matchExclude:"/kapps/".concat(e.queueKapp.slug).concat(Ta.b.settingsRoute)},c.a.createElement(b.k,null,"New Ticket"))),c.a.createElement("div",{className:"app-sidebar__group--divider"}),c.a.createElement("div",{className:"app-sidebar__group"},h.hb.isKappVisible(e.servicesKapp)&&e.servicesFavoritesEnabled&&c.a.createElement(t,{to:"/kapps/".concat(e.servicesKapp.slug,"/favorites"),icon:"fa fa-star-o"},c.a.createElement(b.k,null,"My Favorites")),e.surveyKapp&&c.a.createElement(t,{to:"/kapps/".concat(e.surveyKapp.slug,"/my-surveys"),icon:"fa fa-pencil-square-o"},c.a.createElement(b.k,null,"My Surveys"))),c.a.createElement("div",{className:"app-sidebar__group app-sidebar__group--static mt-auto"},c.a.createElement("div",{className:"action-wrapper"},c.a.createElement(bt.a,{to:"/settings"},c.a.createElement("span",{className:"fa fa-cogs"}),c.a.createElement("span",{className:"title"},"Settings")),a.length>0&&c.a.createElement(Oa.a,{direction:e.isSmallLayout?"up":"right"},c.a.createElement(qt.a,{className:"dropdown-toggle"},c.a.createElement("span",{className:Ut()("fa fa-angle-right")})),c.a.createElement(Ht.a,null,a.map((function(e){return c.a.createElement(ka.a,{tag:bt.a,to:e.to,key:e.label},c.a.createElement("span",{className:"title"},e.label))})))))))})),ja=function(e){var t=Math.max(Math.min(e,document.body.clientWidth-448),320);return[t,Math.min(Math.max(1400-(document.body.clientWidth-t),0),t)]},_a=Object(m.c)((function(e){return{sidebarOpen:e.layout.sidebarOpen,authenticated:e.app.authenticated}}),{setSidebarOpen:J.setSidebarOpen})((function(e){var t=e.components,a=(t=void 0===t?{}:t).Layout,r=void 0===a?Mt:a,l=t.Sidebar,i=void 0===l?Fa:l,o=t.Header,u=void 0===o?va:o,m=t.Main,p=e.main,d=e.shouldHideHeader,f=e.shouldHideSidebar,E=e.shouldSuppressSidebar,b=e.mobile,g=e.sidebarOpen,S=e.setSidebarOpen,v=e.authenticated,O=Object(s.useRef)(null),k=Object(s.useRef)(null),T=Object(s.useRef)(null),y=Object(s.useRef)(null),N=Object(s.useRef)(null),C=Object(s.useState)(ja(376)),F=Object(n.a)(C,2),j=F[0],_=F[1];Object(s.useEffect)((function(){if(k.current&&!k.current.classList.contains("app-header--sticky")&&O.current){var e=0,t=O.current,a=k.current,n=function(){if(t.scrollTop<e){var n=a.getClientRects()[0];t.scrollTop>0?a.classList.add("scrolled"):a.classList.remove("scrolled"),n.bottom<0?a.style.top="".concat(Math.min(e-n.height,t.scrollTop),"px"):n.top<0?a.style.top="".concat(a.style.top+e,"px"):a.style.top="".concat(t.scrollTop,"px")}e=t.scrollTop};return t.addEventListener("scroll",n,{passive:!0}),function(){return t.removeEventListener("scroll",n)}}}),[]),Object(s.useEffect)((function(){if(T.current||y.current){var e=T.current,t=y.current,a=function(){e&&Object(Te.a)(e.children).forEach((function(e){e.scrollHeight>e.clientHeight?e.classList.add("scrollable"):e.classList.remove("scrollable")})),t&&t.parentElement.classList.contains("aside--open")&&_((function(e){return ja(e[0])}))};return a(),window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}}),[]),Object(s.useEffect)((function(){0===g?b?S(-1):setTimeout((function(){return S(-1)}),300):null===g&&S(b||E?-1:1)}),[g,S,b,E]);var A=Object(s.useCallback)((function(){S(g>0?0:1)}),[g,S]),R=Object(s.useCallback)((function(){b?S(-1):g<0&&S(0)}),[b,g,S]),x=Object(s.useCallback)((function(e){if(y.current){if(e.x>=448&&e.x<=document.body.clientWidth-320){var t=N.current-e.x;_(ja(j[0]+t))}}else N.current=e.x}),[N,j,_]),w=function(){y.current.parentElement.classList.remove("aside--resizing"),document.body.removeEventListener("mousemove",x)},I=d?null:c.a.createElement(u,{toggleSidebar:A,mobile:b,hideSidebarToggle:!!f}),L=f?null:c.a.createElement(i,{toggleSidebar:A,onSidebarAction:R,mobile:b}),P=m?c.a.createElement(m,null):p||c.a.createElement(h.y,{title:"There's nothing here."});return c.a.createElement(r,{authenticated:v,sidebar:L,header:I,main:P,classNames:e.classNames,sidebarRef:T,headerRef:k,bodyRef:O,asideRef:y,mobile:b,sidebarOpen:g,toggleSidebar:A,resizeAside:function(e){y.current.parentElement.classList.contains("aside--collapsed")||(N.current=e.clientX,y.current.parentElement.classList.add("aside--resizing"),document.body.addEventListener("mousemove",x),document.body.addEventListener("mouseup",w,{once:!0}))},toggleAside:function(e){y.current&&(y.current.parentElement.classList.contains("aside--collapsed")?y.current.parentElement.classList.remove("aside--collapsed"):y.current.parentElement.classList.contains("aside--open")&&y.current.parentElement.classList.add("aside--collapsed"))},asideWidth:j})})),Aa=Object(Et.a)(Object(m.c)((function(e){return{space:e.app.space,kapp:Object(h.Eb)(e)}})),Object(Et.e)((function(e){var t=e.parts,a=void 0===t?[]:t,n=Object(r.a)(e,["parts"]);return{parts:a.concat([n.kapp&&n.kapp.name,n.space&&n.space.name])}})))(h.M),Ra=function(e){var t=Object(b.N)();return t.equals("type","type"),t.or().equals("values[".concat(ya.c.REQUESTED_FOR_FIELD,"]"),"username").equals("values[".concat(ya.c.REQUESTED_BY_FIELD,"]"),"username").equals("submittedBy","username").equals("createdBy","username").end(),{q:t.end()({type:ya.c.SUBMISSION_FORM_TYPE,username:e}),include:["details","values","form","form.attributes","form.kapp","form.kapp.attributes"]}},xa=Object(Et.a)(Object(m.c)((function(e,t){return{kapp:Object(h.Lb)(e),username:e.app.profile.username}})),Object(Et.d)({buildRequestCard:function(e){return function(t){return c.a.createElement(ya.d,{key:t.id,submission:t,path:ya.e.getSubmissionPath("/kapps/".concat(e.kapp.slug),t),components:{Link:bt.a}})}}}),Object(Et.e)((function(e){return{dataSources:{requests:{fn:b.Ab,params:function(t,a){return t&&a?a.nextPageToken?Object(l.a)(Object(l.a)({},t),{},{pageToken:a.nextPageToken}):null:{kapp:e.kapp&&e.kapp.slug,limit:e.chunkSize||5,search:Ra(e.username)}},transform:function(e){return{data:e.submissions,nextPageToken:e.nextPageToken}},component:e.buildRequestCard}}}})))((function(e){var t=e.hidePaging,a=void 0===t||t,n=Object(r.a)(e,["hidePaging"]);return c.a.createElement(h.a,{feedKey:n.feedKey,pageSize:n.pageSize||5,joinByDirection:"DESC",joinBy:"createdAt",dataSources:n.dataSources,contentProps:{hidePaging:a,emptyMessage:{title:"No requests found.",message:"Submit a service and it will show up here!"}}})})),wa=function(e){var t=Object(b.N)();return t.in("values[Status]","status").equals("values[Assigned Individual]","username").end(),{q:t.end()({status:["Open","Pending"],username:e}),include:["details","values","form","form.kapp"]}},Ia=Object(Et.a)(Object(m.c)((function(e,t){return{kapp:Object(h.Jb)(e),username:e.app.profile.username}})),Object(Et.d)({buildActionCard:function(e){return function(t){return c.a.createElement(Ta.a,{key:t.id,submission:t,path:"/kapps/".concat(e.kapp.slug,"/list/Mine/item/").concat(t.id),components:{Link:bt.a}})}}}),Object(Et.e)((function(e){return{dataSources:{actions:{fn:b.Ab,params:function(t,a){return t&&a?a.nextPageToken?Object(l.a)(Object(l.a)({},t),{},{pageToken:a.nextPageToken}):null:{kapp:e.kapp&&e.kapp.slug,limit:e.chunkSize||5,search:wa(e.username)}},transform:function(e){return{data:e.submissions,nextPageToken:e.nextPageToken}},component:e.buildActionCard}}}})))((function(e){var t=e.hidePaging,a=void 0===t||t,n=Object(r.a)(e,["hidePaging"]);return c.a.createElement(h.a,{feedKey:n.feedKey,pageSize:n.pageSize||5,joinByDirection:"DESC",joinBy:"createdAt",dataSources:n.dataSources,contentProps:{hidePaging:a,emptyMessage:{title:"No actions found.",message:"Actions assigned to you will appear here."}}})})),La=Object(Et.a)(Object(m.c)((function(e){return{space:e.app.space,kapps:e.app.kapps,queueKapp:Object(h.Jb)(e),servicesKapp:Object(h.Lb)(e),surveyKapp:Object(h.Nb)(e),techBarKapp:Object(h.Ob)(e),profile:e.app.profile,pathname:e.router.location.pathname}})),Object(Et.g)("servicesCategories","setServicesCategories",(function(e){return e.servicesKapp?Object(ya.b)(e.servicesKapp.categories,!0):null})),Object(Et.e)((function(e){if(e.servicesCategories){var t=e.servicesCategories.getCategory("featured-services");return{rootCategories:e.servicesCategories.getRootCategories().filterNot((function(e){return e.hidden||e.isEmpty()})),featuredServices:t&&t.allForms.size>0?t.allForms.slice(0,2):null}}return{}})),Object(Et.b)({componentDidMount:function(){},componentDidUpdate:function(e){this.props.servicesKapp&&!e.servicesKapp&&this.props.setServicesCategories(Object(ya.b)(this.props.servicesKapp.categories,!0))}}))((function(e){e.space,e.kapp,e.forms,e.visibleKapps,e.profile,e.pathname;var t=e.servicesKapp,a=e.rootCategories,n=e.featuredServices,r=e.queueKapp;return c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-panel"},c.a.createElement(Aa,{parts:["Home"],title:"Welcome",subtitle:"What can we help you with today?",hero:!0,image:!0,withCard:!!n,center:!0},!!n&&n.map((function(e){return c.a.createElement(h.i,{key:e.slug,to:"/kapps/".concat(t.slug,"/forms/").concat(e.slug),color:"white",style:{maxHeight:"6rem"}},c.a.createElement(h.l,null,c.a.createElement(h.j,{type:["prepend","icon"]},c.a.createElement("span",{className:"fa fa-".concat((e.icon||"arrow-right").replace(/^fa-/i,"")," fa-fw")})),c.a.createElement(h.j,null,c.a.createElement(h.l,{type:"subtitle"},c.a.createElement(b.k,null,e.name)))))}))),c.a.createElement("div",{className:"column-container"},c.a.createElement("div",{className:"column-panel column-panel--two-thirds"},!!t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Recent Requests")),c.a.createElement(bt.a,{className:"btn btn-link",to:"/kapps/".concat(t.slug,"/requests")},c.a.createElement(b.k,null,"View All"))),c.a.createElement("div",{className:"cards"},c.a.createElement(xa,null))),!!r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Queue Actions")),c.a.createElement(bt.a,{className:"btn btn-link",to:"/kapps/".concat(r.slug)},c.a.createElement(b.k,null,"View All"))),c.a.createElement("div",{className:"cards"},c.a.createElement(Ia,null)))),a&&c.a.createElement("div",{className:"column-panel column-panel--thirds"},c.a.createElement("div",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Categories")),c.a.createElement(bt.a,{className:"btn btn-link",to:"/kapps/".concat(t.slug,"/categories")},c.a.createElement(b.k,null,"View All"))),c.a.createElement("div",{className:"cards"},a.map((function(e){return c.a.createElement(ya.a,{key:e.slug,category:e,path:"/kapps/".concat(t.slug,"/categories/").concat(e.slug),countOfMatchingForms:e.getTotalFormCount(),components:{Link:bt.a}})})))))))})),Pa=function(e){var t=e.match.params.query;return c.a.createElement(s.Fragment,null,c.a.createElement(Aa,{parts:[t,"Search"]}),c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-panel"},c.a.createElement("h1",null,c.a.createElement(b.k,null,"Search Results"),t&&c.a.createElement("small",{className:"ml-2"},"(",t,")")),c.a.createElement("section",{className:"mt-3"},c.a.createElement("hr",null),c.a.createElement(Ea,{inline:!0,value:t,onChange:function(t,a){["type","escape"].includes(a)&&e.history.replace("/search/".concat(encodeURIComponent(t)))}})))))},Ua=function(e){var t=e.row,a=e.value,n=e.tableOptions;return c.a.createElement("td",null,c.a.createElement(bt.a,{to:"/kapps/".concat(n.kappSlug,"/forms/").concat(t.get("slug"),"/submissions")},a),c.a.createElement("br",null),c.a.createElement("small",null,t.get("slug")))},Ma=function(e){var t=e.profile;return function(e){var a=e.row,n=(e.value,e.tableOptions);return c.a.createElement("td",{className:"text-right",style:{width:"1%"}},c.a.createElement(Oa.a,{className:"more-actions"},c.a.createElement(qt.a,{tag:"button",className:"btn btn-sm btn-link"},c.a.createElement("span",{className:"sr-only"},"More Actions"),c.a.createElement("span",{className:"fa fa-chevron-down fa-fw",role:"presentation"})),c.a.createElement(Ht.a,{right:!0,positionFixed:!0},c.a.createElement(bt.a,{to:"/kapps/".concat(n.kappSlug,"/forms/").concat(a.get("slug")),className:"dropdown-item"},c.a.createElement(b.k,null,"Create Submission")),c.a.createElement(bt.a,{to:"/kapps/".concat(n.kappSlug,"/forms/").concat(a.get("slug"),"/submissions"),className:"dropdown-item"},c.a.createElement(b.k,null,"View Submissions")),t&&t.spaceAdmin&&c.a.createElement("a",{href:"/app/builder/#/".concat(n.kappSlug,"/forms/").concat(a.get("slug"),"/builder"),target:"_blank",rel:"noreferrer",className:"dropdown-item"},c.a.createElement(b.k,null,"Form Builder")))))}},Da={push:F.d},qa=Object(Et.a)(Object(m.c)((function(e){return{kappSlug:e.app.kappSlug,kapp:e.app.kapp,authenticated:e.app.authenticated,profile:e.app.profile}}),Da),Object(Et.g)("filterOpen","setFilterOpen",!1))((function(e){e.authenticated;var t=e.kappSlug,a=e.kapp,n=e.profile,r=e.filterOpen,l=e.setFilterOpen,i=h.X.generateEmptyBodyRow({loadingMessage:"Loading Forms...",noSearchResultsMessage:"No forms were found - please modify your search criteria",noItemsMessage:"There are no forms to display."}),o=h.X.generateFilterFormLayout({isOpen:r,toggle:function(){return l((function(e){return!e}))}});return c.a.createElement(s.Fragment,null,c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-panel"},c.a.createElement(Aa,{parts:[a&&a.name||t],title:a&&a.name||t,subtitle:"Forms"}),a?c.a.createElement(b.j,{key:"form-list-".concat(t),tableKey:"form-list-".concat(t),uncontrolled:!0,kappSlug:a.slug,components:{EmptyBodyRow:i,FilterFormLayout:o,FilterFormButtons:h.X.FilterFormButtons},columnSet:["name","description","type","updatedAt","createdAt","status","actions"],defaultSortColumn:"name",defaultSortDirection:"asc",addColumns:[{value:"description",title:"Description",sortable:!1},{value:"actions",title:" ",sortable:!1,components:{BodyCell:Ma({profile:n})},className:"text-right"}],alterColumns:{updatedAt:{components:{BodyCell:h.X.TimeAgoCell}},createdAt:{components:{BodyCell:h.X.TimeAgoCell}},name:{components:{BodyCell:Ua}},status:{components:{BodyCell:h.X.StatusBadgeCell}}},filterSet:["name","type","status"],onSearch:function(){return function(){return l(!1)}}},(function(e){var t=e.pagination,a=e.table,n=e.filter,r=e.appliedFilters,l=e.filterFormKey;return c.a.createElement("div",null,c.a.createElement("div",{className:"text-right mb-2"},n),c.a.createElement(h.X.FilterPills,{filterFormKey:l,appliedFilters:r}),c.a.createElement("div",{className:"scroll-wrapper-h"},a),t)})):c.a.createElement(h.z,{title:"Kapp Not Found",message:"The kapp with slug '".concat(t,"' could not be found.")}))))})),Ha=function(e){var t=e.row,a=e.value,n=e.tableOptions;return c.a.createElement("td",null,c.a.createElement(bt.a,{to:"/kapps/".concat(n.kappSlug,"/forms/").concat(n.formSlug,"/submissions/").concat(t.get("id"))},a),c.a.createElement("br",null),c.a.createElement("small",null,t.get("handle")," \u2022 ",t.get("id")))},Ba=function(e){var t=e.row,a=e.value;return c.a.createElement("td",null,a?c.a.createElement(c.a.Fragment,null,c.a.createElement(h.bb,{timestamp:a})," ",c.a.createElement(b.k,null,"by")," ",t.get("submittedBy")):"")},za=function(e){var t=e.row,a=e.value;return c.a.createElement("td",null,a?c.a.createElement(c.a.Fragment,null,c.a.createElement(h.bb,{timestamp:a})," ",c.a.createElement(b.k,null,"by")," ",t.get("createdBy")):"")},Qa={push:F.d,fetchForm:K.fetchFormRequest},Ka=Object(Et.a)(Object(m.c)((function(e,t){return{kappSlug:e.app.kappSlug,kapp:e.app.kapp,formSlug:t.match.params.formSlug,form:e.forms.getIn([e.app.kappSlug,t.match.params.formSlug]),formLoading:null===e.forms.getIn([e.app.kappSlug,t.match.params.formSlug]),authenticated:e.app.authenticated}}),Qa),Object(Et.g)("filterOpen","setFilterOpen",!1),Object(Et.b)({componentDidMount:function(){this.props.form||this.props.formLoading||this.props.fetchForm({kappSlug:this.props.kappSlug,formSlug:this.props.formSlug})},componentDidUpdate:function(e){this.props.formSlug===e.formSlug||this.props.form||this.props.formLoading||this.props.fetchForm({kappSlug:this.props.kappSlug,formSlug:this.props.formSlug})}}))((function(e){e.authenticated;var t=e.kappSlug,a=e.kapp,n=e.formSlug,l=e.form,i=e.formLoading,o=e.filterOpen,u=e.setFilterOpen,m=h.X.generateEmptyBodyRow({loadingMessage:"Loading Submissions...",noSearchResultsMessage:"No submissions were found - please modify your search criteria",noItemsMessage:"There are no submissions to display.",errorMessage:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,t("There was a problem loading information from the server!")),c.a.createElement("code",null,e.message))}}),p=h.X.generateFilterFormLayout({isOpen:o,toggle:function(){return u((function(e){return!e}))},fieldsLayout:[["startDate","endDate"],"coreState","submittedBy","values"]});return c.a.createElement(s.Fragment,null,c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-panel"},c.a.createElement(Aa,{parts:[l&&l.name||(i?"":n),a&&a.name||t],breadcrumbs:[{label:a&&a.name||t,to:"/kapps/".concat(t)}],title:l&&l.name||(i?"":n),subtitle:"Submissions",actions:[{label:"Create Submission",to:"/kapps/".concat(t,"/forms/").concat(n)},l&&l.authorization&&l.authorization.Modification&&{label:"Form Builder",href:"/app/builder/#/".concat(t,"/forms/").concat(n,"/builder"),menu:!0}]}),a?c.a.createElement(b.t,{tableKey:"submission-list-".concat(t,"-").concat(n),uncontrolled:!0,kappSlug:a.slug,formSlug:n,components:{EmptyBodyRow:m,FilterFormLayout:p,FilterFormButtons:h.X.FilterFormButtons},columnSet:["label","coreState","submittedAt","createdAt"],defaultSortColumn:"createdAt",defaultSortDirection:"desc",alterColumns:{submittedAt:{title:"Submitted",components:{BodyCell:Ba}},createdAt:{title:"Created",components:{BodyCell:za}},label:{title:"Label \u2022 Handle \u2022 Id",components:{BodyCell:Ha}},coreState:{components:{BodyCell:h.X.CoreStateBadgeCell}}},filterSet:["startDate","endDate","submittedBy","coreState","values"],onSearch:function(){return function(){return u(!1)}}},(function(e){var t=e.pagination,a=e.table,n=e.filter,l=e.appliedFilters,s=e.filterFormKey;Object(r.a)(e,["pagination","table","filter","appliedFilters","filterFormKey"]);return c.a.createElement("div",null,c.a.createElement("div",{className:"text-right mb-2"},n),c.a.createElement(h.X.FilterPills,{filterFormKey:s,appliedFilters:l}),c.a.createElement("div",{className:"scroll-wrapper-h"},a),t)})):c.a.createElement(h.z,{title:"Kapp Not Found",message:"The kapp with slug '".concat(t,"' could not be found.")}))))})),Ga=a(11),Wa=function(e){var t=Object(j.parse)(e);return Object.entries(t).reduce((function(e,t){var a=Object(n.a)(t,2),r=a[0],s=a[1];if(r.startsWith("values[")){var c=r.match(/values\[(.*?)\]/)[1];return Object(l.a)(Object(l.a)({},e),{},Object(Ga.a)({},c,s))}return e}),{})},Va={push:F.d},Ja=Object(Et.a)(Object(m.c)((function(e,t){var a=Object(j.parse)(e.router.location.search);return{kappSlug:e.app.kappSlug,kapp:e.app.kapp,formSlug:t.match.params.formSlug,authenticated:e.app.authenticated,values:Wa(e.router.location.search),isPublic:void 0!==a.public,isEmbedded:void 0!==a.embedded,isCrossDomain:void 0!==a.cross_domain}}),Va),Object(Et.d)({Layout:function(e){e.authenticated;var t=e.kapp,a=e.isPublic;return function(e){var n=e.form,r=e.submission,l=e.content;return c.a.createElement(c.a.Fragment,null,!a&&c.a.createElement(Aa,{parts:[n&&n.name,t&&t.name],breadcrumbs:[t&&{label:t.name,to:"/kapps/".concat(t.slug)},t&&n&&{label:"".concat(n?n.name:""," Submissions"),to:"/kapps/".concat(t.slug,"/forms/").concat(n.slug,"/submissions")}],title:n&&n.name,subtitle:r&&r.label}),l)}},handleCompleted:function(e){return function(t){e.authenticated&&(!t.submission.currentPage||t.submission.displayedPage&&"confirmation"!==t.submission.displayedPage.type)&&(e.isPublic?e.push("/kapps/".concat(e.kappSlug)):e.push("/kapps/".concat(e.kappSlug,"/forms/").concat(e.formSlug,"/submissions")),Object(h.mb)("The form was submitted successfully"))}},handleCreated:function(e){return function(t){"Submitted"===t.submission.coreState&&(!t.submission.currentPage||t.submission.displayedPage&&"confirmation"!==t.submission.displayedPage.type)||(e.authenticated||!e.isEmbedded&&!e.isCrossDomain)&&e.formSlug&&e.push("/kapps/".concat(e.kappSlug,"/forms/").concat(e.formSlug,"/submissions/").concat(t.submission.id))}}}))((function(e){var t=e.authenticated,a=e.isPublic,n=e.match.params,r=n.formSlug,l=n.id,i=e.handleCreated,o=e.handleCompleted,u=e.handleLoaded,m=(e.handleDelete,e.values),p=e.kappSlug,d=e.Layout;return c.a.createElement(s.Fragment,null,c.a.createElement("div",{className:a?"":"page-container"},c.a.createElement("div",{className:a?"":"page-panel"},c.a.createElement(Aa,{parts:["Form"]}),c.a.createElement(b.k,{context:"kapps.".concat(p,".forms.").concat(r),public:!t},c.a.createElement("div",{className:"embedded-core-form--wrapper"},l?c.a.createElement(b.d,{submission:l,loaded:u,completed:o,public:!t,layoutComponent:d}):c.a.createElement(b.d,{kapp:p,form:r,loaded:u,created:i,completed:o,values:m,public:!t,layoutComponent:d}))))))})),Xa={fetchProfileRequest:ee.fetchProfileRequest},Ya=Object(Et.a)(Object(m.c)((function(e){return Object(l.a)({me:e.app.profile,profile:e.profile.data,error:e.profile.error},(t=e.profile.data)?{departmentEnabled:h.hb.hasAttributeDefinition(t.space.userAttributeDefinitions,"Department"),department:h.hb.getAttributeValue(t,"Department"),managerEnabled:h.hb.hasAttributeDefinition(t.space.userAttributeDefinitions,"Manager"),manager:h.hb.getAttributeValue(t,"Manager"),organizationEnabled:h.hb.hasAttributeDefinition(t.space.userAttributeDefinitions,"Organization"),organization:h.hb.getAttributeValue(t,"Organization"),siteEnabled:h.hb.hasAttributeDefinition(t.space.userAttributeDefinitions,"Site"),site:h.hb.getAttributeValue(t,"Site")}:{});var t}),Xa),Object(Et.e)((function(e){var t=e.match.params.username;return{username:decodeURIComponent(t)}})),Object(Et.b)({componentDidMount:function(){this.props.fetchProfileRequest(this.props.username)},componentDidUpdate:function(e){this.props.username!==e.username&&this.props.fetchProfileRequest(this.props.username)}}))((function(e){var t=e.me,a=e.profile,n=e.error,r=e.department,l=e.departmentEnabled,s=e.organization,i=e.organizationEnabled,o=e.site,u=e.siteEnabled,m=e.manager,p=e.managerEnabled;return c.a.createElement("div",{className:"page-container"},!n&&!a&&c.a.createElement(h.H,null),n&&c.a.createElement(h.z,{title:"Could not load profile",message:n.message}),a&&c.a.createElement("div",{className:"page-panel"},c.a.createElement(Aa,{parts:["Profile"],breadcrumbs:[{label:"Home",to:"/"}],title:"Profile",actions:[a.username===t.username&&{label:"Edit Profile",icon:"pencil",to:"/profile/edit"}]}),c.a.createElement("div",{className:"cards"},c.a.createElement(h.P,{user:a,hideProfileLink:!0,inline:!0},c.a.createElement(c.a.Fragment,null,c.a.createElement(h.l,{type:"multi",className:"py-3"},h.hb.getRoles(a).map((function(e){return c.a.createElement("span",{className:"badge badge-subtle badge-pill",key:e.slug},c.a.createElement(b.k,null,e.name.replace(/^Role::(.*?)/,"$1")))}))),(p||u||l||i)&&c.a.createElement(h.l,{type:"meta"},c.a.createElement("dl",null,p&&c.a.createElement("div",null,c.a.createElement("dt",null,c.a.createElement(b.k,null,"Manager")),c.a.createElement("dd",null,m?c.a.createElement(b.k,null,m):c.a.createElement("em",{className:"text-muted"},c.a.createElement(b.k,null,"No Manager")))),l&&c.a.createElement("div",null,c.a.createElement("dt",null,c.a.createElement(b.k,null,"Department")),c.a.createElement("dd",null,r?c.a.createElement(b.k,null,r):c.a.createElement("em",{className:"text-muted"},c.a.createElement(b.k,null,"No Department")))),i&&c.a.createElement("div",null,c.a.createElement("dt",null,c.a.createElement(b.k,null,"Organization")),c.a.createElement("dd",null,s?c.a.createElement(b.k,null,s):c.a.createElement("em",{className:"text-muted"},c.a.createElement(b.k,null,"No Organization")))),u&&c.a.createElement("div",null,c.a.createElement("dt",null,c.a.createElement(b.k,null,"Site")),c.a.createElement("dd",null,o?c.a.createElement(b.k,null,o):c.a.createElement("em",{className:"text-muted"},c.a.createElement(b.k,null,"No Site"))))))))),c.a.createElement("section",null,c.a.createElement("h2",{className:"section__title"},c.a.createElement(b.k,null,"Teams")),c.a.createElement("div",{className:"cards"},h.hb.getTeams(a).map((function(e){return c.a.createElement(h.Z,{key:e.slug,team:e,components:{Link:bt.a}})})),0===h.hb.getTeams(a).length&&c.a.createElement(h.y,{title:"User is not a member of any teams"})))))})),Za=function(e){return e.displayName&&e.email&&e.newPassword===e.confirmPassword},$a=function(e){return{displayName:e.displayName||"",email:e.email||"",preferredLocale:e.preferredLocale||"",timezone:e.timezone||"",newPassword:"",confirmPassword:"",phoneNumber:h.hb.getProfileAttributeValue(e,"Phone Number",""),defaultKappDisplay:h.hb.getProfileAttributeValue(e,"Default Kapp Display","")}},en=function(e,t){var a=function(e,t){var a={};return a["Phone Number"]=e.phoneNumber?[e.phoneNumber]:[],a["Default Kapp Display"]=e.defaultKappDisplay?[e.defaultKappDisplay]:[],Object(l.a)(Object(l.a)({},t),{},{displayName:e.displayName,email:e.email,preferredLocale:e.preferredLocale,timezone:e.timezone,profileAttributesMap:a})}(e,t),n={displayName:a.displayName,email:a.email,preferredLocale:""===a.preferredLocale?null:a.preferredLocale,timezone:""===a.timezone?null:a.timezone,profileAttributesMap:a.profileAttributesMap};return""!==e.newPassword&&(n.password=e.newPassword),n},tn={fetchProfileRequest:ee.fetchProfileRequest,updateProfileRequest:ee.updateProfileRequest},an=Object(Et.a)(Object(m.c)((function(e){return Object(l.a)(Object(l.a)({visibleKapps:Object(h.Pb)(e),locales:e.app.locales,timezones:e.app.timezones,profile:e.profile.data,error:e.profile.error},(t=e.profile.data)?{departmentEnabled:h.hb.hasAttributeDefinition(t.space.userAttributeDefinitions,"Department"),department:h.hb.getAttributeValue(t,"Department"),managerEnabled:h.hb.hasAttributeDefinition(t.space.userAttributeDefinitions,"Manager"),manager:h.hb.getAttributeValue(t,"Manager"),organizationEnabled:h.hb.hasAttributeDefinition(t.space.userAttributeDefinitions,"Organization"),organization:h.hb.getAttributeValue(t,"Organization"),siteEnabled:h.hb.hasAttributeDefinition(t.space.userAttributeDefinitions,"Site"),site:h.hb.getAttributeValue(t,"Site"),defaultKappDisplayEnabled:h.hb.hasAttributeDefinition(t.space.userProfileAttributeDefinitions,"Default Kapp Display"),defaultKappDisplay:h.hb.getAttributeValue({attributes:t.profileAttributes},"Default Kapp Display")}:{}),{},{adminKappSlug:h.hb.getAttributeValue(e.app.space,"Admin Kapp Slug","admin"),changeManagerFormSlug:h.hb.getAttributeValue(e.app.space,"Change Manager Form Slug","change-manager-request")});var t}),tn),Object(Et.g)("editingPassword","setEditingPassword",!1),Object(Et.g)("fieldValues","setFieldValues",$a({})),Object(Et.d)({handleChangeManagerClick:function(e){var t=e.adminKappSlug,a=e.changeManagerFormSlug;return function(e){Object(h.zb)({kappSlug:t,formSlug:a,title:"Change Manager",confirmationMessage:"Your request has been submitted."})}},handleFieldChange:function(e){return function(t){var a=t.target,n=a.name,r=a.value;n&&e.setFieldValues(Object(l.a)(Object(l.a)({},e.fieldValues),{},Object(Ga.a)({},n,r)))}},handleTogglePassword:function(e){return function(t){e.setEditingPassword(!e.editingPassword),e.setFieldValues(Object(l.a)(Object(l.a)({},e.fieldValues),{},{newPassword:"",confirmPassword:""}))}},handleSubmit:function(e){return function(t){t.preventDefault(),e.updateProfileRequest(en(e.fieldValues,e.profile))}}}),Object(Et.b)({componentDidMount:function(){this.props.fetchProfileRequest()},componentDidUpdate:function(e){this.props.profile&&e.profile!==this.props.profile&&this.props.setFieldValues(Object(l.a)(Object(l.a)({},e.fieldValues),$a(this.props.profile)))}}))((function(e){var t=e.profile,a=e.error,n=e.editingPassword,r=e.fieldValues,l=e.department,i=e.departmentEnabled,o=e.organization,u=e.organizationEnabled,m=e.site,p=e.siteEnabled,d=e.defaultKappDisplayEnabled,f=e.manager,E=e.managerEnabled,g=e.handleChangeManagerClick,S=e.handleFieldChange,v=e.handleSubmit,O=e.handleTogglePassword,k=e.visibleKapps,T=e.locales,y=e.timezones;return c.a.createElement("div",{className:"page-container"},!a&&!t&&c.a.createElement(h.H,null),a&&c.a.createElement(h.z,{title:"Could not load profile",message:a.message}),t&&c.a.createElement(s.Fragment,null,c.a.createElement("div",{className:"page-panel"},c.a.createElement(Aa,{parts:["Edit Profile"],breadcrumbs:[{label:"Home",to:"/"},{label:"Profile",to:"/profile/".concat(encodeURIComponent(t.username))}],title:"Edit Profile"}),c.a.createElement("section",null,c.a.createElement("h2",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"General"))),c.a.createElement("form",{onSubmit:v,className:"form-unstyled"},c.a.createElement("div",{className:"form-group required"},c.a.createElement("label",{htmlFor:"displayName"},c.a.createElement(b.k,null,"Display Name")),c.a.createElement("input",{type:"text",id:"displayName",name:"displayName",onChange:S,value:r.displayName})),c.a.createElement("div",{className:"profile-input-container row"},c.a.createElement("div",{className:"form-group required col-md-6"},c.a.createElement("label",{htmlFor:"email"},c.a.createElement(b.k,null,"Email")),c.a.createElement("input",{type:"text",id:"email",name:"email",onChange:S,value:r.email})),c.a.createElement("div",{className:"form-group col-md-6"},c.a.createElement("label",{htmlFor:"phoneNumber"},c.a.createElement(b.k,null,"Phone Number")),c.a.createElement("input",{type:"text",id:"phoneNumber",name:"phoneNumber",onChange:S,value:r.phoneNumber})),c.a.createElement("div",{className:"form-group col-md-6"},c.a.createElement("label",{htmlFor:"preferredLocale"},"Preferred Locale"),c.a.createElement("select",{type:"text",id:"preferredLocale",name:"preferredLocale",className:"form-control",onChange:S,value:r.preferredLocale},c.a.createElement("option",{value:""},"None Selected"),T.map((function(e){return c.a.createElement("option",{value:e.code,key:"".concat(e.code,"+").concat(e.name)},e.name)})))),c.a.createElement("div",{className:"form-group col-md-6"},c.a.createElement("label",{htmlFor:"timezone"},"Timezone"),c.a.createElement("select",{type:"text",id:"timezone",name:"timezone",className:"form-control",onChange:S,value:r.timezone},c.a.createElement("option",{value:""},"None Selected"),y.map((function(e){return c.a.createElement("option",{value:e.id,key:e.id},e.name," (",e.id,")")})))),d&&c.a.createElement("div",{className:"form-group col-md-6"},c.a.createElement("label",{htmlFor:"defaultKappDisplay"},c.a.createElement(b.k,null,"Default Kapp Display")),c.a.createElement(b.k,{render:function(e){return c.a.createElement("select",{className:"form-control",type:"kapp",id:"defaultKappDisplay",name:"defaultKappDisplay",onChange:S,value:r.defaultKappDisplay},c.a.createElement("option",{value:""}),c.a.createElement("option",{value:"discussions"},e("Discussions")),k.map((function(t){return c.a.createElement("option",{key:t.slug,value:t.slug},e(t.name))})))}}))),n?c.a.createElement("div",null,c.a.createElement("hr",null),c.a.createElement("div",{className:"profile-input-container row"},c.a.createElement("div",{className:"form-group col"},c.a.createElement("label",{htmlFor:"newPassword",className:"required"},c.a.createElement(b.k,null,"New Password")),c.a.createElement("input",{type:"password",id:"newPassword",name:"newPassword",onChange:S,value:r.newPassword})),c.a.createElement("div",{className:"form-group col"},c.a.createElement("label",{htmlFor:"confirmPassword",className:"required"},c.a.createElement(b.k,null,"Password Confirmation")),c.a.createElement("input",{type:"password",id:"confirmPassword",name:"confirmPassword",onChange:S,value:r.confirmPassword}))),r.newPassword!==r.confirmPassword&&c.a.createElement("p",{className:"form-alert"},c.a.createElement(b.k,null,"Passwords Must Match")),c.a.createElement("div",null,c.a.createElement("button",{type:"button",onClick:O,className:"btn btn-secondary btn-sm"},c.a.createElement(b.k,null,"Cancel Password Change"))),c.a.createElement("hr",null)):c.a.createElement("div",null,c.a.createElement("button",{type:"button",onClick:O,className:"change-password btn btn-secondary btn-sm"},c.a.createElement(b.k,null,"Change Password")),c.a.createElement("hr",null)),c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{type:"submit",disabled:!Za(r),className:"btn btn-primary"},c.a.createElement(b.k,null,"Save Changes"))))),(E||p||i||u)&&c.a.createElement("section",{className:"mt-5"},c.a.createElement("h2",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"User Attributes"))),c.a.createElement("div",{className:"user-attributes-wrapper"},c.a.createElement("table",{className:"table table--user-attributes"},c.a.createElement("tbody",null,E&&c.a.createElement("tr",null,c.a.createElement("td",{className:"name"},c.a.createElement(b.k,null,"Manager")),c.a.createElement("td",null,f||c.a.createElement("em",null,c.a.createElement(b.k,null,"No Manager")),c.a.createElement("button",{className:"btn btn-link btn-sm",onClick:g},c.a.createElement(b.k,null,"Change Manager")))),i&&c.a.createElement("tr",null,c.a.createElement("td",{className:"name"},c.a.createElement(b.k,null,"Department")),c.a.createElement("td",null,l||c.a.createElement("em",null,c.a.createElement(b.k,null,"No Department")))),u&&c.a.createElement("tr",null,c.a.createElement("td",{className:"name"},c.a.createElement(b.k,null,"Organization")),c.a.createElement("td",null,o||c.a.createElement("em",null,c.a.createElement(b.k,null,"No Organization")))),p&&c.a.createElement("tr",null,c.a.createElement("td",{className:"name"},c.a.createElement(b.k,null,"Site")),c.a.createElement("td",null,m||c.a.createElement("em",null,c.a.createElement(b.k,null,"No Site")))))))),c.a.createElement("section",{className:"mt-5"},c.a.createElement("h2",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Roles"))),c.a.createElement("div",{className:"cards cards--fourths"},h.hb.getRoles(t).length>0?h.hb.getRoles(t).map((function(e){return c.a.createElement(h.i,{key:e.slug,color:"subtle"},c.a.createElement(h.l,{className:"py-1"},c.a.createElement("strong",null,c.a.createElement(b.k,null,e.name))))})):c.a.createElement(h.y,{title:"No Roles Assigned"}))),c.a.createElement("section",null,c.a.createElement("h2",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Teams"))),c.a.createElement("div",{className:"cards"},h.hb.getTeams(t).length>0?h.hb.getTeams(t).map((function(e){return c.a.createElement(h.Z,{key:e.slug,team:e,components:{Link:bt.a}})})):c.a.createElement(h.y,{title:"No Teams Assigned"}))))))})),nn=function(e){var t=e.onChange,a=e.values,n=e.errors;return c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"title"},"Title"),c.a.createElement("input",{id:"title",name:"title",type:"text",value:a.title,onChange:t}),n.title&&c.a.createElement("small",{className:"form-text text-danger"},n.title))},rn=Object(Et.a)(Object(m.c)((function(e,t){var a=e.teams.data,n=e.teams.data?e.teams.data.find((function(e){return e.slug===t.match.params.teamSlug})):null,r=h.hb.buildTeamHierarchy(n&&n.name||""),l=a?a.reduce((function(e,t){return e[t.name]=t,e}),{}):{};return{error:e.teams.error,teams:a,team:n,space:e.app.space,me:e.app.profile,adminKappSlug:h.hb.getAttributeValue(e.app.space,"Admin Kapp Slug","admin"),userIsMember:!!n&&h.hb.isMemberOf(e.app.profile,n.name),parent:r.parent&&l[r.parent.name],subteams:n&&a.filter((function(e){return e.name!==n.name&&e.name.replace(/::[^:]+$/,"")===n.name})),isSmallLayout:"small"===e.layout.size}})),Object(Et.g)("viewDiscussionsModal","setViewDiscussionsModal",!1),Object(Et.d)({openRequestToJoinForm:function(e){e.space;var t=e.adminKappSlug,a=e.team;return function(e){return Object(h.zb)({kappSlug:t,formSlug:"join-team-request",title:"Request to Join",confirmationMessage:"Your request has been submitted.",values:{"Team Name":a.name}})}},openRequestToLeaveForm:function(e){e.space;var t=e.adminKappSlug,a=e.team;return function(e){return Object(h.zb)({kappSlug:t,formSlug:"leave-team-request",title:"Request to Leave",confirmationMessage:"Your request has been submitted.",values:{"Team Name":a.name}})}},openDiscussions:function(e){return function(){return e.setViewDiscussionsModal(!0)}},closeDiscussions:function(e){return function(){return e.setViewDiscussionsModal(!1)}}}),Object(Et.e)((function(e){return e.team&&{creationFields:{title:e.team.name||"Team Discussion",description:e.team.name||"",owningTeams:[{name:e.team.name}]}}})))((function(e){var t=e.teams,a=e.error,n=e.team,r=e.parent,l=e.subteams,i=e.creationFields,o=e.openDiscussions,u=e.closeDiscussions,m=e.viewDiscussionsModal,p=e.isSmallLayout,d=e.me,f=e.userIsMember,E=e.openRequestToJoinForm,g=e.openRequestToLeaveForm;return c.a.createElement("div",{className:"page-container page-container--panels page-container--space-team"},c.a.createElement(Aa,{parts:[n&&n.name,"Teams"]}),a&&c.a.createElement(h.z,null),!a&&!t&&c.a.createElement(h.H,null),!a&&t&&!n&&c.a.createElement(h.z,{title:"Team not found"}),n&&c.a.createElement(s.Fragment,null,c.a.createElement("div",{className:"page-panel page-panel--three-fifths"},c.a.createElement("div",{className:"page-title"},c.a.createElement("div",{role:"navigation","aria-label":"breadcrumbs",className:"page-title__breadcrumbs"},c.a.createElement("span",{className:"breadcrumb-item"},c.a.createElement(bt.a,{to:"/teams"},c.a.createElement(b.k,null,"teams"))," "),c.a.createElement("span",{"aria-hidden":"true"},"/ "),c.a.createElement("h1",null,c.a.createElement(b.k,null,"Team Profile"))),d.spaceAdmin&&c.a.createElement(bt.a,{to:"/settings/teams/".concat(n.slug),className:"btn btn-secondary"},c.a.createElement(b.k,null,"Edit Team"))),f&&c.a.createElement("button",{onClick:o,className:"btn btn-inverse btn-block mb-3 d-md-none d-lg-none d-xl-none"},c.a.createElement("span",{className:"fa fa-comments fa-fw icon"}),c.a.createElement(b.k,null,"View Discussions")),c.a.createElement("div",{className:"cards"},c.a.createElement(h.i,{bar:!0,barColor:"primary",barIcon:h.hb.getIcon(n,"users")},c.a.createElement(h.j,{center:!0},c.a.createElement(h.l,{type:"title"},c.a.createElement(b.k,null,n.name)),c.a.createElement(h.l,null,c.a.createElement(b.k,null,n.description)),c.a.createElement(h.l,null,f?c.a.createElement("button",{onClick:g,className:"btn btn-primary btn-sm"},c.a.createElement(b.k,null,"Request to Leave")):c.a.createElement("button",{onClick:E,className:"btn btn-primary btn-sm"},c.a.createElement(b.k,null,"Request to Join")))),c.a.createElement(h.j,{center:!0},0===n.memberships.length?c.a.createElement(h.l,{className:"text-muted"},c.a.createElement(b.k,null,"No members")):c.a.createElement(h.l,null,c.a.createElement(h.f,{users:n.memberships.map((function(e){return e.user})),className:"justify-content-center",all:!0}))))),r&&c.a.createElement("section",null,c.a.createElement("h3",{className:"section__title"},c.a.createElement(b.k,null,"Parent Team")),c.a.createElement("div",{className:"cards"},c.a.createElement(h.Z,{key:r.slug,team:r,components:{Link:bt.a}}))),l.size>0&&c.a.createElement("section",null,c.a.createElement("h3",{className:"section__title"},c.a.createElement(b.k,null,"Subteams")),c.a.createElement("div",{className:"cards"},l.map((function(e){return c.a.createElement(h.Z,{key:e.slug,team:e,components:{Link:bt.a}})}))))),c.a.createElement(s.Fragment,null,m&&p&&c.a.createElement(h.ib,{close:u,itemType:"Team",itemKey:n.slug,creationFields:i,CreationForm:nn,me:d}),!p&&c.a.createElement(h.x,{itemType:"Team",itemKey:n.slug,creationFields:i,CreationForm:nn,me:d}))))})),ln=Object(Et.a)(Object(m.c)(null,{fetchTeamsRequest:se.fetchTeamsRequest}),Object(Et.b)({componentWillMount:function(){this.props.fetchTeamsRequest()}}))((function(){return c.a.createElement(u.d,null,c.a.createElement(u.b,{exact:!0,path:"/teams/:teamSlug",component:rn}),c.a.createElement(u.b,{exact:!0,path:"/teams",component:sn}),c.a.createElement(u.b,{component:h.A}))})),sn=Object(Et.a)(Object(m.c)((function(e){return{me:e.app.profile,teams:e.teams.data,error:e.teams.error,adminKappSlug:h.hb.getAttributeValue(e.app.space,"Admin Kapp Slug","admin")}})),Object(Et.d)({openRequestNewTeam:function(e){e.space;var t=e.adminKappSlug;e.team;return function(e){return Object(h.zb)({kappSlug:t,formSlug:"new-team-request",title:"Request New Team",confirmationMessage:"Your request has been submitted."})}}}))((function(e){var t=e.error,a=e.teams,n=e.me,r=e.openRequestNewTeam;return c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-panel"},c.a.createElement(Aa,{parts:["Teams"],breadcrumbs:[{label:"Home",to:"/"}],title:"Teams",actions:[n.spaceAdmin&&{label:"Manage Teams",to:"/settings/teams"},!n.spaceAdmin&&{label:"Request New Team",onClick:r}]}),c.a.createElement(h.U,{data:a,error:t,emptyTitle:"There are no teams",emptyMessage:""},(function(e){return c.a.createElement("div",{className:"cards"},a.map((function(e){return c.a.createElement(h.Z,{key:e.slug,team:e,components:{Link:bt.a}})})))}))))})),cn={fetchAboutRequest:T.fetchAboutRequest},on=Object(Et.a)(Object(m.c)((function(e){return{space:e.app.space,loading:e.about.loading,teams:e.about.teams,users:e.about.users}}),cn),Object(Et.b)({componentWillMount:function(){this.props.fetchAboutRequest()}}))((function(e){var t=e.space,a=e.users,n=e.teams,r=e.loading;return c.a.createElement("div",{className:"page-container"},!r&&c.a.createElement("div",{className:"page-panel"},c.a.createElement(Aa,{parts:["About"],breadcrumbs:[{label:"Home",to:"/"}],title:"About My Space"}),c.a.createElement("div",{className:"page-content"},c.a.createElement("section",null,c.a.createElement("h2",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"General"))),c.a.createElement("div",{className:"data-list-row"},c.a.createElement("dl",{className:"data-list-row__col"},c.a.createElement("dt",null,c.a.createElement(b.k,null,"Space Name")),c.a.createElement("dd",null,t.name)),c.a.createElement("dl",{className:"data-list-row__col"},c.a.createElement("dt",null,c.a.createElement(b.k,null,"User Base")),c.a.createElement("dd",null,a&&c.a.createElement(b.k,{render:function(e){return"".concat(a.length," ").concat(e("users"))}}),a&&n&&c.a.createElement(b.k,{render:function(e){return" ".concat(e("in")," ")}}),n&&c.a.createElement(b.k,{render:function(e){return"".concat(n.length," ").concat(e("teams"))}}))),c.a.createElement("dl",{className:"data-list-row__col"},c.a.createElement("dt",null,c.a.createElement(b.k,null,"Created At")),c.a.createElement("dd",null,c.a.createElement(h.bb,{timestamp:t.createdAt,id:t.slug}))))),a&&c.a.createElement("section",{className:"mt-4"},c.a.createElement("h2",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Space Admins"))),c.a.createElement("table",{className:"table table-responsive-sm"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null),c.a.createElement("th",{scope:"col"},c.a.createElement(b.k,null,"Display Name")),c.a.createElement("th",{scope:"col"},c.a.createElement(b.k,null,"Email")))),c.a.createElement("tbody",null,a.filter((function(e){return e.spaceAdmin})).map((function(e){return c.a.createElement("tr",{key:e.username},c.a.createElement("td",null,c.a.createElement(h.e,{username:e.username})),c.a.createElement("td",null,c.a.createElement(bt.a,{to:"/profile/".concat(encodeURIComponent(e.username))},e.displayName||e.username)),c.a.createElement("td",null,e.email))}))))))))})),un=a(2139),mn=a(2155),pn=a(2140),dn=function(e){return c.a.createElement(un.a,{placement:e.placement,isOpen:e.isOpen,target:e.target,toggle:e.toggle},c.a.createElement(mn.a,null,c.a.createElement(b.k,null,e.title)),c.a.createElement(pn.a,null,e.children))},fn=a(970),En={deleteAlertRequest:q.deleteAlertRequest},bn=Object(Et.a)(Object(m.c)((function(e){return{canEdit:!!e.app.profile.spaceAdmin}}),En),Object(Et.g)("openDeleteConfirm","setOpenDeleteConfirm",null),Object(Et.d)({toggleDeleteConfirm:function(e){var t=e.openDeleteConfirm,a=e.setOpenDeleteConfirm;return function(e){return function(){a(t?null:e)}}}}))((function(e){var t=e.alert,a=e.canEdit,n=e.openDeleteConfirm,r=e.toggleDeleteConfirm,l=e.deleteAlertRequest;return c.a.createElement("tr",null,t.values.URL?c.a.createElement("td",null,c.a.createElement("a",{href:t.values.URL,target:"_blank",rel:"noopener noreferrer"},c.a.createElement(b.k,null,t.values.Title),c.a.createElement("i",{className:"fa fa-fw fa-external-link "}))):c.a.createElement("td",null,c.a.createElement(b.k,null,t.values.Title)),c.a.createElement(b.k,{render:function(e){return c.a.createElement("td",{dangerouslySetInnerHTML:{__html:e(t.values.Content)}})}}),a&&c.a.createElement("td",null,c.a.createElement("div",{className:"btn-group btn-group-sm"},c.a.createElement("button",{id:"alert-confirm-".concat(t.id),className:"btn btn-danger",onClick:r(t.id)},c.a.createElement("span",{className:"sr-only"},"Delete Alert"),c.a.createElement("span",{className:"fa fa-fw fa-times"})),c.a.createElement(bt.a,{className:"btn btn-primary",to:"/alerts/".concat(t.id)},c.a.createElement("span",{className:"sr-only"},"Edit Alert")," ",c.a.createElement("span",{className:"fa fa-fw fa-pencil"}))),c.a.createElement(dn,{target:"alert-confirm-".concat(t.id),placement:"left",isOpen:t.id===n,toggle:r()},c.a.createElement("p",null,c.a.createElement(b.k,null,"Remove Alert?")),c.a.createElement(fn.a,{color:"danger",onClick:function(){return l(t.id)}},c.a.createElement(b.k,null,"Yes")),c.a.createElement(fn.a,{color:"link",onClick:r()},c.a.createElement(b.k,null,"No")))))})),gn=function(e){var t=e.canEdit;return c.a.createElement("div",{className:"empty-state empty-state--wally"},c.a.createElement("div",{className:"empty-state__title"},c.a.createElement(b.k,null,"No Alerts Right Now...")),t&&c.a.createElement("div",{className:"empty-state__message"},c.a.createElement(b.k,null,"Add an alert by hitting the new button!")))},hn={fetchAlertsRequest:q.fetchAlertsRequest},Sn=Object(Et.a)(Object(m.c)((function(e){return{loading:e.app.loading,spaceAdminAlerts:Object(g.a)(e.alerts.data).sortBy((function(e){return C()(e.values["Start Date Time"]||e.createdAt).unix()})).reverse(),alerts:Object(g.a)(e.alerts.data).filter((function(e){return!e.values["End Date Time"]||C()(e.values["End Date Time"]).isAfter()})).filter((function(e){return!e.values["Start Date Time"]||C()(e.values["Start Date Time"]).isBefore()})).sortBy((function(e){return C()(e.values["Start Date Time"]||e.createdAt).unix()})).reverse(),error:e.alerts.error,canEdit:!!e.app.profile.spaceAdmin}}),hn),Object(Et.b)({componentWillMount:function(){this.props.fetchAlertsRequest()}}))((function(e){var t=e.alerts,a=e.spaceAdminAlerts,n=e.loading,r=(e.match,e.error),l=e.canEdit,s=e.id;return c.a.createElement("div",{className:"page-container page-container--space-alerts"},!n&&c.a.createElement("div",{className:"page-panel page-panel--space-alerts"},c.a.createElement(Aa,{parts:["Alerts"],breadcrumbs:[{label:"Home",to:"/"}],title:"Alerts",actions:[l&&{label:"Create Alert",icon:"plus",to:"alerts/new"}]}),r&&c.a.createElement("h3",null,c.a.createElement(b.k,null,"There was a problem loading the alerts.")),c.a.createElement("div",{className:"page-content  page-content--space-alerts"},!r&&(l&&a.size<=0||!l&&t.size<=0)&&c.a.createElement(gn,{canEdit:l}),!r&&(l&&a.size>0||!l&&t.size>0)&&c.a.createElement("table",{className:"table table--alerts"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},c.a.createElement(b.k,null,"Title")),c.a.createElement("th",{scope:"col",width:"50%"},c.a.createElement(b.k,null,"Description")),l&&c.a.createElement("th",{width:"10%"}))),c.a.createElement("tbody",null,l?a.map((function(e){return c.a.createElement(bn,{key:e.id,alert:e,active:e.id===s})})):t.map((function(e){return c.a.createElement(bn,{key:e.id,alert:e,active:e.id===s})})))))))})),vn={push:F.d,fetchAlertsRequest:q.fetchAlertsRequest},On=Object(Et.a)(Object(m.c)((function(e){return{spaceName:e.app.space.name,alertsFormSlug:h.hb.getAttributeValue(e.app.space,"Alerts Form Slug","alerts")}}),vn),Object(Et.d)({handleCreateOrUpdate:function(e){return function(t){e.fetchAlertsRequest(),e.push("/alerts")}}}))((function(e){var t=e.match.params.id,a=e.alertsFormSlug,n=e.handleCreateOrUpdate,r=e.values,l="new"!==t,s=t;return c.a.createElement("div",{className:"page-container page-container--space-alerts-form"},c.a.createElement("div",{className:"page-panel page-panel--space-alerts-form"},c.a.createElement(Aa,{parts:[l?"Edit Alert":"New Alert","Alerts"],breadcrumbs:[{label:"Home",to:"/"},{label:"Alerts",to:"/alerts"}],title:"".concat(l?"Edit":"New"," Alert")}),c.a.createElement(b.k,{context:"kapps.datastore.forms.".concat(a)},l?c.a.createElement("div",null,c.a.createElement(b.d,{submission:s,updated:n})):c.a.createElement("div",null,c.a.createElement(b.d,{kapp:"datastore",form:a,created:n,updated:n,values:r})))))})),kn=a(300),Tn=function(e,t){return{loading:e.app.loading,errors:e.app.errors,kapp:e.app.kapp,authRoute:e.app.authRoute,location:e.router.location}},yn=Object(m.c)(Tn)((function(e){return e.render({main:e.errors.size>0?c.a.createElement(h.z,{title:"Unexpected Error",message:"Sorry, an unexpected error has occurred!"}):e.loading?c.a.createElement(h.H,null):c.a.createElement(b.k,null,c.a.createElement("main",{className:"package-layout package-layout--app"},c.a.createElement(Aa,{parts:["Loading..."]}),c.a.createElement(u.d,null,c.a.createElement(u.a,{path:"/",to:"/kapps/vteams/",exact:!0}),c.a.createElement(u.b,{exact:!0,path:"/kapps/:kappSlug",component:qa}),c.a.createElement(u.b,{exact:!0,path:"/kapps/:kappSlug/forms/:formSlug",component:Ja}),c.a.createElement(u.b,{exact:!0,path:"/kapps/:kappSlug/forms/:formSlug/submissions/:id",component:Ja}),c.a.createElement(u.b,{exact:!0,path:"/kapps/:kappSlug/forms/:formSlug/submissions",component:Ka}),c.a.createElement(u.b,{exact:!0,path:"/search/:query?",component:Pa}),c.a.createElement(u.b,{exact:!0,path:"/profile/edit",component:an}),c.a.createElement(u.b,{exact:!0,path:"/profile/:username?",component:Ya}),c.a.createElement(u.b,{path:"/teams",component:ln}),c.a.createElement(u.b,{exact:!0,path:"/about",component:on}),c.a.createElement(u.b,{exact:!0,path:"/alerts/:id",component:On}),c.a.createElement(u.b,{exact:!0,path:"/alerts",component:Sn}),c.a.createElement(u.a,{path:"/datastore/forms/:formSlug/submissions/:id",to:"".concat(kn.a.location,"/datastore/:formSlug/:id")}),c.a.createElement(u.a,{path:"/datastore/forms/:formSlug",to:"".concat(kn.a.location,"/datastore/:formSlug/new")}),c.a.createElement(u.a,{path:"/forms/:formSlug/submissions/:id",to:"".concat(kn.a.location,"/datastore/:formSlug/:id")}),c.a.createElement(u.a,{path:"/forms/:formSlug",to:"".concat(kn.a.location,"/datastore/:formSlug/new")}),c.a.createElement(u.b,{default:!0,component:La}))))})})),Nn=Object(m.c)(Tn)((function(e){return e.render({main:c.a.createElement(b.k,null,c.a.createElement("main",{className:"package-layout package-layout--app"},c.a.createElement(Aa,{parts:["Loading..."]}),c.a.createElement(u.d,null,e.kapp&&c.a.createElement(u.b,{exact:!0,path:"/kapps/:kappSlug/forms/:formSlug",component:Ja}),e.kapp&&c.a.createElement(u.b,{exact:!0,path:"/kapps/:kappSlug/forms/:formSlug/submissions/:id",component:Ja}),c.a.createElement(u.a,{path:"/",to:e.authRoute}))))})})),Cn=function(e){Object(ea.a)(a,e);var t=Object(ta.a)(a);function a(){return Object(Zt.a)(this,a),t.apply(this,arguments)}return Object($t.a)(a,[{key:"render",value:function(){return c.a.createElement(h.m,null,c.a.createElement(h.cb,{duration:5e3}),c.a.createElement(h.L,null),this.props.appState.authenticated?c.a.createElement(yn,{render:this.props.render,path:"".concat(this.props.appState.location,"/*")}):c.a.createElement(Nn,{render:this.props.render,path:"".concat(this.props.appState.location,"/*")}))}}]),a}(s.Component);Cn.location="/",Cn.hasPublicRoutes=!0,Cn.shouldHideHeader=function(e){var t=e.location;return void 0!==Object(j.parse)(t.search).public},Cn.shouldHideSidebar=function(e){var t=e.location;return void 0!==Object(j.parse)(t.search).public};var Fn=a(17),jn=a(65),_n="SYNC_APP_STATE",An=function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];qs.dispatch({type:_n,payload:{key:a,value:r}})},Rn=a(106),xn=a.n(Rn),wn=a(73),In=a.n(wn),Ln=a(147),Pn=a.n(Ln),Un=(Object(g.f)({displayName:"",username:"",email:""}),Object(g.a)(["Open","Pending","Cancelled","Complete"])),Mn=Object(g.a)(["createdAt","updatedAt","closedAt","Due Date"]),Dn=Object(g.a)(["ASC","DESC"]),qn=Object(g.a)(["mine","unassigned"]),Hn=Object(g.f)({mine:!1,teammates:!1,unassigned:!1}),Bn=Object(g.f)({timeline:"createdAt",preset:"",custom:!1,start:"",end:""}),zn=Object(g.f)({name:"",slug:"",icon:"",type:"default",sortBy:"createdAt",sortDirection:"ASC",status:Un.filter((function(e){return"Complete"!==e&&"Cancelled"!==e})),teams:Object(g.a)(),assignments:"",dateRange:Bn(),createdByMe:!1}),Qn=function(e){try{var t=e;if("string"===typeof e&&(t=JSON.parse(e)),!t.name)return null;var a=Mn.includes(t.sortBy)?t.sortBy:void 0,n=Dn.includes(t.sortDirection)?t.sortDirection:Dn.get(0),r=In()(t.status)?Object(g.a)(t.status):void 0,l=In()(t.teams)?Object(g.a)(t.teams):void 0,s=Pn()(t.assignments)?function(e){var t=Hn(e);return t.teammates||t.mine&&t.unassigned?"":t.mine?"mine":t.unassigned?"unassigned":""}(t.assignments):qn.includes(t.assignments)?t.assignments:"",c=Pn()(t.dateRange)?Bn(t.dateRange):void 0;return zn({name:t.name,slug:t.slug,icon:t.icon,type:t.type,sortBy:a,sortDirection:n,status:r,teams:l,assignments:s,dateRange:c,createdByMe:!0===t.createdByMe})}catch(i){return null}},Kn=h.hb.withPayload,Gn=h.hb.noPayload,Wn=h.hb.getAttributeValue,Vn=h.hb.namespaceBuilder("queue/app"),Jn={FETCH_APP_DATA_REQUEST:Vn("FETCH_APP_DATA_REQUEST"),FETCH_APP_DATA_SUCCESS:Vn("FETCH_APP_DATA_SUCCESS"),FETCH_APP_DATA_FAILURE:Vn("FETCH_APP_DATA_FAILURE"),ADD_PERSONAL_FILTER:Vn("ADD_PERSONAL_FILTER"),UPDATE_PERSONAL_FILTER:Vn("UPDATE_PERSONAL_FILTER"),REMOVE_PERSONAL_FILTER:Vn("REMOVE_PERSONAL_FILTER")},Xn={fetchAppDataRequest:Gn(Jn.FETCH_APP_DATA_REQUEST),fetchAppDataSuccess:Kn(Jn.FETCH_APP_DATA_SUCCESS),addPersonalFilter:Kn(Jn.ADD_PERSONAL_FILTER),updatePersonalFilter:Kn(Jn.UPDATE_PERSONAL_FILTER),removePersonalFilter:Kn(Jn.REMOVE_PERSONAL_FILTER)},Yn={path:"*/adhoc",exact:!1},Zn={path:"*/list/:name",exact:!1},$n={path:"*/team/:name",exact:!1},er={path:"*/custom/:name",exact:!1},tr=function(e,t){var a=function(e){return function(t){return t.name===e}},n=xn()(t,Yn),r=xn()(t,Zn),l=xn()(t,$n),s=xn()(t,er);if(n)return e.queue.adhocFilter;if(r)return e.queueApp.filters.find(a(r.params.name));if(l){var c=l.params.name;try{c=decodeURIComponent(l.params.name)}catch(o){}return e.queueApp.teamFilters.find(a(c))}if(s){var i=s.params.name;try{i=decodeURIComponent(s.params.name)}catch(o){}return e.queueApp.myFilters.find(a(i))}},ar=function(e){return e.queueApp.forms.filter((function(t){var a=t.attributes["Owning Team"];return!a||e.queueApp.myTeams.map((function(e){return e.name})).toSet().intersect(new g.i(a)).size>0}))},nr=function(e,t,a){var n=e.filter((function(e){return e.memberships.length>0})),r=!!t&&!!a&&["No","False"].includes(h.hb.getAttributeValue(t,"Allow Reassignment","Yes")),l=t?h.hb.getAttributeValues(t,"Assignable Teams",[]):[];return a&&r?n.filter((function(e){return e.name===a.values["Assigned Team"]})):l.length>0?n.filter((function(e){return l.includes(e.name)})):n},rr=function(e){return e.flatMap((function(e){return e.memberships.map((function(t){var a=t.user;return a.team=e.name,a})).concat([{username:null,displayName:"Unassigned",team:e.name}])}))},lr=function(){return rr(nr.apply(void 0,arguments))},sr=Object(g.f)({filters:Object(g.a)([zn({name:"Mine",assignments:"mine"}),zn({name:"Unassigned",assignments:"unassigned"}),zn({name:"Created By Me",createdByMe:!0})]),allTeams:Object(g.a)(),myTeams:Object(g.a)(),teamFilters:Object(g.a)(),myFilters:Object(g.a)(),forms:Object(g.a)(),bulkWorkEnabled:!1,loading:!0,error:null}),cr=h.hb.withPayload,ir=h.hb.noPayload,or=h.hb.namespaceBuilder("queue/list"),ur={FETCH_LIST_REQUEST:or("FETCH_LIST_REQUEST"),FETCH_LIST_SUCCESS:or("FETCH_LIST_SUCCESS"),FETCH_LIST_FAILURE:or("FETCH_LIST_FAILURE"),FETCH_LIST_PREVIOUS:or("FETCH_LIST_PREVIOUS"),FETCH_LIST_NEXT:or("FETCH_LIST_NEXT"),FETCH_LIST_RESET:or("FETCH_LIST_RESET"),UPDATE_LIST_LIMIT:or("UPDATE_LIST_LIMIT"),FETCH_LIST_COUNT_REQUEST:or("FETCH_LIST_COUNT_REQUEST"),FETCH_LIST_COUNT_SUCCESS:or("FETCH_LIST_COUNT_SUCCESS"),FETCH_CURRENT_ITEM:or("FETCH_CURRENT_ITEM"),SET_CURRENT_ITEM:or("SET_CURRENT_ITEM"),UPDATE_QUEUE_ITEM:or("UPDATE_QUEUE_ITEM"),SET_ADHOC_FILTER:or("SET_ADHOC_FILTER"),OPEN_NEW_MENU:or("OPEN_NEW_MENU"),CLOSE_NEW_MENU:or("CLOSE_NEW_MENU"),TOGGLE_SELECTION_MODE:or("TOGGLE_SELECTION_MODE"),TOGGLE_SELECTED_ITEM:or("TOGGLE_SELECTED_ITEM"),BULK_ASSIGN_REQUEST:or("BULK_ASSIGN_REQUEST"),BULK_ASSIGN_COMPLETE:or("BULK_ASSIGN_COMPLETE"),BULK_WORK_REQUEST:or("BULK_WORK_REQUEST"),BULK_WORK_COMPLETE:or("BULK_WORK_COMPLETE"),BULK_STATUS_UPDATE:or("BULK_STATUS_UPDATE"),BULK_STATUS_RESET:or("BULK_STATUS_RESET")},mr={fetchListRequest:cr(ur.FETCH_LIST_REQUEST),fetchListSuccess:cr(ur.FETCH_LIST_SUCCESS),fetchListFailure:cr(ur.FETCH_LIST_FAILURE),fetchListPrevious:cr(ur.FETCH_LIST_PREVIOUS),fetchListNext:cr(ur.FETCH_LIST_NEXT),fetchListReset:cr(ur.FETCH_LIST_RESET),updateListLimit:cr(ur.UPDATE_LIST_LIMIT),fetchListCountRequest:cr(ur.FETCH_LIST_COUNT_REQUEST),fetchListCountSuccess:cr(ur.FETCH_LIST_COUNT_SUCCESS),fetchCurrentItem:cr(ur.FETCH_CURRENT_ITEM),setCurrentItem:cr(ur.SET_CURRENT_ITEM),updateQueueItem:cr(ur.UPDATE_QUEUE_ITEM),setAdhocFilter:cr(ur.SET_ADHOC_FILTER),openNewItemMenu:cr(ur.OPEN_NEW_MENU),closeNewItemMenu:ir(ur.CLOSE_NEW_MENU),toggleSelectionMode:cr(ur.TOGGLE_SELECTION_MODE,"open","items"),toggleSelectedItem:cr(ur.TOGGLE_SELECTED_ITEM,"item","shift"),bulkAssignRequest:cr(ur.BULK_ASSIGN_REQUEST),bulkAssignComplete:ir(ur.BULK_ASSIGN_COMPLETE),bulkWorkRequest:cr(ur.BULK_WORK_REQUEST),bulkWorkComplete:ir(ur.BULK_WORK_COMPLETE),bulkStatusUpdate:cr(ur.BULK_STATUS_UPDATE),bulkStatusReset:ir(ur.BULK_STATUS_RESET)},pr=Object(g.f)({currentFilter:null,loading:!0,paging:!1,data:null,error:null,pageToken:null,nextPageToken:null,previousPageTokens:Object(g.a)(),hasPreviousPage:!1,hasNextPage:!1,pageIndexStart:0,pageIndexEnd:0,limit:10,counts:Object(g.b)(),currentItem:null,currentItemLoading:!1,adhocFilter:zn({type:"adhoc",assignments:"mine"}),newItemMenuOpen:!1,newItemMenuOptions:Object(g.b)(),selectedList:null,bulkStatus:{}}),dr=function(e){return e.set("hasPreviousPage",e.previousPageTokens.size>0).set("hasNextPage",!!e.nextPageToken).set("pageIndexStart",e.previousPageTokens.size*e.limit+(e.data&&e.data.size>0?1:0)).set("pageIndexEnd",e.previousPageTokens.size*e.limit+(e.data?e.data.size:0))},fr=function(e,t){var a=e.item,n=e.shift;return function(e){if(e){if(n){var r=e._lastSelectedItem,l=r?t.findIndex((function(e){return e.id===r.id})):-1,s=t.findIndex((function(e){return e.id===a.id})),c=!e.has(a.id);if(s>=0&&l>=0&&s!==l)return Array(Math.abs(s-l)+1).fill().map((function(e,t){return t+Math.min(s,l)})).reduce((function(e,a){var n=t.get(a);return c&&!e.has(n.id)?e.set(n.id,n):!c&&e.has(n.id)?e.delete(n.id):e}),e)}return e.has(a.id)?e.delete(a.id):e.set(a.id,a)}return e}},Er="@kd/queue/filterMenu/OPEN",br="@kd/queue/filterMenu/CLOSE",gr="@kd/queue/filterMenu/RESET",hr="@kd/queue/filterMenu/SET_FILTER_NAME",Sr="@kd/queue/filterMenu/SHOW_SECTION",vr="@kd/queue/filterMenu/TOGGLE_ASSIGNMENT",Or="@kd/queue/filterMenu/TOGGLE_CREATED_BY_ME",kr="@kd/queue/filterMenu/TOGGLE_TEAM",Tr="@kd/queue/filterMenu/TOGGLE_STATUS",yr="@kd/queue/filterMenu/SET_DATE_RANGE_TIMELINE",Nr="@kd/queue/filterMenu/SET_DATE_RANGE",Cr="@kd/queue/filterMenu/SET_SORTED_BY",Fr="@kd/queue/filterMenu/SET_DIRECTION",jr={open:function(e){return{type:Er,payload:e}},close:function(){return{type:br}},reset:function(){return{type:gr}},setFilterName:function(e){return{type:hr,payload:e}},showSection:function(e){return{type:Sr,payload:e}},toggleAssignment:function(e){return{type:vr,payload:e}},toggleCreatedByMe:function(e){return{type:Or,payload:e}},toggleTeam:function(e){return{type:kr,payload:e}},toggleStatus:function(e){return{type:Tr,payload:e}},setDateRangeTimeline:function(e){return{type:yr,payload:e}},setDateRange:function(e){return{type:Nr,payload:e}},setSortedBy:function(e){return{type:Cr,payload:e}},setDirection:function(e){return{type:Fr,payload:e}}},_r=Object(g.b)({isOpen:!1,initialFilter:null,currentFilter:null,activeSection:null,filterName:""}),Ar=h.hb.namespace,Rr=h.hb.noPayload,xr={OPEN_WORK_MENU:Ar("workMenu","OPEN_WORK_MENU"),CLOSE_WORK_MENU:Ar("workMenu","CLOSE_WORK_MENU")},wr={openWorkMenu:function(e,t){return{type:xr.OPEN_WORK_MENU,payload:{queueItem:e,onWorked:t}}},closeWorkMenu:Rr(xr.CLOSE_WORK_MENU)},Ir=Object(g.f)({queueItem:null,onWorked:null}),Lr=h.hb.namespace,Pr=h.hb.withPayload,Ur={UPDATE_QUEUE_SETTINGS:Lr("queueSettings","UPDATE_QUEUE_SETTINGS"),UPDATE_QUEUE_SETTINGS_ERROR:Lr("queueSettings","UPDATE_QUEUE_SETTINGS_ERROR"),FETCH_QUEUE_SETTINGS:Lr("queueSettings","FETCH_QUEUE_SETTINGS"),FETCH_QUEUE_SETTINGS_SPACE:Lr("queueSettings","FETCH_QUEUE_SETTINGS_SPACE"),FETCH_QUEUE_SETTINGS_TEAMS:Lr("queueSettings","FETCH_QUEUE_SETTINGS_TEAMS"),SET_QUEUE_SETTINGS:Lr("queueSettings","SET_QUEUE_SETTINGS"),SET_QUEUE_SETTINGS_SPACE:Lr("queueSettings","SET_QUEUE_SETTINGS_SPACE"),SET_QUEUE_SETTINGS_TEAMS:Lr("queueSettings","SET_QUEUE_SETTINGS_TEAMS"),FETCH_QUEUE_SETTINGS_USERS:Lr("queueSettings","FETCH_QUEUE_SETTINGS_USERS"),SET_QUEUE_SETTINGS_USERS:Lr("queueSettings","SET_QUEUE_SETTINGS_USERS"),FETCH_NOTIFICATIONS:Lr("queueSettings","FETCH_NOTIFICATIONS"),SET_NOTIFICATIONS:Lr("queueSettings","SET_NOTIFICATIONS"),FETCH_FORM:Lr("queueSettings","FETCH_FORM"),SET_FORM:Lr("queueSettings","SET_FORM")},Mr={updateQueueSettings:Pr(Ur.UPDATE_QUEUE_SETTINGS),updateQueueSettingsError:Pr(Ur.UPDATE_QUEUE_SETTINGS_ERROR),fetchQueueSettings:Pr(Ur.FETCH_QUEUE_SETTINGS),fetchQueueSettingsSpace:Pr(Ur.FETCH_QUEUE_SETTINGS_SPACE),fetchQueueSettingsTeams:Pr(Ur.FETCH_QUEUE_SETTINGS_TEAMS),fetchQueueSettingsUsers:Pr(Ur.FETCH_QUEUE_SETTINGS_USERS),setQueueSettings:Pr(Ur.SET_QUEUE_SETTINGS),setQueueSettingsSpace:Pr(Ur.SET_QUEUE_SETTINGS_SPACE),setQueueSettingsTeams:Pr(Ur.SET_QUEUE_SETTINGS_TEAMS),setQueueSettingsUsers:Pr(Ur.SET_QUEUE_SETTINGS_USERS),fetchNotifications:Pr(Ur.FETCH_NOTIFICATIONS),setNotifications:Pr(Ur.SET_NOTIFICATIONS),fetchForm:Pr(Ur.FETCH_FORM),setForm:Pr(Ur.SET_FORM)},Dr=Object(g.f)({loading:!0,teams:null,users:null,error:null,queueSettingsKapp:null,loadingTeams:!0,loadingUsers:!0,loadingSpace:!0,loadingForm:!0,spaceKapps:null,notifications:null,notificationsLoading:!0,form:null}),qr=h.hb.namespace,Hr=h.hb.noPayload,Br=h.hb.withPayload,zr="details,fields,attributesMap,categorizations,kapp",Qr="details,fields,bridgedResources,customHeadContent,pages,securityPolicies,attributesMap,categorizations,kapp",Kr=Object(g.f)({columns:Object(g.a)()}),Gr=Object(g.f)({name:"",label:"",type:"",visible:!1}),Wr=[Gr({label:"Handle",name:"handle",type:"system",visible:!0}),Gr({label:"Label",name:"label",type:"system",visible:!0}),Gr({label:"State",name:"coreState",type:"system"}),Gr({label:"Created At",name:"createdAt",type:"system"}),Gr({label:"Created By",name:"createdBy",type:"system"}),Gr({label:"Updated At",name:"updatedAt",type:"system"}),Gr({label:"Updated By",name:"updatedBy",type:"system"}),Gr({label:"Id",name:"id",type:"system"})],Vr={FETCH_FORM:qr("settingsQueueForms","FETCH_FORM"),FETCH_FORM_REQUEST:qr("settingsQueueForms","FETCH_FORM_REQUEST"),FETCH_FORM_SUCCESS:qr("settingsQueueForms","FETCH_FORM_SUCCESS"),FETCH_FORM_FAILURE:qr("settingsQueueForms","FETCH_FORM_FAILURE"),SET_QUEUE_FORM:qr("settingsQueueForms","SET_QUEUE_FORM"),UPDATE_QUEUE_FORM:qr("settingsQueueForms","UPDATE_QUEUE_FORM"),CREATE_FORM:qr("settingsQueueForms","CREATE_FORM"),FETCH_FORM_SUBMISSIONS:qr("settingsQueueForms","FETCH_FORM_SUBMISSIONS"),SET_FORM_SUBMISSIONS:qr("settingsQueueForms","SET_FORM_SUBMISSIONS"),FETCH_FORM_SUBMISSION:qr("settingsQueueForms","FETCH_FORM_SUBMISSION"),SET_FORM_SUBMISSION:qr("settingsQueueForms","SET_FORM_SUBMISSION"),FETCH_KAPP:qr("settingsQueueForms","FETCH_KAPP"),SET_KAPP:qr("settingsQueueForms","SET_KAPP"),SET_FORMS_ERROR:qr("settingsQueueForms","SET_FORMS_ERROR"),FETCH_NOTIFICATIONS:qr("settingsQueueForms","FETCH_NOTIFICATIONS"),SET_NOTIFICATIONS:qr("settingsQueueForms","SET_NOTIFICATIONS"),SET_CLIENT_SORT_INFO:qr("settingsQueueForms","SET_CLIENT_SORT_INFO"),FETCH_ALL_SUBMISSIONS:qr("settingsQueueForms","FETCH_ALL_SUBMISSIONS"),SET_EXPORT_SUBMISSIONS:qr("settingsQueueForms","SET_EXPORT_SUBMISSIONS"),SET_EXPORT_COUNT:qr("settingsQueueForms","SET_EXPORT_COUNT"),OPEN_MODAL:qr("settingsQueueForms","OPEN_MODAL"),CLOSE_MODAL:qr("settingsQueueForms","CLOSE_MODAL"),SET_DOWNLOADED:qr("settingsQueueForms","SET_DOWNLOADED"),DELETE_FORM_REQUEST:qr("settingsQueueForms","DELETE_FORM_REQUEST"),DELETE_FORM_COMPLETE:qr("settingsQueueForms","DELETE_FORM_COMPLETE"),CLONE_FORM_REQUEST:qr("settingsQueueForms","CLONE_FORM_REQUEST"),CLONE_FORM_COMPLETE:qr("settingsQueueForms","CLONE_FORM_COMPLETE")},Jr={fetchForm:Br(Vr.FETCH_FORM),fetchFormRequest:Br(Vr.FETCH_FORM_REQUEST),fetchFormSuccess:Br(Vr.FETCH_FORM_SUCCESS),fetchFormFailure:Br(Vr.FETCH_FORM_FAILURE),setForm:Br(Vr.SET_QUEUE_FORM),updateForm:Br(Vr.UPDATE_QUEUE_FORM),createForm:Br(Vr.CREATE_FORM),fetchFormSubmissions:Br(Vr.FETCH_FORM_SUBMISSIONS),setFormSubmissions:Br(Vr.SET_FORM_SUBMISSIONS),fetchFormSubmission:Br(Vr.FETCH_FORM_SUBMISSION),setFormSubmission:Br(Vr.SET_FORM_SUBMISSION),fetchKapp:Br(Vr.FETCH_KAPP),setKapp:Br(Vr.SET_KAPP),setFormsError:Br(Vr.SET_FORMS_ERROR),fetchNotifications:Br(Vr.FETCH_NOTIFICATIONS),setNotifications:Br(Vr.SET_NOTIFICATIONS),setClientSortInfo:Br(Vr.SET_CLIENT_SORT_INFO),fetchAllSubmissions:Br(Vr.FETCH_ALL_SUBMISSIONS),setExportSubmissions:Br(Vr.SET_EXPORT_SUBMISSIONS),setExportCount:Br(Vr.SET_EXPORT_COUNT),openModal:Br(Vr.OPEN_MODAL),closeModal:Hr(Vr.CLOSE_MODAL),setDownloaded:Br(Vr.SET_DOWNLOADED),deleteFormRequest:Br(Vr.DELETE_FORM_REQUEST),deleteFormComplete:Br(Vr.DELETE_FORM_COMPLETE),cloneFormRequest:Br(Vr.CLONE_FORM_REQUEST),cloneFormComplete:Br(Vr.CLONE_FORM_COMPLETE)},Xr=function(e){var t=function(e){try{var t=JSON.parse(e);return Pn()(t)?Kr(t).update("columns",(function(e){return Object(g.a)(e)})):Kr()}catch(a){return Kr()}}(e.attributesMap["Form Configuration"]&&e.attributesMap["Form Configuration"][0]),a=Object(g.a)(e.fields.map((function(e){return Gr({name:e.name,label:e.name,type:"value"})})).concat(Wr)).sort((function(e,a){var n=t.columns.findIndex((function(t){return t.name===e.name&&t.type===e.type})),r=t.columns.findIndex((function(e){return e.name===a.name&&e.type===a.type}));return n===r?0:n>=0&&(n<r||-1===r)?-1:1}));return t.columns.size>0?t.merge({columns:Object(g.a)(a.map((function(e){var a=t.columns.find((function(t){return t.name===e.name&&t.type===e.type}));return a?Gr(Object(l.a)(Object(l.a)({},a),{},{name:e.name,type:e.type,label:e.label})):e})))}):t.merge({columns:Object(g.a)(a)})},Yr=function(e,t){return t?e.sortBy((function(e){return("value"===t.type?e.values[t.name]:e[t.name])||""}),(function(e,a){return e.localeCompare(a)*("DESC"===t.direction?-1:1)})):e},Zr=Object(g.f)({loading:!0,errors:[],currentForm:null,currentFormChanges:null,queueKapp:null,kappLoading:!0,notificationsLoading:!0,notifications:null,currentFormSubmissions:null,nextPageToken:null,submissionsLoading:!0,submissionLoading:!0,formSubmission:null,submissionColumns:new g.a,clientSortInfo:null,modalIsOpen:!1,modalName:"",exportSubmissions:[],exportCount:0,downloaded:!1,processing:Object(g.b)()}),$r=a(640),el=function(e){return{name:e.name,slug:e.slug,description:e.description,icon:h.hb.getAttributeValue(e,$r.ATTRIBUTE_ICON,$r.DEFAULT_FORM_ICON),categories:e.categorizations&&e.categorizations.map((function(e){return e.category.slug})),type:e.type,status:e.status,createdAt:e.createdAt,updatedAt:e.updatedAt,kapp:e.kapp}},tl=h.hb.withPayload,al=h.hb.noPayload,nl=h.hb.namespaceBuilder("queue/forms"),rl={FETCH_FORMS_REQUEST:nl("FETCH_FORMS_REQUEST"),FETCH_FORMS_SUCCESS:nl("FETCH_FORMS_SUCCESS"),FETCH_FORMS_FAILURE:nl("FETCH_FORMS_FAILURE")},ll={fetchFormsRequest:al(rl.FETCH_FORMS_REQUEST),fetchFormsSuccess:tl(rl.FETCH_FORMS_SUCCESS),fetchFormsFailure:tl(rl.FETCH_FORMS_FAILURE)},sl={loading:!0,error:null,data:Object(g.a)()},cl={app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object(l.a)({},e);return t.type===_n&&(a[t.payload.key]=t.payload.value),a.space&&a.kapp&&(a.profile||!1===a.authenticated)&&a.layoutSize?a.ready=!0:a.ready=!1,a},queueApp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Jn.FETCH_APP_DATA_REQUEST:return e.set("loading",!0).set("error",null);case Jn.FETCH_APP_DATA_SUCCESS:return e.set("allTeams",Object(g.a)(n.allTeams)).set("myTeams",Object(g.a)(n.myTeams)).set("teamFilters",Object(g.a)(n.myTeams).map((function(e){var t=Qn(Wn(e,"Default Queue Filter"));return t?t.set("type","team").update("name",(function(t){return t||e.name})).update("icon",(function(t){return t||h.hb.getIcon(e,"users")})).update("teams",(function(t){return t.includes(e.name)?t:t.push(e.name)})):zn({name:e.name,type:"team",icon:h.hb.getIcon(e,"users"),teams:Object(g.a)([e.name])})})).sortBy((function(e){return e.name}))).set("myFilters",Object(g.a)(n.myFilters)).set("forms",n.forms.filter((function(e){return"Active"===e.status||"New"===e.status}))).set("bulkWorkEnabled",n.forms.filter((function(e){return"Active"===e.status||"New"===e.status})).some((function(e){return e.fields.some((function(e){return"Bulk Action"===e.name}))}))).set("loading",!1);case Jn.FETCH_APP_DATA_FAILURE:return e.set("error",n).set("loading",!1);case Jn.ADD_PERSONAL_FILTER:return e.update("myFilters",(function(e){return e.push(n)}));case Jn.UPDATE_PERSONAL_FILTER:return e.update("myFilters",(function(e){return e.set(e.findIndex((function(e){return e.name===n.name})),n)}));case Jn.REMOVE_PERSONAL_FILTER:return e.update("myFilters",(function(e){return e.filterNot((function(e){return e.name===n.name}))}));default:return e}},queue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case ur.FETCH_LIST_REQUEST:return!n&&e.currentFilter||Object(g.n)(n,e.currentFilter)?e:e.set("currentFilter",n).set("loading",!0).set("paging",!1).set("data",null).set("error",null).set("pageToken",null).set("nextPageToken",null).set("previousPageTokens",Object(g.a)()).update(dr).set("selectedList",null);case ur.FETCH_LIST_SUCCESS:return e.set("loading",!1).set("paging",!1).set("data",Object(g.a)(n.submissions)).set("nextPageToken",n.nextPageToken).update(dr);case ur.FETCH_LIST_FAILURE:return e.set("loading",!1).set("paging",!1).set("error",n);case ur.FETCH_LIST_PREVIOUS:return e.set("nextPageToken",null).set("pageToken",e.previousPageTokens.last()).update("previousPageTokens",(function(e){return e.pop()})).set("paging",!0);case ur.FETCH_LIST_NEXT:return e.update("previousPageTokens",(function(t){return t.push(e.pageToken)})).set("pageToken",e.nextPageToken).set("nextPageToken",null).set("paging",!0);case ur.FETCH_LIST_RESET:return e.set("currentFilter",n||null).set("loading",!0).set("paging",!1).set("data",null).set("error",null).set("pageToken",null).set("nextPageToken",null).set("previousPageTokens",Object(g.a)()).update(dr).update("selectedList",(function(t){return n&&Object(g.n)(n,e.currentFilter)?t:null}));case ur.UPDATE_LIST_LIMIT:return"number"===typeof n?e.set("limit",n).set("loading",!0).set("paging",!1).set("data",null).set("error",null).set("pageToken",null).set("nextPageToken",null).set("previousPageTokens",Object(g.a)()).update(dr):e;case ur.FETCH_LIST_COUNT_SUCCESS:return n.filter?e.setIn(["counts",n.filter],n.count):e;case ur.SET_ADHOC_FILTER:return e.set("adhocFilter",n.set("name",n.name&&("custom"===n.type||Object(g.n)(n.delete("sortDirection"),e.currentFilter.delete("sortDirection")))?n.name:"").set("type","adhoc"));case ur.FETCH_CURRENT_ITEM:return e.set("currentItemLoading",!0);case ur.SET_CURRENT_ITEM:return e.set("currentItemLoading",!1).set("currentItem",n);case ur.OPEN_NEW_MENU:return e.set("newItemMenuOpen",!0).set("newItemMenuOptions",Object(g.b)(n));case ur.CLOSE_NEW_MENU:return e.set("newItemMenuOpen",!1).remove("newItemMenuOptions");case ur.TOGGLE_SELECTION_MODE:return e.update("selectedList",(function(e){return"boolean"===typeof n.open?n.open?Array.isArray(n.items)?n.items.reduce((function(e,t){return e.set(t.id,t)}),Object(g.c)()):Object(g.c)():null:null===e?Object(g.c)():null}));case ur.TOGGLE_SELECTED_ITEM:return e.update("selectedList",fr(n,e.data)).update("selectedList",(function(e){return e._lastSelectedItem=n.item,e}));case ur.BULK_ASSIGN_REQUEST:case ur.BULK_WORK_REQUEST:return e.set("bulkStatus",{type:a===ur.BULK_ASSIGN_REQUEST?"assign":"work",open:!0,completed:!1,count:e.selectedList.size,items:e.selectedList.toList().toJS(),success:[],error:[]});case ur.BULK_ASSIGN_COMPLETE:case ur.BULK_WORK_COMPLETE:return e.setIn(["bulkStatus","completed"],!0);case ur.BULK_STATUS_UPDATE:return e.updateIn(["bulkStatus",n.status],(function(e){return[].concat(Object(Te.a)(e),[n.data])}));case ur.BULK_STATUS_RESET:return e.set("bulkStatus",{});default:return e}},filterMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Er:return Object(g.b)({isOpen:!0,initialFilter:n,currentFilter:n,activeSection:null,filterName:"custom"===n.type?n.name:""});case br:return _r;case gr:return e.set("currentFilter",e.get("initialFilter"));case hr:return e.set("filterName",n).setIn(["currentFilter","name"],n);case Sr:return e.set("activeSection",n);case vr:return e.setIn(["currentFilter","assignments"],n);case Or:return e.setIn(["currentFilter","createdByMe"],n);case kr:return e.updateIn(["currentFilter","teams"],(function(e){var t=e.indexOf(n);return t>-1?e.delete(t):e.push(n)}));case Tr:return e.updateIn(["currentFilter","status"],(function(e){return e.includes(n)?e.delete(e.indexOf(n)):e.push(n)}));case yr:return e.setIn(["currentFilter","dateRange","timeline"],n).updateIn(["currentFilter","sortBy"],(function(t){return e.getIn(["currentFilter","dateRange","preset"])||e.getIn(["currentFilter","dateRange","custom"])?n:t}));case Nr:var r="object"===typeof n;return e.mergeIn(["currentFilter","dateRange"],{preset:r?"":n,custom:r,start:r?n.start:"",end:r?n.end:""}).updateIn(["currentFilter","sortBy"],(function(t){return n?e.getIn(["currentFilter","dateRange","timeline"]):t}));case Cr:return e.setIn(["currentFilter","sortBy"],n);case Fr:return e.setIn(["currentFilter","sortDirection"],n);default:return e}},workMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case xr.OPEN_WORK_MENU:return Ir(n);case xr.CLOSE_WORK_MENU:return Ir();default:return e}},queueSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Ur.FETCH_QUEUE_SETTINGS:return e.set("loading",!0);case Ur.FETCH_QUEUE_SETTINGS_TEAMS:return e.set("loadingTeams",!0);case Ur.FETCH_QUEUE_SETTINGS_USERS:return e.set("loadingUsers",!0);case Ur.FETCH_QUEUE_SETTINGS_SPACE:return e.set("loadingSpace",!0);case Ur.SET_QUEUE_SETTINGS:return e.set("queueSettingsKapp",n).set("loading",!1).set("error",null);case Ur.SET_QUEUE_SETTINGS_TEAMS:return e.set("teams",n).set("loadingTeams",!1).set("error",null);case Ur.SET_QUEUE_SETTINGS_USERS:return e.set("users",n).set("loadingUsers",!1).set("error",null);case Ur.SET_QUEUE_SETTINGS_SPACE:return e.set("spaceKapps",n).set("loadingTeams",!1).set("error",null);case Ur.UPDATE_QUEUE_SETTINGS_ERROR:return e.set("queueSettings",null).set("loading",!1).set("error",n);case Ur.UPDATE_QUEUE_SETTINGS:return e.set("loading",!1);case Ur.FETCH_NOTIFICATIONS:return e.set("notificationsLoading",!0);case Ur.SET_NOTIFICATIONS:return e.set("notificationsLoading",!1).set("notifications",n);case Ur.FETCH_FORM:return e.set("loadingForm",!0);case Ur.SET_FORM:return e.set("loadingForm",!1).set("form",n);default:return e}},settingsForms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Vr.FETCH_FORM:return e;case Vr.FETCH_FORM_REQUEST:return e.update("currentForm",(function(e){return e&&e.slug===n.formSlug?e:null})).set("errors",null);case Vr.FETCH_FORM_SUCCESS:return e.set("currentForm",n);case Vr.FETCH_FORM_FAILURE:return e.set("errors",n);case Vr.SET_QUEUE_FORM:var r=Xr(n),l=e.currentForm&&e.currentForm.slug!==n.slug;return e.set("loading",!1).set("currentForm",n).set("submissionColumns",r.columns).set("clientSortInfo",l?null:e.clientSortInfo);case Vr.FETCH_FORM_SUBMISSIONS:return e.set("submissionsLoading",!0);case Vr.SET_FORM_SUBMISSIONS:return e.set("submissionsLoading",!1).set("currentFormSubmissions",Yr(Object(g.a)(n.submissions),e.clientSortInfo)).set("nextPageToken",n.nextPageToken);case Vr.FETCH_FORM_SUBMISSION:return e.set("submissionLoading",!0);case Vr.SET_FORM_SUBMISSION:return e.set("submissionLoading",!1).set("formSubmission",n);case Vr.FETCH_KAPP:return e.set("kappLoading",!0);case Vr.SET_KAPP:return e.set("kappLoading",!1).set("queueKapp",n);case Vr.FETCH_NOTIFICATIONS:return e.set("notificationsLoading",!0);case Vr.SET_NOTIFICATIONS:return e.set("notificationsLoading",!1).set("notifications",n);case Vr.SET_FORMS_ERROR:return e.set("loading",!1).set("errors",n);case Vr.SET_CLIENT_SORT_INFO:return e.set("clientSortInfo",n).set("currentFormSubmissions",Yr(e.currentFormSubmissions,n));case Vr.FETCH_ALL_SUBMISSIONS:return e.set("fetchingAll",!0);case Vr.SET_EXPORT_SUBMISSIONS:return e.set("exportSubmissions",n).set("fetchingAll",!1);case Vr.SET_EXPORT_COUNT:return e.set("exportCount",n);case Vr.OPEN_MODAL:return e.set("modalIsOpen",!0).set("modalName",n);case Vr.CLOSE_MODAL:return e.set("modalIsOpen",!1).set("modalName","");case Vr.SET_DOWNLOADED:return e.set("downloaded",n);case Vr.DELETE_FORM_REQUEST:return e.setIn(["processing",n.formSlug],!0);case Vr.DELETE_FORM_COMPLETE:return e.deleteIn(["processing",n.formSlug]);case Vr.CLONE_FORM_REQUEST:return e.setIn(["processing",n.cloneFormSlug],!0);case Vr.CLONE_FORM_COMPLETE:return e.deleteIn(["processing",n.cloneFormSlug]);default:return e}},forms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rl.FETCH_FORMS_REQUEST:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,error:null});case rl.FETCH_FORMS_SUCCESS:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:null,data:Object(g.a)(t.payload).map(el)});case rl.FETCH_FORMS_FAILURE:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.payload});default:return e}}},il=ue.a.mark(ul),ol=ue.a.mark(ml);function ul(e){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),il)}function ml(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)(_n,ul);case 2:case"end":return e.stop()}}),ol)}var pl=ue.a.mark(bl),dl=ue.a.mark(gl),fl=ue.a.mark(hl),El=function(e){if(!e.attributes)return!0;if(e.attributes instanceof Array){var t=e.attributes.find((function(e){return"Assignable"===e.name}));if(t&&"FALSE"===t.values[0].toUpperCase())return!1}else if(e.attributes.Assignable&&"FALSE"===e.attributes.Assignable[0].toUpperCase())return!1;return!0};function bl(){var e,t,a,n,r,l,s,c,i,o,u,m,p;return ue.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(me.f)((function(e){return e.app.kappSlug}));case 2:return e=d.sent,d.next=5,Object(me.f)((function(e){return e.app.profile}));case 5:return t=d.sent,d.next=8,Object(me.a)({forms:Object(me.b)(b.ab,{kappSlug:e,include:"details,attributes,fields,fields.details,kapp"}),teams:Object(me.b)(b.ib,{include:"details,attributes,memberships,memberships.user,memberships.user.details"})});case 8:if(a=d.sent,n=a.forms,r=n.forms,l=n.error,s=a.teams,c=s.teams,i=s.error,!l&&!i){d.next=20;break}return d.next=18,Object(me.e)(Xn.fetchAppDataFailure(Object(g.a)([l,i]).filter((function(e){return e}))));case 18:d.next=26;break;case 20:return o=c.filter(El),u=Object(g.a)(t.memberships.map((function(e){return e.team})).filter(El)).sortBy((function(e){return e.name})),m=h.hb.getProfileAttributeValues(t,"Queue Personal Filters").map(Qn).filter((function(e){return e})),p={myTeams:u,myFilters:m,forms:r,allTeams:o},d.next=26,Object(me.e)(Xn.fetchAppDataSuccess(p));case 26:case"end":return d.stop()}}),pl)}function gl(e){var t,a,n,r;return ue.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(me.f)((function(e){return e.queueApp.myFilters}));case 2:return t=l.sent,l.next=5,Object(me.b)(b.Mb,{profile:{profileAttributesMap:{"Queue Personal Filters":t.toJS().map((function(e){return JSON.stringify(e)}))}}});case 5:a=l.sent,a.error?(n=e.type===Jn.REMOVE_PERSONAL_FILTER?"deleting":"saving",Object(h.mb)({severity:"danger",message:"Error ".concat(n," filter.")})):(r=e.type===Jn.REMOVE_PERSONAL_FILTER?"deleted":"saved",Object(h.mb)("Filter ".concat(r," successfully.")));case 8:case"end":return l.stop()}}),dl)}function hl(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)(Jn.FETCH_APP_DATA_REQUEST,bl);case 2:return e.next=4,Object(me.i)([Jn.ADD_PERSONAL_FILTER,Jn.REMOVE_PERSONAL_FILTER,Jn.UPDATE_PERSONAL_FILTER],gl);case 4:case"end":return e.stop()}}),fl)}var Sl=a(485),vl=a.n(Sl),Ol=ue.a.mark(wl),kl=ue.a.mark(Il),Tl=ue.a.mark(Ll),yl=ue.a.mark(Pl),Nl=ue.a.mark(Ul),Cl=ue.a.mark(Ml),Fl=ue.a.mark(Dl),jl=ue.a.mark(ql),_l=ue.a.mark(Hl),Al="details,values,attributes,form,form.kapp,children,children.details,children.form,children.form.kapp,children.values,form.attributes,parent,parent.details,parent.values,parent.form,parent.form.kapp",Rl=["details","form","form.kapp","form.attributes","form.fields","form.fields.details","values"],xl=function(e,t,a){var n,r,l=Object(b.N)(),s={},c=!0;if(e.createdByMe&&(l.equals("createdBy","username"),s.username=a.username,c=!1),"mine"===e.assignments?(l.equals("values[Assigned Individual]","username"),s.username=a.username,c=!1):"unassigned"===e.assignments&&(t.myTeams.size>0||e.createdByMe)&&(l.equals("values[Assigned Individual]","null",!0),s.null=null),t.myTeams.size>0&&(e.teams.size>0||"mine"!==e.assignments&&!e.createdByMe)&&(l.in("values[Assigned Team]","teams"),s.teams=(n=t.myTeams,r=e.teams,r.isEmpty()?n.map((function(e){return e.name})):r.toSet().intersect(n.map((function(e){return e.name})))).toJS(),c=!1),e.status.size>0&&(1===e.status.size?(l.equals("values[Status]","status"),s.status=e.status.first()):(l.in("values[Status]","status"),s.status=e.status.toJS())),e.dateRange.custom)l.between("completedAt"===e.dateRange.timeline?"closedAt":e.dateRange.timeline,"start","end"),s.start=C()(e.dateRange.start).toISOString(),s.end=C()(e.dateRange.end).add(1,"day").toISOString();else if(""!==e.dateRange.preset){var i=e.dateRange.preset.match(/^(\d+)days$/),o=i?parseInt(i[1],10):7;i||window.console.warn("Invalid date range filter preset: ".concat(e.dateRange.preset)),l.greaterThan("completedAt"===e.dateRange.timeline?"closedAt":e.dateRange.timeline,"start"),s.start=C()().startOf("day").subtract(o,"days").toISOString()}return{search:{q:l.end()(s),orderBy:e.sortBy,direction:e.sortDirection,include:Rl},invalidAssignment:c}};function wl(e){var t,a,n,r,l,s,c,i,o,u,m,p,d,f,E,g;return ue.a.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,Object(me.f)((function(e){return e.queue.currentFilter}));case 3:if(!(t=h.sent)){h.next=59;break}return h.next=7,Object(me.f)((function(e){return e.queueApp}));case 7:return a=h.sent,h.next=10,Object(me.f)((function(e){return e.app.profile}));case 10:return n=h.sent,h.next=13,Object(me.f)((function(e){return e.app.kappSlug}));case 13:return r=h.sent,h.next=16,Object(me.b)(xl,t,a,n);case 16:return l=h.sent,s=l.search,c=l.invalidAssignment,h.next=21,Object(me.f)((function(e){return e.queue.pageToken}));case 21:return i=h.sent,h.next=24,Object(me.f)((function(e){return e.queue.limit}));case 24:return o=h.sent,h.next=27,Object(me.f)((function(e){return e.queue.hasPreviousPage}));case 27:if(u=h.sent,!c){h.next=35;break}return h.next=31,Object(me.e)(mr.setListItems(t,[]));case 31:return h.next=33,Object(me.e)(mr.fetchListSuccess({submissions:[],nextPageToken:null}));case 33:h.next=59;break;case 35:return h.next=37,Object(me.b)(b.Ab,{kapp:r,search:s,limit:o,pageToken:i,count:!i});case 37:if(m=h.sent,p=m.submissions,d=m.nextPageToken,f=m.error,E=m.count,g=m.countPageToken,!f){h.next=48;break}return h.next=46,Object(me.e)(mr.fetchListFailure(f));case 46:h.next=59;break;case 48:if(p&&0!==p.length||!u){h.next=53;break}return h.next=51,Object(me.e)(mr.fetchListPrevious());case 51:h.next=59;break;case 53:return h.next=55,Object(me.e)(mr.fetchListSuccess({submissions:p,nextPageToken:d}));case 55:if("undefined"===typeof E){h.next=58;break}return h.next=58,Object(me.e)(mr.fetchListCountSuccess({filter:t,count:g?"".concat(E,"+"):E}));case 58:"function"===typeof e.payload&&e.payload(p);case 59:h.next=64;break;case 61:h.prev=61,h.t0=h.catch(0),console.error("There was a problem fetching queue list items:",h.t0);case 64:case"end":return h.stop()}}),Ol,null,[[0,61]])}function Il(e){var t,a,n,r,l,s,c,i,o,u;return ue.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:if(m.prev=0,!(t=e.payload)){m.next=31;break}return m.next=5,Object(me.f)((function(e){return e.queueApp}));case 5:return a=m.sent,m.next=8,Object(me.f)((function(e){return e.app.profile}));case 8:return n=m.sent,m.next=11,Object(me.f)((function(e){return e.app.kappSlug}));case 11:return r=m.sent,m.next=14,Object(me.b)(xl,t,a,n);case 14:if(l=m.sent,s=l.search,!l.invalidAssignment){m.next=22;break}return m.next=20,Object(me.e)(mr.fetchListSuccess([],null));case 20:m.next=31;break;case 22:return m.next=24,Object(me.b)(b.Ab,{kapp:r,search:s,count:!0,limit:0});case 24:if(c=m.sent,i=c.error,o=c.count,u=c.countPageToken,i||"undefined"===typeof o){m.next=31;break}return m.next=31,Object(me.e)(mr.fetchListCountSuccess({filter:t,count:u?"".concat(o,"+"):o}));case 31:m.next=36;break;case 33:m.prev=33,m.t0=m.catch(0),console.error("There was a problem fetching queue list counts:",m.t0);case 36:case"end":return m.stop()}}),kl,null,[[0,33]])}function Ll(e){var t,a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(me.b)(b.gb,{id:e.payload,include:Al});case 2:if(t=n.sent,a=t.submission,t.error){n.next=10;break}return n.next=8,Object(me.e)(mr.setCurrentItem(a));case 8:n.next=12;break;case 10:return n.next=12,Object(me.e)(Object(h.nb)("Failed to retrieve item!"));case 12:case"end":return n.stop()}}),Tl)}function Pl(e){var t,a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(me.b)(b.Nb,{id:e.payload.id,values:e.payload.values,include:Al});case 2:if(t=n.sent,!(a=t.submission)){n.next=8;break}vl()(e.payload.onSuccess)&&e.payload.onSuccess(a),n.next=10;break;case 8:return n.next=10,Object(me.e)(Object(h.nb)("Failed to update item!"));case 10:case"end":return n.stop()}}),yl)}function Ul(e){var t,a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(me.f)((function(e){return e.queue.selectedList}));case 2:if(t=n.sent,a=e.payload.assignment,t&&a){n.next=6;break}return n.abrupt("return");case 6:return n.next=8,Object(me.a)(t.toList().map((function(e,t){return Object(me.b)(Ml,{id:e.id,values:Object(l.a)(Object(l.a)({},e.values),a),include:Rl.join(",")})})).toJS());case 8:return n.next=10,Object(f.b)(500);case 10:return n.next=12,Object(me.e)(mr.bulkAssignComplete());case 12:case"end":return n.stop()}}),Nl)}function Ml(e){var t,a,n;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(me.b)(b.Nb,e);case 2:if(t=r.sent,a=t.submission,!(n=t.error)){r.next=10;break}return r.next=8,Object(me.e)(mr.bulkStatusUpdate({status:"error",data:Object(l.a)(Object(l.a)({},n),{},{submissionId:e.id})}));case 8:r.next=12;break;case 10:return r.next=12,Object(me.e)(mr.bulkStatusUpdate({status:"success",data:a}));case 12:case"end":return r.stop()}}),Cl)}function Dl(e){var t,a,n,r;return ue.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(me.f)((function(e){return e.queue.selectedList}));case 2:return t=s.sent,s.next=5,Object(me.f)((function(e){return e.app.profile}));case 5:if(a=s.sent,n={"Assigned Individual":a.username,"Assigned Individual Display Name":a.displayName||a.username},r=e.payload.values,t&&r){s.next=10;break}return s.abrupt("return");case 10:return s.next=12,Object(me.a)(t.toList().map((function(e,t){return Object(me.b)(ql,{id:e.id,page:e.currentPage,values:Object(l.a)(Object(l.a)(Object(l.a)({},e.values),n),r),include:Rl.join(",")})})).toJS());case 12:return s.next=14,Object(f.b)(500);case 14:return s.next=16,Object(me.e)(mr.bulkWorkComplete());case 16:case"end":return s.stop()}}),Fl)}function ql(e){var t,a,n;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(me.b)(b.Fb,e);case 2:if(t=r.sent,a=t.submission,!(n=t.error)){r.next=10;break}return r.next=8,Object(me.e)(mr.bulkStatusUpdate({status:"error",data:Object(l.a)(Object(l.a)({},n),{},{submissionId:e.id})}));case 8:r.next=12;break;case 10:return r.next=12,Object(me.e)(mr.bulkStatusUpdate({status:"success",data:a}));case 12:case"end":return r.stop()}}),jl)}function Hl(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.i)([ur.FETCH_LIST_REQUEST,ur.FETCH_LIST_PREVIOUS,ur.FETCH_LIST_NEXT,ur.FETCH_LIST_RESET,ur.UPDATE_LIST_LIMIT],wl);case 2:return e.next=4,Object(me.h)(ur.FETCH_LIST_COUNT_REQUEST,Il);case 4:return e.next=6,Object(me.h)(ur.FETCH_CURRENT_ITEM,Ll);case 6:return e.next=8,Object(me.h)(ur.UPDATE_QUEUE_ITEM,Pl);case 8:return e.next=10,Object(me.h)(ur.BULK_ASSIGN_REQUEST,Ul);case 10:return e.next=12,Object(me.h)(ur.BULK_WORK_REQUEST,Dl);case 12:case"end":return e.stop()}}),_l)}var Bl=ue.a.mark(Ql),zl=ue.a.mark(Kl);function Ql(){var e,t,a,n;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(me.f)((function(e){return e.app.kappSlug}));case 2:return e=r.sent,r.next=5,Object(me.b)(b.ab,{kappSlug:e,include:"details,categorizations,attributes,kapp"});case 5:if(t=r.sent,a=t.forms,!(n=t.error)){r.next=13;break}return r.next=11,Object(me.e)(ll.fetchFormsFailure(n));case 11:r.next=15;break;case 13:return r.next=15,Object(me.e)(ll.fetchFormsSuccess(a));case 15:case"end":return r.stop()}}),Bl)}function Kl(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)(rl.FETCH_FORMS_REQUEST,Ql);case 2:case"end":return e.stop()}}),zl)}var Gl=ue.a.mark(es),Wl=ue.a.mark(ts),Vl=ue.a.mark(as),Jl=ue.a.mark(ns),Xl=ue.a.mark(rs),Yl=ue.a.mark(ls),Zl=ue.a.mark(ss),$l=ue.a.mark(cs);function es(){var e,t,a,r,s,c,i;return ue.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(me.a)([Object(me.b)(b.bb,{include:"formTypes,attributesMap,forms,forms.details",kappSlug:"queue"}),Object(me.b)(b.ab,{kappSlug:"queue",manage:"true"})]);case 2:if(e=o.sent,t=Object(n.a)(e,2),a=t[0],r=a.error,s=a.kapp,c=t[1],!r){o.next=13;break}return o.next=11,Object(me.e)(Mr.updateQueueSettingsError(r));case 11:o.next=16;break;case 13:return i=(c.forms||[]).map((function(e){return e.slug})),o.next=16,Object(me.e)(Mr.setQueueSettings(Object(l.a)(Object(l.a)({},s),{},{forms:(s.forms||[]).map((function(e){return Object(l.a)(Object(l.a)({},e),{},{canManage:i.includes(e.slug)})}))})));case 16:case"end":return o.stop()}}),Gl)}function ts(e){var t,a,n,r;return ue.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,l.next=3,Object(me.b)(b.ib,{include:"teams",teams:t});case 3:if(a=l.sent,n=a.error,r=a.teams,!n){l.next=11;break}return l.next=9,Object(me.e)(Mr.updateQueueSettingsError(n));case 9:l.next=13;break;case 11:return l.next=13,Object(me.e)(Mr.setQueueSettingsTeams(r));case 13:case"end":return l.stop()}}),Wl)}function as(){var e,t,a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(me.b)(b.mb,{include:"details"});case 2:if(e=n.sent,t=e.error,a=e.users,!t){n.next=10;break}return n.next=8,Object(me.e)(Mr.updateQueueSettingsError(t));case 8:n.next=12;break;case 10:return n.next=12,Object(me.e)(Mr.setQueueSettingsUsers(a));case 12:case"end":return n.stop()}}),Vl)}function ns(e){var t,a,n,r;return ue.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,l.next=3,Object(me.b)(b.fb,{include:"kapps,kapps.forms,attributesMap",space:t});case 3:if(a=l.sent,n=a.error,r=a.space,!n){l.next=11;break}return l.next=9,Object(me.e)(Mr.updateQueueSettingsError(n));case 9:l.next=13;break;case 11:return l.next=13,Object(me.e)(Mr.setQueueSettingsSpace(r));case 13:case"end":return l.stop()}}),Jl)}function rs(e){var t,a,n,r,l;return ue.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,a=Object(g.b)(t).filter((function(e){return e})).map((function(e){return e.constructor===Array?e:[e]})).toJS(),s.next=4,Object(me.b)(b.Kb,{include:"formTypes,attributesMap,forms,forms.details",kapp:{attributesMap:a},kappSlug:"queue"});case 4:if(n=s.sent,!(r=n.error)){s.next=13;break}return s.next=9,Object(me.e)(Object(h.kb)("Failed to update settings.","Update Settings"));case 9:return s.next=11,Object(me.e)(Mr.updateServicesSettingsError(r));case 11:s.next=20;break;case 13:return s.next=15,Object(me.e)(Object(h.lb)("Updated settings successfully.","Update Settings"));case 15:return s.next=17,Object(me.f)((function(e){return e.app.actions}));case 17:return l=s.sent,s.next=20,Object(me.e)(l.refreshApp());case 20:case"end":return s.stop()}}),Xl)}function ls(){var e,t,a,n;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=new b.s(!0).index("values[Name]").includes(["details","values"]).build(),r.next=3,Object(me.b)(b.Ab,{search:e,form:"notification-data",datastore:!0});case 3:if(t=r.sent,a=t.error,n=t.submissions,!a){r.next=11;break}return r.next=9,Object(me.e)(Mr.updateQueueSettingsError(a));case 9:r.next=13;break;case 11:return r.next=13,Object(me.e)(Mr.setNotifications(n));case 13:case"end":return r.stop()}}),Yl)}function ss(e){var t,a,n;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(me.b)(b.Z,{kappSlug:e.payload.kappSlug,formSlug:e.payload.formSlug,include:"details,fields,attributesMap,categorizations,kapp"});case 2:if(t=r.sent,a=t.error,n=t.form,!a){r.next=10;break}return r.next=8,Object(me.e)(Mr.updateQueueSettingsError(a));case 8:r.next=12;break;case 10:return r.next=12,Object(me.e)(Mr.setForm(n));case 12:case"end":return r.stop()}}),Zl)}function cs(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)(Ur.FETCH_QUEUE_SETTINGS,es);case 2:return e.next=4,Object(me.h)(Ur.FETCH_QUEUE_SETTINGS_TEAMS,ts);case 4:return e.next=6,Object(me.h)(Ur.FETCH_QUEUE_SETTINGS_USERS,as);case 6:return e.next=8,Object(me.h)(Ur.FETCH_QUEUE_SETTINGS_SPACE,ns);case 8:return e.next=10,Object(me.h)(Ur.UPDATE_QUEUE_SETTINGS,rs);case 10:return e.next=12,Object(me.h)(Ur.FETCH_NOTIFICATIONS,ls);case 12:return e.next=14,Object(me.h)(Ur.FETCH_FORM,ss);case 14:case"end":return e.stop()}}),$l)}var is=ue.a.mark(vs),os=ue.a.mark(Os),us=ue.a.mark(ks),ms=ue.a.mark(Ts),ps=ue.a.mark(ys),ds=ue.a.mark(Ns),fs=ue.a.mark(Cs),Es=ue.a.mark(Fs),bs=ue.a.mark(js),gs=ue.a.mark(_s),hs=ue.a.mark(As),Ss=ue.a.mark(Rs);function vs(e){var t,a,n;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(me.b)(b.Z,{kappSlug:e.payload.kappSlug,formSlug:e.payload.formSlug,include:zr});case 2:if(t=r.sent,a=t.error,n=t.form,!a){r.next=10;break}return r.next=8,Object(me.e)(Jr.setFormsError(a));case 8:r.next=12;break;case 10:return r.next=12,Object(me.e)(Jr.setForm(n));case 12:case"end":return r.stop()}}),is)}function Os(e){var t,a,n,r;return ue.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,l.next=3,Object(me.b)(b.Z,{kappSlug:t.kappSlug,formSlug:t.formSlug,include:zr});case 3:if(a=l.sent,n=a.error,r=a.form,!n){l.next=11;break}return l.next=9,Object(me.e)(Jr.fetchFormFailure(n));case 9:l.next=13;break;case 11:return l.next=13,Object(me.e)(Jr.fetchFormSuccess(r));case 13:case"end":return l.stop()}}),os)}function ks(e){var t,a,n,r,l,s,c;return ue.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,i.next=3,Object(me.b)(b.Z,{kappSlug:t.kappSlug,formSlug:t.cloneFormSlug,include:Qr});case 3:if(a=i.sent,n=a.error,r=a.form,!n){i.next=12;break}return Object(h.nb)({title:"Error Cloning Form",message:"Could not find form to clone."}),i.next=10,Object(me.e)(Jr.cloneFormComplete(t));case 10:i.next=25;break;case 12:return i.next=14,Object(me.b)(b.Jb,{kappSlug:t.kappSlug,formSlug:t.formSlug,form:{bridgedResources:r.bridgedResources,customHeadContent:r.customHeadContent,pages:r.pages,securityPolicies:r.securityPolicies,attributesMap:r.attributesMap,categorizations:r.categorizations}});case 14:if(l=i.sent,s=l.error,c=l.form,!s){i.next=21;break}return Object(h.nb)({title:"Error Cloning Form",message:s.message}),i.next=21,Object(me.e)(Jr.cloneFormComplete(t));case 21:return Object(h.mb)("".concat(c.name," cloned successfully from ").concat(r.name)),"function"===typeof t.callback&&t.callback(c),i.next=25,Object(me.e)(Jr.cloneFormComplete(t));case 25:case"end":return i.stop()}}),us)}function Ts(e){var t,a,n,r,l,s,c,i,o,u,m;return ue.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(t=e.payload.kappSlug,a=e.payload.pageToken,n=e.payload.formSlug,r=e.payload.q,l=(new b.s).includes(["details","values","form","form.kapp"]),a&&l.pageToken(a),r)for(s in r)l.eq(s,r[s]);return l.end(),c=l.build(),p.next=11,Object(me.b)(b.Ab,{search:c,kapp:t,form:n});case 11:if(i=p.sent,o=i.submissions,u=i.nextPageToken,!(m=i.error)){p.next=20;break}return p.next=18,Object(me.e)(Jr.setFormsError(m));case 18:p.next=22;break;case 20:return p.next=22,Object(me.e)(Jr.setFormSubmissions({submissions:o,nextPageToken:u}));case 22:case"end":return p.stop()}}),ms)}function ys(e){var t,a,n,r;return ue.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload.id,l.next=3,Object(me.b)(b.gb,{id:t,include:"details,values,form,form.kapp,form.fields,activities,activities.details"});case 3:if(a=l.sent,n=a.submission,!(r=a.error)){l.next=11;break}return l.next=9,Object(me.e)(Jr.setFormsError(r));case 9:l.next=13;break;case 11:return l.next=13,Object(me.e)(Jr.setFormSubmission(n));case 13:case"end":return l.stop()}}),ps)}function Ns(e){var t,a,n;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(me.b)(b.bb,{kappSlug:e.payload,include:"formTypes, categories, formAttributeDefinitions"});case 2:if(t=r.sent,a=t.error,n=t.kapp,!a){r.next=10;break}return r.next=8,Object(me.e)(Jr.setFormsError(a));case 8:r.next=18;break;case 10:return r.next=12,Object(me.f)((function(e){return e.app.profile}));case 12:if(!r.sent.spaceAdmin||n.formAttributeDefinitions.find((function(e){return"Form Configuration"===e.name}))){r.next=16;break}return r.next=16,Object(me.b)(jt.a.request,{method:"post",url:"".concat(b.C.apiLocation(),"/kapps/").concat(n.slug,"/formAttributeDefinitions"),data:{name:"Form Configuration",allowsMultiple:!1}});case 16:return r.next=18,Object(me.e)(Jr.setKapp(n));case 18:case"end":return r.stop()}}),ds)}function Cs(e){var t,a,n,r;return ue.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload.form,a=e.payload.inputs,n={attributesMap:{"Permitted Subtasks":a["Permitted Subtasks"]?[a["Permitted Subtasks"].join(",")]:[],"Prohibit Subtasks":a["Prohibit Subtasks"]?[a["Prohibit Subtasks"]]:[],"Allow Reassignment":a["Allow Reassignment"]?[a["Allow Reassignment"]]:[],"Assignable Teams":a["Assignable Teams"]?a["Assignable Teams"]:[],"Notification Template Name - Create":a["Notification Template Name - Create"]?[a["Notification Template Name - Create"]]:[],"Notification Template Name - Complete":a["Notification Template Name - Complete"]?[a["Notification Template Name - Complete"]]:[],"Owning Team":a["Owning Team"]?a["Owning Team"]:[],"Form Configuration":[JSON.stringify({columns:a.columns.toJS()})]},status:a.status,type:a.type,description:a.description,categorizations:a.categories},l.next=5,Object(me.b)(b.Jb,{kappSlug:e.payload.kappSlug,formSlug:t.slug,form:n,include:zr});case 5:if(r=l.sent,r.error){l.next=12;break}return l.next=10,Object(me.e)(Object(h.lb)("The form was successfully updated.","Update Successful"));case 10:return l.next=12,Object(me.e)(Jr.fetchForm({kappSlug:e.payload.kappSlug,formSlug:t.slug}));case 12:case"end":return l.stop()}}),fs)}function Fs(){var e,t,a,n;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=new b.s(!0).index("values[Name]").includes(["details","values"]).build(),r.next=3,Object(me.b)(b.Ab,{search:e,form:"notification-data",datastore:!0});case 3:if(t=r.sent,a=t.error,n=t.submissions,!a){r.next=11;break}return r.next=9,Object(me.e)(Jr.setFormsError(a));case 9:r.next=13;break;case 11:return r.next=13,Object(me.e)(Jr.setNotifications(n));case 13:case"end":return r.stop()}}),Es)}function js(e){var t,a,n,r,s;return ue.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(me.b)(b.Z,{kappSlug:e.payload.kappSlug,formSlug:e.payload.inputs["Template to Clone"],include:Qr});case 2:if(t=c.sent,a=t.error,n=t.form,!a){c.next=8;break}return c.next=8,Object(me.e)(Jr.setFormsError(a));case 8:return r=Object(l.a)(Object(l.a)({},n),{},{slug:e.payload.inputs.Slug,name:e.payload.inputs.Name,description:e.payload.inputs.Description,status:e.payload.inputs.Status,type:e.payload.inputs.Type,attributesMap:Object(l.a)(Object(l.a)({},n.attributesMap),{},{"Owning Team":e.payload.inputs["Owning Team"]})}),c.next=11,Object(me.b)(b.G,{kappSlug:e.payload.kappSlug,form:r,include:Qr});case 11:if(!(s=c.sent).error){c.next=17;break}return c.next=15,Object(me.e)(Object(h.kb)(s.error.message));case 15:c.next=18;break;case 17:"function"===typeof e.payload.callback&&e.payload.callback(s.form.slug);case 18:case"end":return c.stop()}}),bs)}function _s(e){var t,a,n,r,s,c,i,o,u,m,p,d,f,E,g;return ue.a.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:if(t=e.payload,a=t.pageToken,n=t.accumulator,r=t.formSlug,s=t.kappSlug,c=t.createdAt,i=t.coreState,o=t.q,u=new b.s(!1),o)for(m in o)u.eq(m,o[m]);return c&&(c.startDate&&u.startDate(c.startDate),c.endDate&&u.endDate(c.endDate)),i&&u.coreState(i),u.include("values,form,form.kapp"),u.limit(1e3),a&&u.pageToken(a),h.next=10,Object(me.b)(b.Ab,{search:u.build(),form:r,kapp:s});case 10:return p=h.sent,d=p.submissions,f=p.nextPageToken,E=void 0===f?null:f,g=p.error,e=Object(l.a)(Object(l.a)({},e),{},{payload:Object(l.a)(Object(l.a)({},e.payload),{},{accumulator:[].concat(Object(Te.a)(n),Object(Te.a)(d)),pageToken:E})}),h.next=18,Object(me.e)(Jr.setExportCount(e.payload.accumulator.length));case 18:if(!E){h.next=23;break}return h.next=21,Object(me.b)(_s,e);case 21:h.next=29;break;case 23:if(!g){h.next=27;break}console.log(g),h.next=29;break;case 27:return h.next=29,Object(me.e)(Jr.setExportSubmissions(e.payload.accumulator));case 29:case"end":return h.stop()}}),gs)}function As(e){var t,a,n,r;return ue.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,l.next=3,Object(me.b)(b.O,{kappSlug:t.kappSlug,formSlug:t.formSlug});case 3:if(a=l.sent,n=a.form,r=a.error,!n){l.next=15;break}if("function"!==typeof t.onSuccess){l.next=10;break}return l.next=10,Object(me.b)(t.onSuccess,n);case 10:return l.next=12,Object(me.e)(Jr.deleteFormComplete(t));case 12:Object(h.mb)("Form deleted successfully."),l.next=16;break;case 15:Object(h.nb)({title:"Error Deleting Form",message:r.message});case 16:case"end":return l.stop()}}),hs)}function Rs(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)(Vr.FETCH_FORM,vs);case 2:return e.next=4,Object(me.h)(Vr.FETCH_FORM_REQUEST,Os);case 4:return e.next=6,Object(me.h)(Vr.FETCH_KAPP,Ns);case 6:return e.next=8,Object(me.h)(Vr.UPDATE_QUEUE_FORM,Cs);case 8:return e.next=10,Object(me.h)(Vr.CREATE_FORM,js);case 10:return e.next=12,Object(me.h)(Vr.CLONE_FORM_REQUEST,ks);case 12:return e.next=14,Object(me.h)(Vr.FETCH_NOTIFICATIONS,Fs);case 14:return e.next=16,Object(me.h)(Vr.FETCH_FORM_SUBMISSIONS,Ts);case 16:return e.next=18,Object(me.h)(Vr.FETCH_FORM_SUBMISSION,ys);case 18:return e.next=20,Object(me.h)(Vr.FETCH_ALL_SUBMISSIONS,_s);case 20:return e.next=22,Object(me.h)(Vr.DELETE_FORM_REQUEST,As);case 22:case"end":return e.stop()}}),Ss)}var xs=ue.a.mark(ws);function ws(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([ml(),hl(),Hl(),Kl(),cs(),Rs()]);case 2:case"end":return e.stop()}}),xs)}console.log("Configuring queue package redux store");var Is=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"QUEUE"}):d.d,Ls=Object(f.a)(),Ps=Object(jn.b)({history:b.qb}),Us=Ps.createReduxHistory,Ms=Ps.routerMiddleware,Ds=Ps.routerReducer,qs=Object(d.e)(Object(d.c)(Object(l.a)(Object(l.a)({},cl),{},{router:Ds})),Is(Object(d.a)(Ms,Ls))),Hs=Object(jn.d)(Us(qs));Ls.run(ws);var Bs=Object(s.createContext)(null),zs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(m.c)(e,t,a,Object(l.a)(Object(l.a)({},n),{},{context:Bs}))},Qs=Object(Et.a)(zs((function(e){return{kapp:Object(h.Eb)(e)}})),Object(Et.e)((function(e){var t=e.parts,a=void 0===t?[]:t,n=Object(r.a)(e,["parts"]);return{parts:a.concat([[n.kapp&&n.kapp.name,n.settings&&"Settings"].filter(Boolean).join(" ")])}})))((function(e){return c.a.createElement(h.M,Object.assign({},e,{components:{Link:Fn.a}}))})),Ks=Object(Et.a)(Object(Et.g)("isOpen","setIsOpen",!1),Object(Et.e)((function(e){return{originId:e.queueItem.origin.id}})),Object(Et.d)({toggleOpen:function(e){var t=e.setIsOpen,a=e.isOpen;return function(){return t(!a)}}}))((function(e){var t=e.originId,a=e.toggleOpen,n=e.isOpen;return t&&c.a.createElement("div",null,c.a.createElement("button",{className:"btn btn-inverse request-button",type:"button",onClick:a},c.a.createElement(b.k,null,"View Original Request")),c.a.createElement(vt.a,{isOpen:n,toggle:a,size:"lg",backdrop:"static"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("div",{className:"modal-title"},c.a.createElement("button",{type:"button",className:"btn btn-link",onClick:a},c.a.createElement(b.k,null,"Close")),c.a.createElement("span",null,c.a.createElement(b.k,null,"Original Request")))),c.a.createElement(Ot.a,null,c.a.createElement("div",{style:{margin:"1em"}},c.a.createElement(b.k,{submissionId:t},c.a.createElement(b.d,{submission:t,review:!0}))))))})),Gs=function(e){var t=e.queueItem,a=e.toggle,n=e.readOnly;return c.a.createElement("div",{className:Ut()("assignment-badge",{"read-only":n}),onClick:a,role:"button","aria-label":"Change Assignment",tabIndex:0},c.a.createElement("span",{className:"badge","aria-hidden":"true"},t.values["Assigned Individual Display Name"]&&t.values["Assigned Individual Display Name"].charAt(0)||t.values["Assigned Team Display Name"]&&t.values["Assigned Team Display Name"].charAt(0)),c.a.createElement("div",null,c.a.createElement("div",{className:"assignment-badge__team"},c.a.createElement(b.k,null,t.values["Assigned Team Display Name"])),c.a.createElement("div",{className:"assignment-badge__individual text-truncate"},t.values["Assigned Individual Display Name"]||t.values["Assigned Individual"])),!n&&c.a.createElement("span",{className:"icon","aria-hidden":"true"},c.a.createElement("span",{className:"fa fa-chevron-right icon"})))},Ws=a(2153),Vs=function(e){switch(e.values.Status){case"Pending":return e.values["Pending Reason"];case"Cancelled":return e.values["Cancellation Reason"];case"Complete":return e.values.Resolution;default:return null}},Js=function(e){var t,a=e.queueItem,n=e.withReason;return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:(t=a.values.Status,"badge badge-".concat("Open"===t?"info":"Pending"===t?"warning":"Complete"===t?"danger":"subtle"," badge-stylized"))},c.a.createElement(b.k,null,a.values.Status)),n&&Vs(a)&&c.a.createElement("span",{className:"status-reason ml-2"},Vs(a)))},Xs=function(e){var t=e.queueItem,a=e.prev,n=e.next;return c.a.createElement(s.Fragment,null,c.a.createElement("div",{className:a||n?"status-content  status-content--is-active":"status-content"},c.a.createElement(Js,{queueItem:t})),(a||n)&&c.a.createElement("span",{className:"submission-status--reason"},Vs(t)),(a||n)&&c.a.createElement(Ws.a,{className:"queue-details-nav"},c.a.createElement("button",{className:"btn btn-inverse",disabled:!a,onClick:a,"aria-label":"Previous Queue Item"},c.a.createElement("span",{className:"fa fa-fw fa-caret-left",role:"presentation"})),c.a.createElement("button",{className:"btn btn-inverse",disabled:!n,onClick:n,"aria-label":"Next Queue Item"},c.a.createElement("span",{className:"fa fa-fw fa-caret-right",role:"presentation"}))))},Ys=function(e){var t=e.active,a=e.checked;return t?c.a.createElement("span",{className:Ut()("selection-toggle fa fa-fw",{checked:a})}):null},Zs=function(e){var t=e.values;return c.a.createElement("span",{className:"submission__assignment"},c.a.createElement(b.k,null,t["Assigned Team"]&&(t["Assigned Team Display Name"]||t["Assigned Team"])),t["Assigned Individual"]&&t["Assigned Team"]&&" > ",t["Assigned Individual"]&&(t["Assigned Individual Display Name"]||t["Assigned Individual"]))},$s=function(e){var t=e.id,a=e.label,n=e.value;e.username;return n&&c.a.createElement("li",{className:"list-group-item"},c.a.createElement(b.k,null,a),"\xa0",c.a.createElement(h.bb,{timestamp:n,id:"".concat(t,"-").concat(a)}))},ec=function(e){var t=e.queueItem,a=e.components,n=(void 0===a?{}:a).Timestamp||$s;return t.closedAt?c.a.createElement(n,{label:"Closed",value:t.closedAt,id:t.id}):t.values["Due Date"]?c.a.createElement(n,{label:"Due",value:t.values["Due Date"],id:t.id}):null},tc=function(e){var t=e.queueItem,a=(e.filter,e.path),n=e.selectionMode,r=e.selected,l=e.selectionDisabled,s=e.toggleSelection,i=t.createdAt,o=t.createdBy,u=t.updatedAt,m=t.updatedBy,p=t.id,d=t.values,f=c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"submission__meta"},c.a.createElement(Ys,{active:n&&!l,checked:r}),c.a.createElement(Xs,{queueItem:t}),c.a.createElement("div",{className:"submission__handler"},c.a.createElement(b.k,{context:"kapps.".concat(t.form.kapp.slug,".forms.").concat(t.form.slug)},t.form.name)," ","(",t.handle,")"),c.a.createElement(Zs,{values:d}),t.values["Discussion Id"]&&c.a.createElement("span",{className:"btn icon icon--discussion"},c.a.createElement("span",{className:"fa fa-fw fa-comments",style:{color:"rgb(9, 84, 130)",fontSize:"16px"}}))),c.a.createElement("div",{className:"submission__title"},t.label),c.a.createElement("ul",{className:"submission__timestamps list-group"},c.a.createElement(ec,{queueItem:t}),c.a.createElement($s,{label:"Updated",value:u,id:p,username:m}),c.a.createElement($s,{label:"Created",value:i,id:p,username:o})));return c.a.createElement("li",{className:Ut()("submission list-group-item",{selection:n,"selection-disabled":n&&l,selected:r})},n?c.a.createElement("div",{role:"button",className:"submission-summary",onClick:function(e){return l?Object(h.mb)({severity:"warning",message:"You cannot select closed items."}):s(t,e.shiftKey)}},f):c.a.createElement(Fn.a,{to:a||"item/".concat(p),className:"submission-summary"},f))},ac=function(e){var t=e.id,a=e.label,n=e.value;e.username;return n&&c.a.createElement("div",null,c.a.createElement("dt",null,c.a.createElement(b.k,null,a)),c.a.createElement("dd",null,c.a.createElement(h.bb,{timestamp:n,id:"".concat(t,"-").concat(a)})))},nc=function(e){var t=e.submission,a=e.path,n=e.components,r=void 0===n?{}:n,s=t.values.Status,i="Open"===s?"info":"Pending"===s?"warning":"Complete"===s?"danger":"subtle";return c.a.createElement(h.i,{to:a,components:Object(l.a)({Link:Fn.a},r)},c.a.createElement(h.j,null,c.a.createElement(h.l,{type:"multi"},c.a.createElement("span",{className:"badge badge-pill badge-".concat(i," badge-stylized")},c.a.createElement(b.k,null,s)),c.a.createElement("span",null,c.a.createElement(b.k,null,t.form.name)," (",t.handle,")"),c.a.createElement(Zs,{values:t.values})),c.a.createElement(h.l,{type:"title"},c.a.createElement(b.k,null,t.label)),c.a.createElement(h.l,{type:"meta"},c.a.createElement("dl",{className:"flat text-muted"},c.a.createElement(ec,{queueItem:t,components:{Timestamp:ac}}),c.a.createElement(ac,{label:"Updated",value:t.updatedAt,id:t.id,username:t.updatedBy}),c.a.createElement(ac,{label:"Created",value:t.createdAt,id:t.id,username:t.createdBy})))))},rc=a(207),lc=a(486),sc=a.n(lc),cc=function(e){Object(ea.a)(a,e);var t=Object(ta.a)(a);function a(){return Object(Zt.a)(this,a),t.apply(this,arguments)}return Object($t.a)(a,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.isHighlighted,n=e.onClick;return c.a.createElement("div",{className:"item ".concat(a?"item-highlighted":""),onClick:n,role:"menuitem",tabIndex:-1},t.displayName||t.username)}}]),a}(s.Component),ic=function(e){Object(ea.a)(a,e);var t=Object(ta.a)(a);function a(e){var n;return Object(Zt.a)(this,a),(n=t.call(this,e)).state={assignment:""},n.handleSelect=n.handleSelect.bind(Object(rc.a)(n)),n.handleChange=n.handleChange.bind(Object(rc.a)(n)),n.handleMenuVisible=n.handleMenuVisible.bind(Object(rc.a)(n)),n}return Object($t.a)(a,[{key:"componentDidMount",value:function(){this.input.focus()}},{key:"handleSelect",value:function(e,t){"function"===typeof this.props.onSelect&&this.props.onSelect(e,t)}},{key:"handleChange",value:function(e,t){this.setState({assignment:t})}},{key:"handleMenuVisible",value:function(e){var t=this;e||setTimeout((function(){t.props.toggle&&t.props.toggle(!1)}),100)}},{key:"shouldItemRender",value:function(e,t){return!(!e.team||!e.team.toUpperCase().includes(t.toUpperCase()))||e.displayName&&e.displayName.toUpperCase().includes(t.toUpperCase())}},{key:"renderItem",value:function(e,t){return c.a.createElement(cc,{key:"".concat(e.team,"::").concat(e.username),item:e,isHighlighted:t})}},{key:"renderMenu",value:function(e){var t=e.reduce((function(e,t){return e[t.props.item.team]?e[t.props.item.team].push(t):e[t.props.item.team]=[t],e}),{});return c.a.createElement("div",{key:"menu"},Object.keys(t).map((function(e){return c.a.createElement("div",{key:e},c.a.createElement("span",{className:"select-combobox__title"},c.a.createElement(b.k,null,e)),t[e])})),e.length<=0&&c.a.createElement("div",{className:"text-center text-info"},c.a.createElement(b.k,null,"No valid assignments.")))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"assignment-badge"},c.a.createElement(b.k,null,"Assignment"),c.a.createElement("div",{className:"select-combobox select-combobox--assignment"},c.a.createElement(sc.a,{ref:function(t){e.input=t},value:this.state.assignment,wrapperStyle:{},menuStyle:{},items:this.props.assignments,getItemValue:function(e){return e.username||""},shouldItemRender:this.shouldItemRender,renderItem:this.renderItem,renderMenu:this.renderMenu,onChange:this.handleChange,onSelect:this.handleSelect,onMenuVisibilityChange:this.handleMenuVisible,inputProps:{"aria-label":"Select Assignment","aria-haspopup":"true"}})))}}]),a}(s.Component),oc={openWorkMenu:wr.openWorkMenu,updateQueueItem:mr.updateQueueItem},uc=Object(Et.a)(zs((function(e){return{profile:e.app.profile}}),oc),Object(Et.e)((function(e){return{buttonMode:(t=e.queueItem,a=e.profile,"Draft"!==t.coreState?"Review":t.values["Assigned Individual"]===a.username?"Work":"Grab")};var t,a})),Object(Et.d)({handleClick:function(e){return function(){"Grab"===e.buttonMode?e.updateQueueItem({id:e.queueItem.id,values:{"Assigned Individual":e.profile.username,"Assigned Individual Display Name":e.profile.displayName},onSuccess:e.onGrabbed}):e.openWorkMenu(e.queueItem,e.onWorked)}}}))((function(e){var t=e.className,a=e.buttonMode,n=e.handleClick;return c.a.createElement("button",{type:"button",className:t,onClick:n},c.a.createElement(b.k,null,a," It"))})),mc=function(e,t){var a=e.attributes&&e.attributes.find((function(e){return e.name===t}));return a&&a.values[0]},pc={updateQueueItem:mr.updateQueueItem,setCurrentItem:mr.setCurrentItem,openNewItemMenu:mr.openNewItemMenu,fetchCurrentItem:mr.fetchCurrentItem,setOffset:mr.setOffset,fetchList:mr.fetchListRequest,fetchListCount:mr.fetchListCountRequest,fetchNextPage:mr.fetchListNext,fetchPreviousPage:mr.fetchListPrevious},dc=Object(Et.a)(zs((function(e,t){var a=e.queue.currentItem;return{filter:t.filter,queueItem:a,assignments:lr(e.queueApp.allTeams,a.form,a).toJS(),defaultFilters:e.queueApp.filters,kappSlug:e.app.kappSlug,discussionsEnabled:Object(h.Fb)(e),profile:e.app.profile,currentPageData:e.queue.data,hasPreviousPage:e.queue.hasPreviousPage,hasNextPage:e.queue.hasNextPage}}),pc),Object(Et.e)((function(e){var t=e.queueItem,a=mc(t.form,"Prohibit Subtasks"),n=mc(t.form,"Permitted Subtasks");return{prohibitSubtasks:["True","Yes"].includes(a),permittedSubtasks:n&&n.split(/\s*,\s*/)}})),Object(Et.g)("currentTab","setCurrentTab",(function(e){return e.prohibitSubtasks?"discussions":"subtasks"})),Object(Et.g)("isAssigning","setIsAssigning",!1),Object(Et.d)({refetchCounts:function(e){var t=e.defaultFilters,a=e.fetchListCount;return function(){t.filter((function(e){return["Mine","Unassigned"].includes(e.name)})).forEach(a)}},toggleCurrentTab:function(e){return function(t){return function(a){return e.setCurrentTab(t)}}}}),Object(Et.d)({toggleAssigning:function(e){var t=e.setIsAssigning,a=e.isAssigning;return function(){return t(!a)}},setAssignment:function(e){var t=e.queueItem,a=e.updateQueueItem,n=e.setCurrentItem,r=e.refetchCounts;return function(e,l){var s=l.team.split("::"),c={"Assigned Individual":l.username,"Assigned Individual Display Name":l.displayName,"Assigned Team":l.team,"Assigned Team Display Name":s[s.length-1]};a({id:t.id,values:c,onSuccess:function(e){n(e),r()}})}},openNewItemMenu:function(e){var t=e.openNewItemMenu,a=e.queueItem,n=e.permittedSubtasks;return function(){t({permittedSubtasks:n,parentId:a.id,originId:a.origin?a.origin.id:a.id})}},refreshQueueItem:function(e){e.filter,e.fetchList;var t=e.fetchCurrentItem,a=e.queueItem,n=e.refetchCounts;return function(){t(a.id),n()}}}),Object(Et.e)((function(e){var t=e.currentPageData,a=e.queueItem,n=e.hasPreviousPage,r=e.fetchPreviousPage,l=e.hasNextPage,s=e.fetchNextPage,c=e.navigate,i=a&&g.a.isList(t)?t.findIndex((function(e){return e.id===a.id})):-1;return i>=0?{goToPreviousItem:0===i?n?function(){return r((function(e){return e&&c("../".concat(e[e.length-1].id))}))}:void 0:function(){return c("../".concat(t.getIn([i-1,"id"])))},goToNextItem:i===t.size-1?l?function(){return s((function(e){return e&&c("../".concat(e[0].id))}))}:void 0:function(){return c("../".concat(t.getIn([i+1,"id"])))}}:{}})))((function(e){var t=e.queueItem,a=e.isAssigning,n=e.toggleAssigning,r=e.setIsAssigning,l=e.setAssignment,i=e.assignments,o=e.openNewItemMenu,u=e.prohibitSubtasks,m=e.refreshQueueItem,p=e.kappSlug,d=e.discussionsEnabled,f=e.profile,E=e.creationFields,g=e.onDiscussionCreated,S=e.CreationForm,v=(e.goToPreviousItem,e.goToNextItem,e.currentTab),O=e.toggleCurrentTab,k=Object(s.useRef)(null);return c.a.createElement("div",{className:"queue-item-details"},c.a.createElement("div",{className:"section--general"},c.a.createElement("pre",null,t.values.Details),c.a.createElement("div",{className:"actions"},!a&&c.a.createElement(Gs,{queueItem:t,toggle:"Draft"===t.coreState?n:void 0,readOnly:"Draft"!==t.coreState}),a&&c.a.createElement(ic,{toggle:r,onSelect:l,isAssigning:a,assignments:i}),c.a.createElement(uc,{className:"btn btn-primary wally-button",queueItem:t,onWorked:m,onGrabbed:m})),function(e,t){return e.parent&&e.parent.form&&e.parent.form.kapp&&e.parent.form.kapp.slug!==t}(t,p)&&c.a.createElement(Ks,{queueItem:t}),function(e,t){return e.parent&&e.parent.form&&e.parent.form.kapp&&e.parent.form.kapp.slug===t}(t,p)&&c.a.createElement(Fn.a,{to:"../".concat(t.parent.id),className:"btn btn-inverse request-button"},c.a.createElement(b.k,null,"View Parent"))),(!u||d)&&c.a.createElement("div",{className:"mb-5"},c.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},!u&&c.a.createElement("li",{role:"tab",className:"nav-item",id:"subtasks-tab","aria-controls":"subtasks-tabpanel","aria-selected":"subtasks"===v},c.a.createElement("button",{onClick:O("subtasks"),className:Ut()("nav-link",{active:"subtasks"===v})},c.a.createElement(b.k,null,"Subtasks"))),d&&c.a.createElement("li",{role:"tab",className:"nav-item",id:"discussions-tab","aria-controls":"discussions-tabpanel","aria-selected":"discussions"===v},c.a.createElement("button",{onClick:O("discussions"),className:Ut()("nav-link",{active:"discussions"===v})},c.a.createElement(b.k,null,"Discussions"),c.a.createElement("span",{ref:k})))),c.a.createElement("div",{className:Ut()("cards",{"d-none":"subtasks"!==v}),role:"tabpanel",id:"subtasks-tabpanel","aria-labelledby":"subtasks-tab"},"Draft"===t.coreState&&c.a.createElement("div",{className:"d-flex justify-content-end mt-n4 mb-4"},c.a.createElement("button",{className:"btn btn-white btn-sticky-top",onClick:o,"aria-label":"Create New Subtask"},c.a.createElement("span",{className:"fa fa-fw fa-plus","aria-hidden":"true"}),c.a.createElement("span",null,"Create Subtask"))),t.children.length>0&&c.a.createElement("ul",{className:"list-group submissions"},t.children.map((function(e){return c.a.createElement(nc,{key:e.id,submission:e,path:"../".concat(e.id)})}))),t.children.length<1&&c.a.createElement(h.y,{title:"No subtasks to display",message:"Subtasks are an easy way to create smaller and/or related tasks to parent task."})),c.a.createElement("div",{className:Ut()({"d-none":"discussions"!==v}),role:"tabpanel",id:"discussions-tabpanel","aria-labelledby":"discussions-tab"},c.a.createElement(h.x,{withAside:!0,itemType:"Submission",itemKey:t.id,overrideClassName:"discussions-container",me:f,pageSize:3,unreadDiscussionsContainerRef:k,creationFields:E,onCreated:g,CreationForm:S,renderDiscussionsListHeader:function(e){var t=e.handleCreateDiscussionClick;return t?c.a.createElement("div",{className:"d-flex justify-content-end mt-n4 mb-2"},c.a.createElement("button",{className:"btn btn-white btn-sticky-top",onClick:t},c.a.createElement("span",{className:"fa fa-fw fa-plus"}),c.a.createElement("span",null,c.a.createElement(b.k,null,"Create Discussion")))):null}}))))})),fc=function(e){var t=e.onChange,a=e.values,n=e.errors;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"title"},"Title"),c.a.createElement("input",{id:"title",name:"title",type:"text",value:a.title,onChange:t}),n.title&&c.a.createElement("small",{className:"form-text text-danger"},n.title)),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"title"},"Description"),c.a.createElement("textarea",{id:"description",name:"description",value:a.description,onChange:t}),n.description&&c.a.createElement("small",{className:"form-text text-danger"},n.description)),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"form-check-inline"},c.a.createElement("input",{id:"relateOriginatingRequest",name:"relateOriginatingRequest",type:"checkbox",className:"form-check-input",checked:a.relateOriginatingRequest,onChange:t}),c.a.createElement("label",{htmlFor:"relateOriginatingRequest",className:"form-check-label"},"Relate Originating Request"))))},Ec={fetchCurrentItem:mr.fetchCurrentItem,setCurrentItem:mr.setCurrentItem,fetchNextPage:mr.fetchListNext,fetchPreviousPage:mr.fetchListPrevious},bc=Object(Et.a)(zs((function(e,t){return{filter:tr(e,t.location.pathname),loading:!e.queue.currentItem||e.queue.currentItem.id!==t.id,queueItem:e.queue.currentItem,discussionsEnabled:Object(h.Fb)(e),profile:e.app.profile,isSmallLayout:"small"===e.app.layoutSize,appLocation:e.app.location,currentPageData:e.queue.data,hasPreviousPage:e.queue.hasPreviousPage,hasNextPage:e.queue.hasNextPage}}),Ec),Object(Et.e)((function(e){return e.queueItem&&{creationFields:{title:e.queueItem.label||"Queue Discussion",description:e.queueItem.values.Details||"",owningTeams:e.queueItem.values["Assigned Team"]?[{name:e.queueItem.values["Assigned Team"]}]:[],owningUsers:[{username:e.queueItem.values["Assigned Individual"]||e.profile.username}],relateOriginatingRequest:!0}}})),Object(Et.e)((function(e){var t=e.currentPageData,a=e.queueItem,n=e.hasPreviousPage,r=e.fetchPreviousPage,l=e.hasNextPage,s=e.fetchNextPage,c=e.navigate,i=a&&g.a.isList(t)?t.findIndex((function(e){return e.id===a.id})):-1;return i>=0?{goToPreviousItem:0===i?n?function(){return r((function(e){return e&&c("../".concat(e[e.length-1].id))}))}:void 0:function(){return c("../".concat(t.getIn([i-1,"id"])))},goToNextItem:i===t.size-1?l?function(){return s((function(e){return e&&c("../".concat(e[0].id))}))}:void 0:function(){return c("../".concat(t.getIn([i+1,"id"])))}}:{}})),Object(Et.d)({onDiscussionCreated:function(e){return function(t,a){a.relateOriginatingRequest&&e.queueItem.origin&&Object(b.I)(t.id,{type:"Submission",key:e.queueItem.origin.id})}}}),Object(Et.b)({componentDidMount:function(){this.props.fetchCurrentItem(this.props.id)},componentDidUpdate:function(e){this.props.id!==e.id&&this.props.fetchCurrentItem(this.props.id)},componentWillUnmount:function(){this.props.setCurrentItem(null)}}))((function(e){var t=e.loading,a=e.filter,n=e.queueItem,r=(e.discussionsEnabled,e.creationFields),l=e.onDiscussionCreated,s=(e.profile,e.isSmallLayout,e.navigate),i=e.appLocation,o=e.goToPreviousItem,u=e.goToNextItem;return c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:Ut()("page-panel")},c.a.createElement(Qs,{parts:[t?"":n.label,a?a.name||"Adhoc":""],breadcrumbs:[{label:"Home",to:"/"},{label:"Queue",to:i},a&&{label:a.name||"Adhoc",to:"../.."}].filter(Boolean),title:n?n.values.Summary:"",actions:Object(Te.a)(o||u?[{icon:"caret-left",aria:"Previous Queue Item",onClick:o,disabled:!o,className:"btn-outline-dark"},{icon:"caret-right",aria:"Next Queue Item",onClick:u,disabled:!u,className:"btn-outline-dark"}]:[]),meta:n&&[{value:c.a.createElement(Js,{queueItem:n,withReason:!0})},{value:c.a.createElement("span",null,c.a.createElement(b.k,{context:"kapps.".concat(n.form.kapp.slug,".forms.").concat(n.form.slug)},n.form.name)," ","(",n.handle,")")},{label:"Due",value:c.a.createElement(h.bb,{timestamp:n.values["Due Date"],id:"due-date"})},{label:"Created",value:c.a.createElement(h.bb,{timestamp:n.createdAt,id:"created-at"})},{label:"Updated",value:c.a.createElement(h.bb,{timestamp:n.updatedAt,id:"updated-at"})}]}),t?c.a.createElement(h.H,null):c.a.createElement(dc,{filter:a,creationFields:r,onDiscussionCreated:l,CreationForm:fc,navigate:s})))})),gc=a(2142),hc=Object(g.a)(["Open","Pending","Cancelled","Complete"]),Sc=Object(g.b)({"":"Any",mine:"Mine",unassigned:"Unassigned"}),vc=Object(g.c)([["createdAt",{label:"Created At",id:"sorted-by-created-at"}],["updatedAt",{label:"Updated At",id:"sorted-by-updated-at"}],["closedAt",{label:"Closed At",id:"sorted-by-closed-at"}],["values[Due Date]",{label:"Due Date",id:"sorted-by-due-date"}]]),Oc=Object(g.c)([["ASC",{label:"Ascending",id:"sorted-ascending"}],["DESC",{label:"Descending",id:"sorted-descending"}]]),kc=function(e){var t=e.match(/(.)(.*)At/);return"".concat(t[1].toUpperCase()).concat(t[2])},Tc=function(e){return C()(e).format("l")},yc=function(e){return c.a.createElement(b.k,{key:"summarizeDateRange",render:function(t){return""!==e.preset?t("".concat(kc(e.timeline)," in last ").concat(function(e){var t=e.match(/(\d+)days/);return"".concat(t[1]," days")}(e.preset))):e.custom?"".concat(t(kc(e.timeline))," ").concat(Tc(e.start)," - ").concat(Tc(e.end)):null}})},Nc=function(e){if(e.dateRange.custom){if(""===e.dateRange.start&&""===e.dateRange.end)return"Select a start and end date";if(""===e.dateRange.start&&""!==e.dateRange.end)return"Select a start date";if(""!==e.dateRange.start&&""===e.dateRange.end)return"Select an end date";if(e.dateRange.end<e.dateRange.start)return"Select an end date after the start date"}},Cc=function(e,t){return"save-filter"!==t||e.name&&e.name.trim()?e.name.indexOf("%")>=0?"Percentage signs are not allowed in filter names.":void 0:"Filter name cannot be empty."},Fc=function(e){return c.a.createElement("label",{htmlFor:e.id},c.a.createElement("input",Object.assign({type:"checkbox"},e)),c.a.createElement(b.k,null,e.label))},jc=function(e){return c.a.createElement("label",{htmlFor:e.id},c.a.createElement("input",Object.assign({type:"radio"},e)),c.a.createElement(b.k,null,e.label))},_c={open:jr.open,close:jr.close,show:jr.showSection,resetFilter:jr.reset,toggleTeam:jr.toggleTeam,toggleAssignment:jr.toggleAssignment,toggleCreatedByMe:jr.toggleCreatedByMe,toggleStatus:jr.toggleStatus,setDateRangeTimeline:jr.setDateRangeTimeline,setDateRange:jr.setDateRange,setSortedBy:jr.setSortedBy,setDirection:jr.setDirection,setFilterName:jr.setFilterName,push:jn.c,setAdhocFilter:mr.setAdhocFilter,addPersonalFilter:Xn.addPersonalFilter,updatePersonalFilter:Xn.updatePersonalFilter,removePersonalFilter:Xn.removePersonalFilter,openNewItemMenu:mr.openNewItemMenu},Ac=Object(Et.a)(zs((function(e,t){return{myFilters:e.queueApp.myFilters,currentFilter:e.filterMenu.get("currentFilter"),showing:e.filterMenu.get("activeSection"),isOpen:e.filterMenu.get("isOpen"),teams:e.queueApp.myTeams,hasTeams:e.queueApp.myTeams.size>0,forms:e.queueApp.forms,location:e.app.location}}),_c),Object(Et.d)({applyFilter:function(e){return function(t){e.close(),e.setAdhocFilter(Object(g.o)(t)?t:e.currentFilter),e.push("".concat(e.location,"/adhoc"))}}}),Object(Et.d)({toggleShowing:function(e){return function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){a||e.resetFilter(),e.show(e.showing===t?null:t)}}},toggleTeam:function(e){return function(t){return e.toggleTeam(t.target.name)}},toggleAssignment:function(e){return function(t){return e.toggleAssignment(t.target.value)}},toggleStatus:function(e){return function(t){return e.toggleStatus(t.target.name)}},toggleCreatedByMe:function(e){return function(t){return e.toggleCreatedByMe(!e.currentFilter.createdByMe)}},changeTimeline:function(e){return function(t){return e.setDateRangeTimeline(t.target.value)}},changeSortedBy:function(e){return function(t){return e.setSortedBy(t.target.value)}},changeDirection:function(e){return function(t){return e.setDirection(t.target.value)}},changeFilterName:function(e){return function(t){return e.setFilterName(t.target.value)}},toggleDirection:function(e){return function(){return e.applyFilter(e.filter.update("sortDirection",(function(e){return"ASC"===e?"DESC":"ASC"})))}},clearTeams:function(e){return function(){return e.applyFilter(e.filter.delete("teams"))}},clearAssignments:function(e){return function(){return e.applyFilter(e.filter.delete("assignments"))}},clearStatus:function(e){return function(){return e.applyFilter(e.filter.set("status",Object(g.a)()))}},clearDateRange:function(e){return function(){return e.applyFilter(e.filter.delete("dateRange"))}},checkFilterName:function(e){return function(t){if(e.myFilters.find((function(e){return e.name===t.name})))return"A filter with that name already exists and will be updated"}},saveFilter:function(e){return function(t){var a=Object(g.o)(t)?t:e.currentFilter;e.myFilters.find((function(e){return e.name===a.name}))?e.updatePersonalFilter(a.set("type","custom")):e.addPersonalFilter(a.set("type","custom")),e.push("".concat(e.location,"/custom/").concat(encodeURIComponent(a.name)))}},removeFilter:function(e){return function(t){e.removePersonalFilter(Object(g.o)(t)?t:e.currentFilter),e.push("".concat(e.location,"/list/Mine"))}}}),Object(Et.b)({componentDidMount:function(){this.props.open(this.props.filter)},componentDidUpdate:function(e){this.props.filter.equals(e.filter)||this.props.open(this.props.filter)}}))((function(e){return c.a.createElement(b.k,{render:function(t){return e.currentFilter&&e.render({teamFilters:e.teams.map((function(t){return{id:"filter-menu-team-checkbox-".concat(t.slug),name:t.name,label:t.name,checked:e.currentFilter.teams.includes(t.name),onChange:e.toggleTeam}})).map((function(e){return c.a.createElement(Fc,Object.assign({key:e.name},e))})),assignmentFilters:Sc.toSeq().map((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{id:"filter-menu-assignment-radio-".concat(a||"any"),name:"filter-menu-assignment-radio",value:a,label:t,checked:e.currentFilter.assignments===a,onChange:e.toggleAssignment}})).valueSeq().map((function(e){return c.a.createElement(jc,Object.assign({key:e.value},e))})),createdByMeFilter:c.a.createElement(Fc,{id:"createdByMe",name:"createdByMe",label:"Created By Me",checked:e.currentFilter.createdByMe,onChange:e.toggleCreatedByMe}),statusFilters:hc.map((function(t){return{id:"filter-menu-status-checkbox-".concat(t),name:t,label:t,checked:e.currentFilter.status.includes(t),onChange:e.toggleStatus}})).map((function(e){return c.a.createElement(Fc,Object.assign({key:e.name},e))})),dateRangeFilters:c.a.createElement(s.Fragment,null,c.a.createElement("select",{value:e.currentFilter.dateRange.timeline,onChange:e.changeTimeline,className:"form-control"},c.a.createElement("option",{value:"createdAt"},t("Created At")),c.a.createElement("option",{value:"updatedAt"},t("Updated At")),c.a.createElement("option",{value:"closedAt"},t("Closed At"))),c.a.createElement(h.u,{allowNone:!0,value:(a=e.currentFilter.dateRange,a.custom?{start:a.start,end:a.end}:a.preset),onChange:e.setDateRange})),sortedByOptions:vc.filter((function(t,a){return!e.currentFilter.dateRange.preset&&!e.currentFilter.dateRange.current||a===e.currentFilter.sortBy})).map((function(a,n){var r=a.label,l=a.id;return c.a.createElement(s.Fragment,{key:l},c.a.createElement("label",{htmlFor:l},c.a.createElement("input",{type:"radio",id:l,value:n,name:"sorted-by",checked:n===e.currentFilter.sortBy,onChange:e.changeSortedBy,disabled:e.currentFilter.dateRange.preset||e.currentFilter.dateRange.current}),c.a.createElement(b.k,null,r)),n===e.currentFilter.sortBy&&e.currentFilter.sortBy.startsWith("values")&&c.a.createElement("small",{className:"text-muted"},t("Sorting by %s will exclude items for which the %s field doesn't exist.").replace(/%s/g,t(r))))})).toList().push(e.currentFilter.dateRange.preset||e.currentFilter.dateRange.current?c.a.createElement("small",{key:"info-msg",className:"text-muted"},t("Options restricted due to the selected date range.")):null),sortDirectionOptions:Oc.map((function(a,n){var r=a.label,l=a.id;return c.a.createElement("label",{key:l,htmlFor:l},c.a.createElement("input",{type:"radio",id:l,value:n,name:"sort-direction",checked:n===e.currentFilter.sortDirection,onChange:e.changeDirection}),t(r))})).toList(),saveFilterOptions:c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"save-filter-name"},t("Filter Name")),c.a.createElement("input",{type:"text",className:"form-control",id:"save-filter-name",value:e.currentFilter.name,onChange:e.changeFilterName,placeholder:t("New Filter Name")})),currentTeamSummary:e.currentFilter.teams.map(t).join(", "),currentAssignmentSummary:t(Sc.get(e.currentFilter.assignments)),currentStatusSummary:e.currentFilter.status.map(t).join(", "),currentDateRangeSummary:yc(e.currentFilter.dateRange),currentSortedBySummary:[t(vc.getIn([e.currentFilter.sortBy,"label"])),t(Oc.getIn([e.currentFilter.sortDirection,"label"]))].filter(Boolean).join(" - "),currentCreatedByMeChecked:e.currentFilter.createdByMe,currentFilterName:e.currentFilter.name,dateRangeError:Nc(e.currentFilter),filterNameError:Cc(e.currentFilter,e.showing),validations:[Nc,Cc].map((function(t){return t(e.currentFilter,e.showing)})).filter((function(e){return e})),messages:[Nc,Cc].map((function(t){return t(e.currentFilter,e.showing)})).filter((function(e){return e})),saveMessages:[e.checkFilterName].map((function(t){return t(e.currentFilter)})).filter((function(e){return e})),teamSummary:e.filter.teams.map(t).join(", "),assignmentSummary:t(Sc.get(e.filter.assignments)),statusSummary:e.filter.status.map(t).join(", "),dateRangeSummary:yc(e.filter.dateRange),sortedBySummary:t(vc.getIn([e.filter.sortBy,"label"])||t("Created At")),toggleDirection:e.toggleDirection,showing:e.showing,toggleShowing:e.toggleShowing,dirty:!e.currentFilter.equals(e.filter),apply:e.applyFilter,reset:e.resetFilter,hasTeams:e.hasTeams,clearTeams:e.clearTeams,clearAssignments:e.clearAssignments,clearStatus:e.clearStatus,clearDateRange:e.clearDateRange,toggleCreatedByMe:e.toggleCreatedByMe,saveFilter:e.saveFilter,removeFilter:e.removeFilter,isOpen:e.isOpen,openFilterMenu:e.openFilterMenu,openNewItemMenu:e.openNewItemMenu});var a}})})),Rc=a(2148),xc=a(2149),wc=function(e){return e||0===e?e>=1e3?"(999+)":"(".concat(e,")"):""},Ic=zs((function(e){return{appLocation:e.app.location,pathname:e.router.location.pathname,teamFilters:e.queueApp.teamFilters,myFilters:e.queueApp.myFilters,counts:e.queueApp.filters.toMap().mapEntries((function(t){var a=Object(n.a)(t,2),r=(a[0],a[1]);return[r.name,e.queue.counts.get(r)]})),hasTeams:e.queueApp.myTeams.size>0,hasForms:ar(e).filter((function(e){return"Task"===e.type})).length>0}}),{openNewItemMenu:mr.openNewItemMenu})((function(e){var t=e.counts,a=e.openNewItemMenu,n=e.myFilters,r=e.teamFilters,l=e.hasTeams,i=e.hasForms,o=e.pathname,u=e.appLocation,m=e.onSidebarAction,p=e.showCreateNew,d=void 0===p||p,f=Object(s.useCallback)((function(e){var t=e.to,a=(e.matchParams,e.icon),n=e.children;return c.a.createElement(Fn.a,{to:t,className:Ut()("nav-link",{active:xn()(o,{path:decodeURI(t),exact:!0})}),onClick:m},c.a.createElement("span",{className:a}),n)}),[o,m]);return c.a.createElement("div",{className:"queue-sidebar"},d&&i&&c.a.createElement("div",{className:"px-4 pt-4 pb-2"},c.a.createElement("button",{type:"button",className:"btn btn-secondary btn-block",onClick:a},c.a.createElement(b.k,null,"New Task"))),c.a.createElement(Rc.a,{className:"nav-tabs nav-tabs--vertical"},c.a.createElement("div",{className:"nav-item nav-item--header"},"Default Filters"),c.a.createElement(xc.a,null,c.a.createElement(f,{to:"".concat(u,"/list/Mine"),icon:"fa fa-user fa-fw"},c.a.createElement(b.k,null,"Mine")," ",wc(t.get("Mine",0)))),l&&c.a.createElement(xc.a,null,c.a.createElement(f,{to:"".concat(u,"/list/Unassigned"),icon:"fa fa-inbox fa-fw"},c.a.createElement(b.k,null,"Unassigned")," ",wc(t.get("Unassigned",0)))),c.a.createElement(xc.a,null,c.a.createElement(f,{to:"".concat(u,"/list/Created By Me"),icon:"fa fa-user-circle-o fa-fw"},c.a.createElement(b.k,null,"Created By Me")," ",wc(t.get("Created By Me",0)))),c.a.createElement("div",{className:"nav-item nav-item--header"},c.a.createElement(b.k,null,"Team Filters")),r.map((function(e){return c.a.createElement(xc.a,{key:e.name},c.a.createElement(f,{to:"".concat(u,"/team/").concat(encodeURIComponent(e.name)),icon:"fa fa-fw fa-".concat(e.icon)},c.a.createElement(b.k,null,"".concat(e.name))))})),c.a.createElement("div",{className:"nav-item nav-item--header"},c.a.createElement(b.k,null,"My Filters")),n.map((function(e){return c.a.createElement(xc.a,{key:e.name},c.a.createElement(f,{to:"".concat(u,"/custom/").concat(encodeURIComponent(e.name)),icon:"fa fa-star-o fa-fw"},e.name))})),0===n.size&&c.a.createElement(xc.a,null,c.a.createElement("span",{className:"nav-link"},c.a.createElement("span",{className:"fa fa-filled-star",role:"presentation"}),c.a.createElement("em",null,c.a.createElement(b.k,null,"None Configured"))))))})),Lc=function(e){var t=e.toggleShowing(e.name),a="".concat(e.name,"-dropdown");return c.a.createElement(s.Fragment,null,c.a.createElement(Dt.a,{target:a,isOpen:e.showing===e.name,toggle:t,setActiveFromChild:!0},e.renderButton({onClick:t,id:a}),c.a.createElement(Ht.a,{className:"filter-menu-dropdown"},(In()(e.renderContent)?e.renderContent:[e.renderContent]).map((function(e,t){return c.a.createElement("div",{className:"filter-menu-dropdown__content",key:"content-".concat(t)},e())})),(e.validations.length>0||e.messages&&e.messages.length>0)&&c.a.createElement("div",{className:"filter-menu-dropdown__validations"},e.validations.map((function(e,t){return c.a.createElement("p",{key:t,className:"text-danger"},c.a.createElement("small",null,c.a.createElement(b.k,null,e)))})),e.messages&&e.messages.map((function(e,t){return c.a.createElement("p",{key:t,className:"text-info"},c.a.createElement("small",null,c.a.createElement(b.k,null,e)))}))),c.a.createElement("div",{className:"filter-menu-dropdown__footer"},c.a.createElement("button",{className:"btn btn-link",onClick:e.reset},c.a.createElement(b.k,null,e.resetLabel||"Reset")),c.a.createElement("button",{className:"btn btn-primary",onClick:e.apply,disabled:!e.dirty||e.validations.length>0},c.a.createElement(b.k,null,e.applyLabel||"Apply"))))))},Pc=function(e){return c.a.createElement(qt.a,Object.assign({tag:"button",className:"btn btn-white"},e))},Uc=function(e){var t="string"===typeof e.action;return c.a.createElement(s.Fragment,null,c.a.createElement("button",{type:"button",id:e.id,className:"btn btn-white ".concat(t?"disabled":""),onClick:t?void 0:e.action,"aria-label":"Clear Filter"},c.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})),t&&c.a.createElement(gc.a,{placement:"right",target:e.id},c.a.createElement(b.k,null,e.action)))},Mc=function(e){var t="ASC"===e.direction?"asc":"desc";return c.a.createElement(s.Fragment,null,c.a.createElement("button",{type:"button",className:"btn btn-white",onClick:e.action,"aria-label":"Sort by ".concat(t)},c.a.createElement("i",{className:"fa fa-sort-amount-".concat(t),"aria-hidden":"true"})))},Dc=function(e){var t=e.filter,a=e.refresh,l=e.showFilterMenu,i=Object(s.useState)(!1),o=Object(n.a)(i,2),u=o[0],m=o[1],p=Object(s.useCallback)((function(){return m((function(e){return!e}))}),[m]);return c.a.createElement(Ac,{filter:t,render:function(e){var n=e.dirty,s=e.validations,i=e.apply,o=e.reset,m=e.showing,d=e.toggleShowing,f=Object(r.a)(e,["dirty","validations","apply","reset","showing","toggleShowing"]),E={dirty:n,apply:i,reset:o,showing:m,toggleShowing:d,validations:s};return c.a.createElement("div",{className:"queue-controls"},c.a.createElement("div",{className:"queue-controls__heading"},l?c.a.createElement(Dt.a,{className:"filters-dropdown",isOpen:u,toggle:p},c.a.createElement(qt.a,{caret:!0,tag:"button",className:Ut()({edited:"adhoc"===t.type&&t.name})},c.a.createElement(b.k,null,c.a.createElement("span",{className:"group"},c.a.createElement(b.k,null,"default"===t.type?"Default Filter":"team"===t.type?"Team Filter":"custom"===t.type?"My Filter":"Adhoc Filter"),t.name?": ":""),c.a.createElement("span",{className:"name"},t.name)," ")),c.a.createElement(Ht.a,{className:""},c.a.createElement(Ic,{showCreateNew:!1,onSidebarAction:p}))):c.a.createElement("h2",{className:Ut()({edited:"adhoc"===t.type&&t.name})},c.a.createElement(b.k,null,t.name||"Adhoc")),c.a.createElement("div",{className:"buttons ml-3"},"adhoc"===t.type&&c.a.createElement(Lc,Object.assign({name:"save-filter"},E,{dirty:!0,apply:f.saveFilter,applyLabel:"Save",reset:d("save-filter"),resetLabel:"Cancel",messages:f.saveMessages,renderButton:function(e){return c.a.createElement(Pc,Object.assign({},e,{className:"btn btn-link text-primary"}),c.a.createElement("span",{className:"icon"},c.a.createElement("span",{className:"fa fa-fw fa-bookmark-o text-primary"})),c.a.createElement("span",null,c.a.createElement(b.k,null,"Save Filter")))},renderContent:function(){return f.saveFilterOptions}})),"custom"===t.type&&c.a.createElement(Lc,Object.assign({name:"delete-filter"},E,{dirty:!0,apply:f.removeFilter,applyLabel:"Delete",reset:d("delete-filter"),resetLabel:"Cancel",renderButton:function(e){return c.a.createElement(Pc,Object.assign({},e,{className:"btn btn-link text-danger"}),c.a.createElement("span",{className:"icon"},c.a.createElement("span",{className:"fa fa-fw fa-trash-o text-danger"})),c.a.createElement("span",null,c.a.createElement(b.k,null,"Delete Filter")))},renderContent:function(){return c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement(b.k,null,"Are you sure?")))}}))),c.a.createElement("div",{className:"buttons"},c.a.createElement("button",{type:"button",className:"btn btn-icon",onClick:a,"aria-label":"Refresh"},c.a.createElement("span",{className:"icon"},c.a.createElement("span",{className:"fa fa-fw fa-refresh"})),c.a.createElement("span",null,c.a.createElement(b.k,null,"Refresh"))),l&&c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:f.openNewItemMenu,"aria-label":"New Task"},c.a.createElement("span",{className:"fa fa-fw fa-plus"}),c.a.createElement("span",null,c.a.createElement(b.k,null,"New Task"))))),c.a.createElement("div",{className:"queue-controls__filter"},c.a.createElement("div",{className:"queue-filter-list"},f.hasTeams&&c.a.createElement(Lc,Object.assign({name:"team"},E,{renderButton:function(e){return t.teams.isEmpty()?c.a.createElement(Pc,Object.assign({},e,{caret:!0}),c.a.createElement(b.k,null,"Any Team")):c.a.createElement("div",{className:"btn-group"},c.a.createElement(Pc,Object.assign({},e,{caret:!0}),c.a.createElement(b.k,null,"Team"),": ",f.teamSummary),c.a.createElement(Uc,{action:f.clearTeams}))},renderContent:function(){return f.teamFilters}})),c.a.createElement(b.k,{render:function(e){return c.a.createElement(Lc,Object.assign({name:"assignment"},E,{renderButton:function(a){return t.assignments?c.a.createElement("div",{className:"btn-group"},c.a.createElement(Pc,Object.assign({},a,{caret:!0}),e("Assignment"),":"," ",f.assignmentSummary,t.createdByMe&&" | ".concat(e("Created By Me")))):c.a.createElement(Pc,Object.assign({},a,{caret:!0}),e("Any Assignment"),t.createdByMe&&" | ".concat(e("Created By Me")))},renderContent:[function(){return f.assignmentFilters},function(){return f.createdByMeFilter}]}))}}),c.a.createElement(Lc,Object.assign({name:"status"},E,{renderButton:function(e){return t.status.isEmpty()?c.a.createElement(Pc,Object.assign({},e,{caret:!0}),c.a.createElement(b.k,null,"Any Status")):c.a.createElement("div",{className:"btn-group"},c.a.createElement(Pc,Object.assign({},e,{caret:!0}),c.a.createElement(b.k,null,"Status"),": ",f.statusSummary),c.a.createElement(Uc,{action:f.clearStatus}))},renderContent:function(){return f.statusFilters}})),c.a.createElement(Lc,Object.assign({name:"date-range"},E,{renderButton:function(e){return t.dateRange.custom||""!==t.dateRange.preset?c.a.createElement("div",{className:"btn-group"},c.a.createElement(Pc,Object.assign({},e,{caret:!0}),f.dateRangeSummary),c.a.createElement(Uc,{id:"clearDateRange",action:f.clearDateRange})):c.a.createElement(Pc,Object.assign({},e,{caret:!0}),c.a.createElement(b.k,null,"Any Date Range"))},renderContent:function(){return f.dateRangeFilters}})),c.a.createElement(Lc,Object.assign({name:"order-by"},E,{renderButton:function(e){return c.a.createElement("div",{className:"btn-group"},c.a.createElement(Pc,Object.assign({},e,{caret:!0}),c.a.createElement(b.k,null,"Sort by")," ",f.sortedBySummary),c.a.createElement(Mc,{action:f.toggleDirection,direction:t.sortDirection}))},renderContent:[function(){return f.sortedByOptions},function(){return f.sortDirectionOptions}]})))))}})},qc=function(e){var t=e.filter,a=e.refresh,r=Object(s.useState)(!1),l=Object(n.a)(r,2),i=l[0],o=l[1],u=Object(s.useState)(!1),m=Object(n.a)(u,2),p=m[0],d=m[1],f=Object(s.useCallback)((function(){return d((function(e){return!e}))}),[d]);return c.a.createElement(b.k,{render:function(e){return c.a.createElement(Ac,{filter:t,render:function(n){var r=Object.assign({},n),l=function(e){return function(){o(!!e),"string"===typeof e?r.toggleShowing(e,!0)():e?r.toggleShowing(null,!0)():r.toggleShowing(null,!1)()}};return c.a.createElement("div",{className:"queue-controls"},c.a.createElement("div",{className:"queue-controls__heading"},c.a.createElement(Dt.a,{className:"filters-dropdown",isOpen:p,toggle:f},c.a.createElement(qt.a,{caret:!0,tag:"button",className:Ut()({edited:"adhoc"===t.type&&t.name})},c.a.createElement(b.k,null,c.a.createElement("span",{className:"group"},c.a.createElement(b.k,null,"default"===t.type?"Default Filter":"team"===t.type?"Team Filter":"custom"===t.type?"My Filter":"Adhoc Filter"),t.name?": ":""),c.a.createElement("span",{className:"name"},t.name)," ")),c.a.createElement(Ht.a,{className:""},c.a.createElement(Ic,{showCreateNew:!1,onSidebarAction:f}))),c.a.createElement("div",{className:"buttons ml-2"},"adhoc"===t.type&&c.a.createElement("button",{type:"button",className:"btn btn-icon",onClick:l("save"),"aria-label":"Save Filter"},c.a.createElement("span",{className:"icon","aria-hidden":"true"},c.a.createElement("span",{className:"fa fa-fw fa-bookmark-o text-primary"}))),"custom"===t.type&&c.a.createElement("button",{type:"button",className:"btn btn-icon",onClick:function(){Object(h.xb)({title:"Delete Filter",body:c.a.createElement("span",null,"Are you sure you want to delete the"," ",c.a.createElement("strong",null,t.name)," filter?"),actionName:"Delete",ok:r.removeFilter})},"aria-label":"Delete Filter"},c.a.createElement("span",{className:"icon","aria-hidden":"true"},c.a.createElement("span",{className:"fa fa-fw fa-trash-o text-danger"})))),c.a.createElement("div",{className:"buttons"},c.a.createElement("button",{type:"button",className:"btn btn-icon",onClick:l(!0),"aria-label":"Filter Menu"},c.a.createElement("span",{className:"fa fa-fw fa-sliders","aria-hidden":"true"})),c.a.createElement("button",{type:"button",className:"btn btn-icon",onClick:a,"aria-label":"Refresh"},c.a.createElement("span",{className:"icon","aria-hidden":"true"},c.a.createElement("span",{className:"fa fa-fw fa-refresh"}))),c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:r.openNewItemMenu,"aria-label":"New Task"},c.a.createElement("span",{className:"fa fa-fw fa-plus"})))),c.a.createElement("div",{className:"queue-controls__summary"},c.a.createElement("button",{type:"button",className:"btn btn-text",onClick:l(!0)},[t.teams.isEmpty()?e("Any Team"):"".concat(e("Team"),": ").concat(r.teamSummary)," \xb7 ",t.assignments?"".concat(e("Assignment"),": ").concat(r.assignmentSummary):e("Any Assignment")," \xb7 ",t.createdByMe&&[e("Created By Me")," \xb7 "],t.status.isEmpty()?e("Any Status"):"".concat(e("Status"),": ").concat(r.statusSummary)," \xb7 ",t.dateRange.custom||""!==t.dateRange.preset?r.dateRangeSummary:e("Any Date Range")," \xb7 ","".concat(e("Sort by")," ").concat(r.sortedBySummary)].filter(Boolean)),c.a.createElement("button",{type:"button",className:"btn btn-icon",onClick:r.toggleDirection,"aria-label":"Sort Direction ".concat("ASC"===t.sortDirection?"Ascending":"Descending")},c.a.createElement("span",{className:"fa fa-sort-amount-".concat("ASC"===t.sortDirection?"asc":"desc"),"aria-hidden":"true"}))),c.a.createElement(vt.a,{isOpen:i,toggle:l(!1),className:"queue-controls__modal"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("div",{className:"modal-title"},c.a.createElement("button",{type:"button",className:"btn btn-link",onClick:l(!1)},c.a.createElement(b.k,null,"Close")),c.a.createElement("span",null,c.a.createElement(b.k,null,"Filters")),"save"!==r.showing&&c.a.createElement("button",{type:"button",className:"btn btn-link",disabled:!r.dirty,onClick:r.reset},c.a.createElement(b.k,null,"Reset"))),!!r.showing&&c.a.createElement("button",{type:"button",className:"btn btn-link btn-back",onClick:r.toggleShowing(null,"save"!==r.showing)},c.a.createElement("span",{className:"icon"},c.a.createElement("span",{className:"fa fa-fw fa-angle-left"})),c.a.createElement(b.k,null,"Filters"))),!r.showing&&c.a.createElement(Ot.a,null,c.a.createElement("ul",{className:"list-group button-list"},r.hasTeams&&c.a.createElement(Hc,{label:"Teams",summary:r.currentTeamSummary,onClick:r.toggleShowing("teams",!0)}),c.a.createElement(Hc,{label:"Assignment",summary:r.currentAssignmentSummary,onClick:r.toggleShowing("assignment",!0)}),c.a.createElement(Bc,{label:"Created By Me",checked:r.currentCreatedByMeChecked,onClick:r.toggleCreatedByMe}),c.a.createElement(Hc,{label:"Status",summary:r.currentStatusSummary,onClick:r.toggleShowing("status",!0)}),c.a.createElement(Hc,{label:"Date Range",summary:r.currentDateRangeSummary,error:r.dateRangeError,onClick:r.toggleShowing("date",!0)}),c.a.createElement(Hc,{label:"Sort By",summary:r.currentSortedBySummary,onClick:r.toggleShowing("sort",!0)}))),"teams"===r.showing&&c.a.createElement(Ot.a,{className:"filter-section"},c.a.createElement(zc,{label:"Teams",content:r.teamFilters})),"assignment"===r.showing&&c.a.createElement(Ot.a,{className:"filter-section"},c.a.createElement(zc,{label:"Assignment",content:r.assignmentFilters})),"status"===r.showing&&c.a.createElement(Ot.a,{className:"filter-section"},c.a.createElement(zc,{label:"Status",content:r.statusFilters})),"date"===r.showing&&c.a.createElement(Ot.a,{className:"filter-section"},c.a.createElement(zc,{label:"Date Range",content:r.dateRangeFilters,error:r.dateRangeError})),"sort"===r.showing&&c.a.createElement(Ot.a,{className:"filter-section"},c.a.createElement(zc,{label:"Sort By",content:r.sortedByOptions}),c.a.createElement(zc,{label:"Direction",content:r.sortDirectionOptions})),"save"===r.showing&&c.a.createElement(Ot.a,{className:"filter-section"},c.a.createElement(zc,{label:"Save Filter",content:r.saveFilterOptions,error:r.filterNameError,messages:r.saveMessages})),c.a.createElement(kt.a,null,"save"===r.showing?c.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!r.currentFilterName||r.filterNameError,onClick:function(){r.saveFilter(),o(!1)}},c.a.createElement(b.k,null,"Save Filter")):c.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!r.dirty||r.dateRangeError,onClick:function(){r.apply(),o(!1)}},c.a.createElement(b.k,null,"Apply Filter")))))}})}})},Hc=function(e){var t=e.label,a=e.summary,n=e.onClick,r=e.error;return c.a.createElement("li",{className:"list-group-item"},c.a.createElement("button",{type:"button",className:"btn btn-link",onClick:n},c.a.createElement("span",{className:"button-title"},c.a.createElement(b.k,null,t)),r?c.a.createElement("span",{className:"summary text-danger"},c.a.createElement(b.k,null,r)):c.a.createElement("span",{className:"summary"},a),c.a.createElement("span",{className:"icon"},c.a.createElement("span",{className:"fa fa-angle-right"}))))},Bc=function(e){var t=e.label,a=e.checked,n=e.onClick;return c.a.createElement("li",{className:"list-group-item"},c.a.createElement("button",{type:"button",className:"btn btn-link",onClick:n},c.a.createElement("span",{className:"button-title"},c.a.createElement(b.k,null,t)),c.a.createElement("span",null,c.a.createElement("input",{type:"checkbox",checked:a,disabled:!0,style:{pointerEvents:"none"}}))))},zc=function(e){var t=e.label,a=e.content,n=e.error,r=e.messages;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,c.a.createElement(b.k,null,t),n&&c.a.createElement("small",{className:"text-danger d-block"},c.a.createElement(b.k,null,n)),r&&r.length>0&&c.a.createElement(b.k,{render:function(e){return r.map((function(t,a){return c.a.createElement("small",{key:"msg-".concat(a),className:"text-info d-block"},e(t))}))}})),a)},Qc=[10,25,50,100],Kc={previousPage:mr.fetchListPrevious,nextPage:mr.fetchListNext,updateListLimit:mr.updateListLimit,toggleSelectionMode:mr.toggleSelectionMode},Gc=Object(Et.a)(zs((function(e,t){return{paging:e.queue.paging,pageIndexStart:e.queue.pageIndexStart,pageIndexEnd:e.queue.pageIndexEnd,hasPreviousPage:e.queue.hasPreviousPage,hasNextPage:e.queue.hasNextPage,limit:e.queue.limit,count:e.queue.counts.get(t.filter),selectionMode:null!==e.queue.selectedList,isMobile:"small"===e.app.layoutSize}}),Kc),Object(Et.d)({handlePrevious:function(e){return function(){return e.previousPage()}},handleNext:function(e){return function(){return e.nextPage()}},changeSelectionMode:function(e){return function(){return e.toggleSelectionMode()}}}))((function(e){var t=e.paging,a=e.pageIndexStart,n=e.pageIndexEnd,r=e.hasPreviousPage,l=e.hasNextPage,s=e.handlePrevious,i=e.handleNext,o=e.count,u=e.limit,m=e.updateListLimit,p=e.selectionMode,d=e.changeSelectionMode,f=e.isMobile;return c.a.createElement("div",{className:"queue-controls"},c.a.createElement("div",{className:"queue-controls__pagination"},c.a.createElement("div",{className:"selection-mode"},c.a.createElement("button",{type:"button",className:"btn btn-icon",onClick:d,"aria-label":"Next Page"},c.a.createElement("span",{className:"icon","aria-hidden":"true"},c.a.createElement("span",{className:Ut()("fa fa-fw",{"fa-toggle-off":!p,"fa-toggle-on":p})})),!f&&c.a.createElement("span",null,"Selection Mode"))),c.a.createElement("div",{className:"paging"},c.a.createElement("button",{type:"button",className:"btn btn-icon",disabled:!r,onClick:s,"aria-label":"Previous Page"},c.a.createElement("span",{className:"icon","aria-hidden":"true"},c.a.createElement("span",{className:"fa fa-caret-left"}))),t?c.a.createElement("span",{className:"fa fa-spinner fa-spin"}):c.a.createElement("small",{className:"text-center"},c.a.createElement("strong",null,a,"-",n),(o||0===o)&&c.a.createElement(c.a.Fragment,null," ",c.a.createElement(b.k,null,"of")," ",c.a.createElement("strong",null,o))),c.a.createElement("button",{type:"button",className:"btn btn-icon",disabled:!l,onClick:i,"aria-label":"Next Page"},c.a.createElement("span",{className:"icon","aria-hidden":"true"},c.a.createElement("span",{className:"fa fa-caret-right"})))),c.a.createElement("div",{className:"page-size"},c.a.createElement(b.k,{render:function(e){return c.a.createElement("select",{name:"per-page-select","aria-label":"Page Size",value:u,onChange:function(e){return m(parseInt(e.target.value))}},Qc.map((function(t){return c.a.createElement("option",{key:t,value:t},"".concat(t," ").concat(e("per page")))})))}}))))})),Wc=Object(Et.a)(zs((function(e,t){return{items:e.queue.selectedList,forms:e.queueApp.forms}})),Object(Et.g)("assignment","setAssignment",null),Object(Et.g)("isAssigning","setIsAssigning",!0),Object(Et.d)({toggleAssigning:function(e){return function(){return e.setIsAssigning(!e.assignment||!e.isAssigning)}},setAssignment:function(e){return function(t,a){var n=a.team.split("::"),r={"Assigned Team":a.team,"Assigned Team Display Name":n[n.length-1],"Assigned Individual":"","Assigned Individual Display Name":""};a.username&&(r["Assigned Individual"]=a.username,r["Assigned Individual Display Name"]=a.displayName),e.setAssignment(r)}},submitAssignment:function(e){return function(){return e.handleSubmit(e.assignment)}}}))((function(e){return c.a.createElement(vt.a,{isOpen:!0,toggle:e.toggle,size:"lg"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("div",{className:"modal-title"},c.a.createElement("button",{type:"button",className:"btn btn-link",onClick:e.toggle},c.a.createElement(b.k,null,"Close")),c.a.createElement("span",null,c.a.createElement(b.k,{render:function(t){return t("Assign %d Selected Item".concat(e.items.size>1?"s":"")).replace("%d",e.items.size)}})))),c.a.createElement(Ot.a,null,e.message&&c.a.createElement("div",{className:"p-3"},e.message),e.isAssigning?c.a.createElement(ic,{toggle:e.toggleAssigning,onSelect:e.setAssignment,assignments:e.assignments}):c.a.createElement("div",{className:"assignment-badge",onClick:e.toggleAssigning,role:"button","aria-label":"Change Assignment",tabIndex:0},c.a.createElement("span",{className:"badge","aria-hidden":"true"},e.assignment["Assigned Individual Display Name"]&&e.assignment["Assigned Individual Display Name"].charAt(0)||e.assignment["Assigned Team Display Name"]&&e.assignment["Assigned Team Display Name"].charAt(0)),c.a.createElement("div",null,c.a.createElement("div",{className:"assignment-badge__team"},c.a.createElement(b.k,null,e.assignment["Assigned Team Display Name"])),c.a.createElement("div",{className:"assignment-badge__individual text-truncate"},e.assignment["Assigned Individual Display Name"]||e.assignment["Assigned Individual"])),c.a.createElement("span",{className:"icon","aria-hidden":"true"},c.a.createElement("span",{className:"fa fa-pencil"})))),c.a.createElement(kt.a,null,c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.submitAssignment,disabled:!e.assignment},c.a.createElement(b.k,null,"Assign"))))})),Vc=Object(Et.a)(zs((function(e,t){return{kapp:e.app.kapp,items:e.queue.selectedList,forms:e.queueApp.forms}})),Object(Et.e)((function(e){return{formSlug:e.items.size>0?e.items.first().form.slug:null}})),Object(Et.g)("kineticForm","setKineticForm",null),Object(Et.d)({handleLoaded:function(e){return function(t){return e.setKineticForm(t)}},submitWork:function(e){return function(){Object.keys(e.kineticForm.validate()).length>0?e.kineticForm.submitPage():e.handleSubmit(Object(g.b)(e.kineticForm.serialize()).filter((function(e,t){return e&&e.length>0})).toJS())}}}))((function(e){return c.a.createElement(vt.a,{isOpen:!0,toggle:e.toggle,size:"lg"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("div",{className:"modal-title"},c.a.createElement("button",{type:"button",className:"btn btn-link",onClick:e.toggle},c.a.createElement(b.k,null,"Close")),c.a.createElement("span",null,c.a.createElement(b.k,{render:function(t){return t("Work %d Selected Item".concat(e.items.size>1?"s":"")).replace("%d",e.items.size)}})))),c.a.createElement(Ot.a,null,c.a.createElement(b.k,{context:"kapps.".concat(e.kapp.slug,".forms.").concat(e.formSlug)},c.a.createElement(b.d,{kapp:e.kapp.slug,form:e.formSlug,onLoaded:e.handleLoaded,values:{"Bulk Action":"Yes"}}))),c.a.createElement(kt.a,null,c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.submitWork},c.a.createElement(b.k,{render:function(t){return t("Update %d Item".concat(e.items.size>1?"s":"")).replace("%d",e.items.size)}}))))})),Jc=a(2154),Xc={bulkStatusReset:mr.bulkStatusReset,toggleSelectionMode:mr.toggleSelectionMode},Yc=Object(Et.a)(zs((function(e,t){return{status:e.queue.bulkStatus}}),Xc),Object(Et.g)("keepSelection","setKeepSelection","none"),Object(Et.e)((function(e){return{label:"assign"===e.status.type?"Assigning":"Working"}})),Object(Et.d)({handleKeepSelectionChange:function(e){return function(t){return e.setKeepSelection(t.target.value)}},toggle:function(e){return function(){var t=[].concat(Object(Te.a)(["all","success"].includes(e.keepSelection)?e.status.success.filter((function(e){return"Draft"===e.coreState})):[]),Object(Te.a)(["all","error"].includes(e.keepSelection)?e.status.items.filter((function(t){return e.status.error.find((function(e){return e.submissionId===t.id}))})):[]));e.bulkStatusReset(),e.toggleSelectionMode(!0,t),e.refresh()}}}))((function(e){var t=e.status,a=e.toggle,n=e.label,r=(e.progressValue,e.progressMax,e.keepSelection),l=e.handleKeepSelectionChange;return t.open?c.a.createElement(vt.a,{isOpen:!0,toggle:a,size:"lg",backdrop:t.completed?void 0:"static",keyboard:t.completed},c.a.createElement("div",{className:"modal-header"},c.a.createElement("div",{className:"modal-title"},c.a.createElement("span",null,c.a.createElement(b.k,{render:function(e){return e("".concat(n," %d Selected Item").concat(t.count>1?"s":"")).replace("%d",t.count)}})))),c.a.createElement(Ot.a,{className:"px-3 py-4"},t.completed?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"text-center h6 mb-4"},c.a.createElement("span",{className:"fa fa-fw fa-lg fa-check-circle ml-2 text-success"}),t.success.length===t.count?c.a.createElement(b.k,null,"All of the selected items were updated successfully."):c.a.createElement(b.k,{render:function(e){return e("%d of the selected item".concat(1!==t.success.length?"s":""," updated successfully.")).replace("%d",t.success.length)}})),t.error.length>0&&c.a.createElement("div",{className:"alert alert-danger alert-bar mb-4"},c.a.createElement("div",{className:"text-center h6 mb-4"},c.a.createElement("span",{className:"fa fa-fw fa-lg fa-exclamation-triangle ml-2 text-danger"}),c.a.createElement(b.k,{render:function(e){return e("%d of the selected item".concat(t.error.length>1?"s":""," failed to update.")).replace("%d",t.error.length)}})),c.a.createElement("table",{className:"table table-sm table-striped"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,c.a.createElement(b.k,null,"Handle")),c.a.createElement("th",null,c.a.createElement(b.k,null,"Form")),c.a.createElement("th",null,c.a.createElement(b.k,null,"Error")))),c.a.createElement("tbody",null,t.error.map((function(e){var a=t.items.find((function(t){return t.id===e.submissionId}));return c.a.createElement("tr",{key:e.correlationId},c.a.createElement("td",null,c.a.createElement(b.k,null,a&&a.handle)),c.a.createElement("td",null,c.a.createElement(b.k,null,a&&a.form.name)),c.a.createElement("td",null,c.a.createElement(b.k,null,e.message)))}))))),t.error.length>0||t.success.some((function(e){return"Draft"===e.coreState}))?c.a.createElement("div",{className:"form"},c.a.createElement("div",{className:"form-group radio"},c.a.createElement("label",{className:"field-label"},c.a.createElement(b.k,null,"Update Selected Items When Done")),c.a.createElement("label",{htmlFor:"keep-selection-radio-1"},c.a.createElement("input",{type:"radio",name:"keep-selection-radio-group",id:"keep-selection-radio-1",value:"none",checked:"none"===r,onChange:l}),c.a.createElement(b.k,null,"Deselect All Items")),c.a.createElement("label",{htmlFor:"keep-selection-radio-2"},c.a.createElement("input",{type:"radio",name:"keep-selection-radio-group",id:"keep-selection-radio-2",value:"all",checked:"all"===r,onChange:l}),c.a.createElement(b.k,null,"Keep All Selected")),t.success.length!==t.count&&t.success.some((function(e){return"Draft"===e.coreState}))&&c.a.createElement("label",{htmlFor:"keep-selection-radio-3"},c.a.createElement("input",{type:"radio",name:"keep-selection-radio-group",id:"keep-selection-radio-3",value:"success",checked:"success"===r,onChange:l}),c.a.createElement(b.k,null,"Select Only Successful Items")),t.error.length>0&&c.a.createElement("label",{htmlFor:"keep-selection-radio-4"},c.a.createElement("input",{type:"radio",name:"keep-selection-radio-group",id:"keep-selection-radio-4",value:"error",checked:"error"===r,onChange:l}),c.a.createElement(b.k,null,"Select Only Failed Items")),t.success.some((function(e){return"Draft"!==e.coreState}))&&c.a.createElement("small",{className:"text-muted"},c.a.createElement(b.k,null,"Items that are now closed will be automatically deselected.")))):c.a.createElement("small",{className:"text-muted"},c.a.createElement(b.k,null,"All items will be deselected because they are now all closed."))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"text-center h6"},c.a.createElement(b.k,null,"In Progress...")),c.a.createElement(Jc.a,{multi:!0},c.a.createElement(Jc.a,{animated:!0,bar:!0,value:t.success.length,max:t.count}),c.a.createElement(Jc.a,{animated:!0,bar:!0,color:"danger",value:t.error.length,max:t.count})))),c.a.createElement(kt.a,null,c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:a,disabled:!t.completed},c.a.createElement(b.k,null,"Done")))):null})),Zc={toggleSelectionMode:mr.toggleSelectionMode,toggleSelectedItem:mr.toggleSelectedItem,bulkAssign:mr.bulkAssignRequest,bulkWork:mr.bulkWorkRequest},$c=Object(Et.a)(zs((function(e,t){return{profile:e.app.profile,selectedList:e.queue.selectedList,forms:e.queueApp.forms,teams:e.queueApp.allTeams,isMobile:"small"===e.app.layoutSize}}),Zc),Object(Et.e)((function(e){var t={assignUnavailable:!1,assignTooltip:null,workHidden:!0,workUnavailable:!1,workTooltip:null,assignments:[]};if(e.selectedList.size>0){var a=e.selectedList.reduce((function(e,t){var a="".concat(t.form.slug,"_").concat(t.values["Assigned Team"]);return e.has(a)?e:e.set(a,t)}),Object(g.b)()).map((function(t){return nr(e.teams,t.form,t)})).toList();e.teams.some((function(e){return a.every((function(t){return t.find((function(t){return t.name===e.name}))}))}))?a.map((function(e){return e.map((function(e){return e.name})).sort().join("_")})).some((function(e,t,a){return e!==a.get(0)}))&&(t.assignTooltip="The available assignments for the selected items will be limited due to assignment restrictions of some of the selected items."):(t.assignUnavailable=!0,t.assignTooltip="There are no valid teams that all the selected items can be assigned to."),t.assignments=rr(e.teams.filter((function(e){return a.every((function(t){return t.find((function(t){return t.name===e.name}))}))}))).toJS()}if(e.selectedList.size>0){var n=1===Object(g.i)(e.selectedList.map((function(e){return e.form.slug})).toList()).size&&e.selectedList.first().form;e.selectedList.find((function(e){return e.form&&e.form.fields&&e.form.fields.some((function(e){return"Bulk Action"===e.name}))}))&&(t.workHidden=!1,n?e.selectedList.some((function(t){return t.values["Assigned Individual"]!==e.profile.username}))&&(t.workUnavailable=!0,t.workTooltip="The selected items must all be assigned to you."):(t.workUnavailable=!0,t.workTooltip="All selected items must be from the same form, and the form must support bulk work actions."))}return t})),Object(Et.g)("action","setAction",null),Object(Et.d)({toggleAssign:function(e){return function(){e.selectedList.size>0&&(e.assignUnavailable?e.assignTooltip&&e.isMobile&&Object(h.mb)({severity:"danger",message:e.assignTooltip}):e.setAction("assign"===e.action?null:"assign"))}},toggleWork:function(e){return function(){e.selectedList.size>0&&(e.workUnavailable?e.workTooltip&&e.isMobile&&Object(h.mb)({severity:"danger",message:e.workTooltip}):e.setAction("work"===e.action?null:"work"))}}}),Object(Et.d)({handleAssignSubmit:function(e){return function(t){e.toggleAssign(),e.bulkAssign({assignment:t})}},handleWorkSubmit:function(e){return function(t){e.toggleWork(),e.bulkWork({values:t})}}}))((function(e){var t=e.selectedList,a=e.toggleSelectionMode,n=(e.toggleSelectedItem,e.assignUnavailable),r=e.assignTooltip,l=e.workHidden,s=e.workUnavailable,i=e.workTooltip,o=e.action,u=e.toggleAssign,m=e.handleAssignSubmit,p=e.toggleWork,d=e.handleWorkSubmit,f=e.assignments,E=e.isMobile,g=e.refresh;return c.a.createElement("div",{className:"queue-controls"},c.a.createElement("div",{className:"queue-controls__selection"},c.a.createElement("div",{className:"details"},c.a.createElement("div",null,t.size," ",c.a.createElement(b.k,null,"Item".concat(1!==t.size?"s":""," Selected")))),c.a.createElement("div",{className:"buttons d-flex"},c.a.createElement("button",{id:"bulk-assign-btn",type:"button",className:Ut()("btn btn-icon",{"text-danger unavailable":n}),onClick:u,"aria-label":"Assign Selected Items",disabled:0===t.size},c.a.createElement("span",{className:"icon"},c.a.createElement("span",{className:"fa fa-fw fa-share-square-o"})),!E&&c.a.createElement("span",null,c.a.createElement(b.k,null,"Assign"))),r&&!E&&c.a.createElement(gc.a,{placement:"top",target:"bulk-assign-btn",delay:0,trigger:"hover focus"},c.a.createElement(b.k,null,r)),!l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{id:"bulk-work-btn",type:"button",className:Ut()("btn btn-icon",{"text-danger unavailable":s}),onClick:p,"aria-label":"Work Selected Items",disabled:0===t.size},c.a.createElement("span",{className:"icon"},c.a.createElement("span",{className:"fa fa-fw fa-pencil-square-o"})),!E&&c.a.createElement("span",null,c.a.createElement(b.k,null,"Work"))),i&&!E&&c.a.createElement(gc.a,{placement:"top",target:"bulk-work-btn",delay:0,trigger:"hover focus"},c.a.createElement(b.k,null,i))),c.a.createElement("div",{className:"ml-1 mr-2 border-right","aria-hidden":"true"}),c.a.createElement("button",{type:"button",className:"btn btn-icon",onClick:a,"aria-label":"Cancel Selection Mode"},c.a.createElement("span",{className:"icon"},c.a.createElement("span",{className:"fa fa-fw fa-times"}))))),"assign"===o&&c.a.createElement(Wc,{toggle:u,handleSubmit:m,message:r,assignments:f}),"work"===o&&c.a.createElement(Vc,{toggle:p,handleSubmit:d,message:i}),c.a.createElement(Yc,{refresh:g}))})),ei=function(e){return"adhoc"===e.filter.type?c.a.createElement(h.y,{title:"No Results",message:"Try a less specific filter."}):c.a.createElement(h.y,{title:"No Assignments",message:"An empty queue is a happy queue."})},ti=function(e){var t=e.message;return c.a.createElement(h.y,{title:"Error",message:t||"There was a problem retrieving items."})},ai=function(e){var t=e.message;return c.a.createElement(h.y,{title:"Invalid List",message:t||"Invalid list, please choose a valid list from the left side."})},ni={fetchList:mr.fetchListRequest,resetList:mr.fetchListReset,toggleSelectedItem:mr.toggleSelectedItem},ri=Object(Et.a)(zs((function(e,t){return{filter:tr(e,t.location.pathname),loading:e.queue.loading,paging:e.queue.paging,data:e.queue.data,error:e.queue.error,hasPreviousPage:e.queue.hasPreviousPage,isMobile:"small"===e.app.layoutSize,isDesktop:"xlarge"===e.app.layoutSize,hasTeams:e.queueApp.myTeams.size>0,hasForms:ar(e).filter((function(e){return"Task"===e.type})).length>0,selectionMode:null!==e.queue.selectedList,selectedList:e.queue.selectedList}}),ni),Object(Et.e)((function(e){var t=e.filter;return{filterValidations:t?[Nc].map((function(e){return e(t)})).filter((function(e){return e})):[]}})),Object(Et.d)({handleRefresh:function(e){return function(){return e.resetList(e.filter)}}}),Object(Et.d)((function(){var e=null;return{setQueueListRef:function(){return function(t){return e=t}},scrollToTop:function(){return function(){e.scrollTop=0}}}})),Object(Et.b)({componentDidMount:function(){this.loadFilter(this.props.filter,this.props.filterValidations)},componentDidUpdate:function(e){Object(g.n)(this.props.filter,e.filter)||this.loadFilter(this.props.filter,this.props.filterValidations),!this.props.paging&&e.paging&&this.props.scrollToTop()},loadFilter:function(e,t){t.length<=0&&this.props.fetchList(e)}}))((function(e){var t=e.filter,a=e.loading,n=e.data,r=e.error,l=e.hasPreviousPage,s=e.handleRefresh,i=e.isMobile,o=e.isDesktop,u=e.filterValidations,m=e.setQueueListRef,p=e.selectionMode,d=e.selectedList,f=e.toggleSelectedItem,E=!r&&!a&&n&&(n.size>0||l);return c.a.createElement("div",{className:"page-container page-container--panels"},(o||!t)&&c.a.createElement("div",{className:"page-panel page-panel--no-padding page-panel--exact border-right"},c.a.createElement(Ic,{showCreateNew:!!t})),t?c.a.createElement("div",{className:"page-panel page-panel--no-padding page-panel--flex"},c.a.createElement(Qs,{parts:[t.name||"Adhoc"]}),c.a.createElement("div",{className:"page-panel__header"},i?c.a.createElement(qc,{filter:t,refresh:s}):c.a.createElement(Dc,{filter:t,refresh:s,showFilterMenu:!o})),c.a.createElement("div",{className:"page-panel__body",ref:m},u.length<=0?c.a.createElement("div",{className:"queue-list-content submissions"},r?c.a.createElement(ti,{message:r.message}):a?c.a.createElement(h.H,null):n&&n.size>0?c.a.createElement("ul",{className:"list-group"},n.map((function(e){return c.a.createElement(tc,{queueItem:e,key:e.id,filter:t,selectionMode:p,selected:p&&d.has(e.id),selectionDisabled:"Draft"!==e.coreState,toggleSelection:f})}))):c.a.createElement(ei,{filter:t})):c.a.createElement(ai,{message:u.map((function(e,t){return c.a.createElement("p",{key:t},e)}))})),p&&c.a.createElement("div",{className:"page-panel__footer"},c.a.createElement($c,{refresh:s})),E&&c.a.createElement("div",{className:"page-panel__footer"},c.a.createElement(Gc,{filter:t}))):c.a.createElement("div",{className:"page-panel"},c.a.createElement(Qs,{parts:["Invalid List"]}),c.a.createElement(ai,null)))})),li=function(e){var t=e.myTeamForms,a=e.handleFormClick,n=e.permittedSubtasks;return c.a.createElement("ul",{className:"list-group button-list"},t.filter((function(e){return!n||n.includes(e.slug)})).map((function(e){return c.a.createElement("li",{key:e.slug,className:"list-group-item"},c.a.createElement("button",{type:"button",className:"btn btn-link",onClick:a(e)},c.a.createElement("span",{className:"button-title"},c.a.createElement(b.k,{context:"kapps.".concat(e.kapp.slug,".forms.").concat(e.slug)},e.name)),c.a.createElement("span",{className:"icon"},c.a.createElement("span",{className:"fa fa-angle-right"}))))})))},si=function(e){var t=e.assignments,a=e.handleSelect;return c.a.createElement(ic,{assignments:t,onSelect:a})},ci=function(e){var t=e.handleFormClick;return c.a.createElement("button",{type:"button",className:"btn btn-link btn-back",onClick:t(null)},c.a.createElement("span",{className:"icon"},c.a.createElement("span",{className:"fa fa-fw fa-chevron-left"})),c.a.createElement(b.k,null,"Forms"))},ii=function(e){var t=e.handleAssignmentClick,a=e.currentAssignment;return c.a.createElement("button",{type:"button",className:"btn btn-link btn-back d-flex",onClick:t(null)},c.a.createElement("span",{className:"icon"},c.a.createElement("span",{className:"fa fa-fw fa-chevron-left"})),c.a.createElement(b.k,null,"Assignment"),c.a.createElement("div",{className:"assignment-badge"},c.a.createElement("span",{className:"badge","aria-hidden":"true"},a["Assigned Individual Display Name"]&&a["Assigned Individual Display Name"].charAt(0)||a["Assigned Team Display Name"]&&a["Assigned Team Display Name"].charAt(0)),c.a.createElement("div",null,c.a.createElement("div",{className:"assignment-badge__team"},c.a.createElement(b.k,null,a["Assigned Team Display Name"])),c.a.createElement("div",{className:"assignment-badge__individual text-truncate"},a["Assigned Individual Display Name"]||a["Assigned Individual"]))))},oi={closeNewItemMenu:mr.closeNewItemMenu,fetchCurrentItem:mr.fetchCurrentItem,push:jn.c},ui=Object(Et.a)(zs((function(e){var t=tr(e,e.router.location.pathname);return{myTeamForms:e.queue.newItemMenuOptions.get("parentId")?ar(e).filter((function(e){return"Task"===e.type||"Subtask"===e.type})):ar(e).filter((function(e){return"Task"===e.type})),isOpen:e.queue.newItemMenuOpen,options:e.queue.newItemMenuOptions,allTeams:e.queueApp.allTeams,kappSlug:e.app.kappSlug,username:e.app.profile&&e.app.profile.username,location:e.app.location,filter:t}}),oi),Object(Et.g)("currentAssignment","setAssignment",null),Object(Et.g)("currentForm","setCurrentForm",null),Object(Et.g)("kForm","setKForm",null),Object(Et.e)((function(e){var t=e.currentForm&&e.currentForm.attributes["Assignment Type"]&&e.currentForm.attributes["Assignment Type"][0];return{assignmentRequired:!t||"none"!==t.toLowerCase(),assignments:lr(e.allTeams,e.currentForm).toJS()}})),Object(Et.d)({handleFormClick:function(e){var t=e.setCurrentForm;return function(e){return function(){return t(e)}}},handleAssignmentClick:function(e){var t=e.setAssignment;return function(e){return function(){return t(e)}}},handleSave:function(e){var t=e.kForm;e.setCurrentForm,e.setKForm,e.setAssignment;return function(){t.submitPage()}},handleClosed:function(e){e.setCurrentForm,e.setKForm,e.setAssignment;var t=e.closeNewItemMenu;return function(){t()}},handleSelect:function(e){var t=e.setAssignment;return function(e,a){var n=a.team.split("::"),r={"Assigned Individual Display Name":a.displayName,"Assigned Team":a.team,"Assigned Team Display Name":n[n.length-1]};a.username&&(r["Assigned Individual"]=a.username),t(r)}},onFormLoaded:function(e){var t=e.setKForm;return function(e){return t(e)}},onCreated:function(e){var t=e.options,a=e.fetchCurrentItem,n=e.closeNewItemMenu,r=e.username,l=e.location,s=e.push;return function(e,c){c.stop(),n(),r&&e.submission.values&&e.submission.values["Assigned Individual"]===r?s("".concat(l,"/item/").concat(e.submission.id)):t.get("parentId")&&a(t.get("parentId"))}}}),Object(Et.b)({componentDidUpdate:function(e){!this.props.isOpen&&e.isOpen&&(this.props.setAssignment(null),this.props.setCurrentForm(null),this.props.setKForm(null))}}))((function(e){var t=e.kappSlug,a=e.isOpen,n=e.options,r=(e.closeNewItemMenu,e.assignments),l=e.myTeamForms,s=e.currentAssignment,i=e.currentForm,o=e.assignmentRequired,u=e.kForm,m=e.onFormLoaded,p=e.onCreated,d=e.handleFormClick,f=e.handleAssignmentClick,E=e.handleSave,g=e.handleClosed,h=e.handleSelect;return c.a.createElement(vt.a,{isOpen:a,toggle:g,onExit:g,size:"lg"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("div",{className:"modal-title"},c.a.createElement("button",{type:"button",className:"btn btn-link",onClick:g},c.a.createElement(b.k,null,"Close")),c.a.createElement("span",null,c.a.createElement(b.k,null,"New")," ",i?c.a.createElement(b.k,{context:"kapps.".concat(t,".forms.").concat(i.slug)},i.name):c.a.createElement(b.k,null,"Task"))),null!==i&&null===s&&c.a.createElement(ci,{handleFormClick:d}),null!==i&&null!==s&&c.a.createElement(ii,{handleAssignmentClick:f,currentAssignment:s})),c.a.createElement(Ot.a,null,null===i?c.a.createElement(li,{myTeamForms:l,handleFormClick:d,permittedSubtasks:n.get("permittedSubtasks")}):o&&null===s?c.a.createElement(si,{assignments:r,handleSelect:h}):c.a.createElement(b.k,{context:"kapps.".concat(t,".forms.").concat(i.slug)},c.a.createElement(b.d,{kapp:t,form:i.slug,values:s,onLoaded:m,onCreated:p,originId:n.get("originId"),parentId:n.get("parentId")}))),null!==i&&null!==u&&c.a.createElement(kt.a,null,c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:E},c.a.createElement(b.k,null,"Save")," ",c.a.createElement(b.k,{context:"kapps.".concat(t,".forms.").concat(i.slug)},i.name))))})),mi={closeWorkMenu:wr.closeWorkMenu},pi=Object(Et.a)(zs((function(e){return{queueItem:e.workMenu.queueItem,onWorked:e.workMenu.onWorked}}),mi),Object(Et.g)("complete","setComplete",!1),Object(Et.e)((function(e){var t=e.queueItem;return{mode:t&&"Draft"===t.coreState?"Work":"Review"}})),Object(Et.d)((function(){var e=null;return{handleLoaded:function(){return function(t){e=t}},handleUpdated:function(t){return function(a,n){"Submitted"!==a.submission.coreState&&a.submission.currentPage===e.page().name()&&(n.stop(),t.closeWorkMenu()),"function"===typeof t.onWorked&&t.onWorked(a.submission)}},handleCompleted:function(e){return function(t,a){null===t.submission.currentPage||t.submission.displayedPage&&"confirmation"!==t.submission.displayedPage.type?(a.stop(),e.closeWorkMenu()):e.setComplete(!0)}},handleSaveClick:function(){return function(){e.submitPage()}},handleCloseClick:function(e){return function(){e.closeWorkMenu(),e.setComplete(!1)}}}})))((function(e){var t=e.queueItem,a=e.complete,n=e.mode,r=e.handleCloseClick,l=e.handleLoaded,s=e.handleUpdated,i=e.handleCompleted,o=e.handleSaveClick;return t&&c.a.createElement(vt.a,{isOpen:!0,toggle:r,size:"lg",backdrop:"static",className:"work-menu"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("div",{className:"modal-title"},c.a.createElement("button",{type:"button",className:"btn btn-link",onClick:r},c.a.createElement(b.k,null,"Close")),c.a.createElement("span",null,c.a.createElement(b.k,null,"".concat(n," It"))))),c.a.createElement(Ot.a,null,c.a.createElement(b.k,{context:"kapps.".concat(t.form.kapp.slug,".forms.").concat(t.form.slug)},c.a.createElement(b.d,{submission:t.id,review:"Draft"!==t.coreState,onLoaded:l,onUpdated:s,onCompleted:i}))),"Work"===n&&!a&&c.a.createElement(kt.a,null,c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:o},c.a.createElement(b.k,null,"Save")," ",c.a.createElement(b.k,{context:"kapps.".concat(t.form.kapp.slug,".forms.").concat(t.form.slug)},t.form.name))))})),di=["name","icon","notificationComplete","notificationCreate","attributesMap"],fi=function(e){var t=e.fields,a=e.error,n=e.buttons;return c.a.createElement(s.Fragment,null,c.a.createElement("h2",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Display Options"))),t.get("name"),t.get("icon"),c.a.createElement("br",null),c.a.createElement("h2",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Form Mapping"))),t.get("notificationComplete"),t.get("notificationCreate"),a,n)},Ei=function(e){return e?[e]:[]},bi=new b.s(!0).index("values[Name]").includes(["values"]).limit(1e3).build(),gi=Object(Et.a)(zs((function(e){return{currentKapp:e.app.kapp,reloadApp:e.app.actions.refreshApp}})),Object(Et.d)({onSave:function(e){return function(){return function(){Object(h.mb)("".concat(e.currentKapp.name," settings saved successfully.")),e.reloadApp()}}}}))((function(e){var t=e.currentKapp,a=e.onSave;return c.a.createElement(b.m,{kappSlug:t.slug,fieldSet:di,onSave:a,components:{FormLayout:fi},addDataSources:{notifications:{fn:b.Ab,params:[{datastore:!0,form:"notification-data",search:bi}],transform:function(e){return e.submissions}}},addFields:function(){return function(e){var t=e.kapp,a=e.notifications;return t&&a&&[{name:"icon",label:"Display Icon",type:"text",helpText:"Font Awesome icon to display in Kapp links.",initialValue:t.getIn(["attributesMap","Icon",0]),component:h.D.IconField},{name:"notificationComplete",label:"Default Request Submitted Notification Template",type:"select",renderAttributes:{typeahead:!0},helpText:"Name of the Notification Template to use when this kapp's submissions are completed.",initialValue:t.getIn(["attributesMap","Notification Template Name - Complete",0]),options:a?a.map((function(e){return{label:e.getIn(["values","Name"]),value:e.getIn(["values","Name"]),slug:e.get("id")}})).toJS():[],component:h.D.NotificationField},{name:"notificationCreate",label:"Default Request Created Notification Template",type:"select",renderAttributes:{typeahead:!0},helpText:"Name of the Notification Template to use when this kapp's submissions are submitted.",initialValue:t.getIn(["attributesMap","Notification Template Name - Create",0]),options:a?a.map((function(e){return{label:e.getIn(["values","Name"]),value:e.getIn(["values","Name"]),slug:e.get("id")}})).toJS():[],component:h.D.NotificationField}]}},alterFields:{name:{helpText:"The name of the Kapp referenced throughout the Kapp."},attributesMap:{serialize:function(e){var t=e.values;return{Icon:Ei(t.get("icon")),"Notification Template Name - Complete":Ei(t.getIn(["notificationComplete"])),"Notification Template Name - Create":Ei(t.getIn(["notificationCreate"]))}}}}},(function(e){var a=e.form,n=e.initialized;return c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-panel "},c.a.createElement(Qs,{parts:["General"],settings:!0,breadcrumbs:[{label:"Home",to:"/"},{label:"".concat(t.name," Settings"),to:".."}],title:"General Settings"}),n&&c.a.createElement("section",{className:"form form-unstyled mb-5"},a)))}))})),hi=function(e){var t=e.deleteForm,a=e.toggleModal,n=e.processing;return function(e){e.tableOptions.kappSlug;var r=e.row,l=e.tableKey;return c.a.createElement("td",{className:"text-right",style:{width:"1%"}},n.has(r.get("slug"))?c.a.createElement("button",{type:"button",className:"btn btn-sm btn-link",disabled:"disabled"},c.a.createElement("span",{className:"fa fa-spinner fa-spin fa-fw",role:"presentation"})):c.a.createElement(Oa.a,{className:"more-actions"},c.a.createElement(qt.a,{tag:"button",className:"btn btn-sm btn-link"},c.a.createElement("span",{className:"sr-only"},"More Actions"),c.a.createElement("span",{className:"fa fa-chevron-down fa-fw",role:"presentation"})),c.a.createElement(Ht.a,{right:!0,positionFixed:!0},c.a.createElement(Fn.a,{to:"".concat(r.get("slug"),"/settings"),className:"dropdown-item"},"Settings"),c.a.createElement(ka.a,{onClick:function(){return a(r.get("slug"))}},"Clone"),c.a.createElement(ka.a,{onClick:function(){return t(r.get("slug"),(function(){return Object(b.wb)(l)}))}},"Delete"))))}},Si=function(e){var t=e.row,a=e.value;return c.a.createElement("td",null,c.a.createElement(Fn.a,{to:t.get("slug")},a),c.a.createElement("br",null),c.a.createElement("small",null,t.get("slug")))},vi=function(e){var t=e.fields,a=e.error,n=e.buttons,r=e.bindings.cloneForm;return c.a.createElement(s.Fragment,null,c.a.createElement(Ot.a,{className:"form"},r&&c.a.createElement("div",{className:"alert alert-info text-center"},c.a.createElement("div",{className:"alert-heading"},c.a.createElement(b.k,null,"Cloning Form")," ",c.a.createElement("strong",null,c.a.createElement(b.k,null,r.get("name")))),c.a.createElement("hr",{className:"my-2"}),c.a.createElement("small",null,c.a.createElement(b.k,{render:function(e){return e("The attributes, categories, security policies, and all form content will be copied from the %s form into this new form.").replace("%s",e(r.get("name")))}}))),c.a.createElement("div",{className:"form-group__columns"},t.get("name"),t.get("slug")),c.a.createElement("div",{className:"form-group__columns"},t.get("status"),t.get("type")),t.get("submissionLabelExpression"),t.get("description"),a),c.a.createElement(kt.a,null,n))},Oi=function(e){return c.a.createElement("button",{className:"btn btn-success",type:"submit",disabled:!e.dirty||e.submitting,onClick:e.submit},e.submitting&&c.a.createElement("span",{className:"fa fa-circle-o-notch fa-spin fa-fw",role:"presentation"})," ",c.a.createElement(b.k,null,"Create Form"))},ki=function(){return c.a.createElement(s.Fragment,null,c.a.createElement(Ot.a,{className:"form"},c.a.createElement(h.H,null)),c.a.createElement(kt.a,null,c.a.createElement("button",{className:"btn btn-success",type:"button",disabled:!0},c.a.createElement(b.k,null,"Create Form"))))},Ti=function(){return c.a.createElement(s.Fragment,null,c.a.createElement(Ot.a,{className:"form"},c.a.createElement(h.z,{message:"Failed to load form to clone."})),c.a.createElement(kt.a,null,c.a.createElement("button",{className:"btn btn-success",type:"button",disabled:!0},c.a.createElement(b.k,null,"Create Form"))))},yi={deleteFormRequest:Jr.deleteFormRequest,cloneFormRequest:Jr.cloneFormRequest,fetchQueueSettings:Mr.fetchQueueSettings},Ni=Object(Et.a)(zs((function(e){return{kapp:e.app.kapp,processing:e.settingsForms.processing,queueSettings:e.queueSettings,loading:e.queueSettings.loading}}),yi),Object(Et.g)("modalOpen","setModalOpen",!1),Object(Et.g)("filterOpen","setFilterOpen",!1),Object(Et.d)({toggleModal:function(e){return function(t){return t&&t!==e.modalOpen?e.setModalOpen(t):e.setModalOpen(!1)}},deleteForm:function(e){return function(t,a){return Object(h.xb)({title:"Delete Form",body:"Are you sure you want to delete this form?",confirmationText:t,confirmationTextLabel:"form slug",actionName:"Delete",ok:function(){return e.deleteFormRequest({kappSlug:e.kapp.slug,formSlug:t,onSuccess:a})}})}}}),Object(Et.b)({componentDidMount:function(){this.props.fetchQueueSettings(),Object(b.vb)("queue-settings-form-list")},componentWillUnmount:function(){Object(b.Gb)("queue-settings-form-list")}}))((function(e){var t=e.kapp,a=e.processing,n=e.modalOpen,r=e.toggleModal,l=e.filterOpen,s=e.setFilterOpen,i=e.deleteForm,o=e.cloneFormRequest,u=e.navigate,m=e.queueSettings,p=e.loading,d=h.X.generateEmptyBodyRow({loadingMessage:"Loading Forms...",noSearchResultsMessage:"No forms were found - please modify your search criteria",noItemsMessage:"There are no forms to display.",noItemsLinkTo:"/kapps/".concat(t.slug,"/settings/forms/new"),noItemsLinkToMessage:"Add New Form"}),f=h.X.generateFilterFormLayout({isOpen:l,toggle:function(){return s((function(e){return!e}))}});return!p&&c.a.createElement(b.j,{tableKey:"queue-settings-form-list",kappSlug:t.slug,components:{EmptyBodyRow:d,FilterFormLayout:f,FilterFormButtons:h.X.FilterFormButtons},columnSet:["name","description","type","updatedAt","createdAt","status","actions"],defaultSortColumn:"name",defaultSortDirection:"asc",addColumns:[{value:"description",title:"Description",sortable:!1},{value:"actions",title:" ",sortable:!1,components:{BodyCell:hi({deleteForm:i,toggleModal:r,processing:a})},className:"text-right"}],alterColumns:{updatedAt:{components:{BodyCell:h.X.TimeAgoCell}},createdAt:{components:{BodyCell:h.X.TimeAgoCell}},name:{components:{BodyCell:Si}},status:{components:{BodyCell:h.X.StatusBadgeCell}}},filterSet:["name","type","status"],alterFilters:{type:{options:m.queueSettingsKapp.formTypes.map((function(e){var t=e.name;return{value:t,label:t}}))}},onSearch:function(){return function(){return s(!1)}}},(function(e){var a=e.pagination,l=e.table,s=e.filter,i=e.appliedFilters,m=e.filterFormKey;return c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-panel"},c.a.createElement(Qs,{parts:["Forms"],settings:!0,breadcrumbs:[{label:"Home",to:"/"},{label:"".concat(t.name," Settings"),to:".."}],title:"Forms",actions:[{label:"New Form",icon:"plus",onClick:function(){return r(!0)}}]}),c.a.createElement("div",null,c.a.createElement("div",{className:"text-right mb-2"},s),c.a.createElement(h.X.FilterPills,{filterFormKey:m,appliedFilters:i}),c.a.createElement("div",{className:"scroll-wrapper-h"},l),a)),c.a.createElement(vt.a,{isOpen:!!n,toggle:function(){return r()},size:"lg"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h4",{className:"modal-title"},c.a.createElement("button",{type:"button",className:"btn btn-link btn-delete",onClick:function(){return r()}},c.a.createElement(b.k,null,"Close")),c.a.createElement("span",null,c.a.createElement(b.k,null,"New Form")))),c.a.createElement(b.h,{kappSlug:t.slug,fieldSet:["name","slug","status","type","submissionLabelExpression","description"],onSave:function(){return function(e){"string"===typeof n?o({kappSlug:t.slug,formSlug:e.slug,cloneFormSlug:n,callback:function(){return u("".concat(e.slug,"/settings"))}}):(Object(h.mb)("".concat(e.name," created successfully.")),u("".concat(e.slug,"/settings")))}},components:{FormLayout:vi,FormButtons:Oi},alterFields:{description:{component:h.D.TextAreaField}},addDataSources:"string"===typeof n?{cloneForm:{fn:b.Z,params:[{kappSlug:t.slug,formSlug:n}],transform:function(e){return e.form||e}}}:void 0},(function(e){var t=e.form,a=e.initialized,r=e.bindings.cloneForm,l="string"===typeof n,s=r&&r.get("error");return!a||l&&!r?c.a.createElement(ki,null):s?c.a.createElement(Ti,null):t}))))}))})),Ci=a(121),Fi=function(e){return c.a.createElement("table",{className:"table table-hover table--settings table-draggable"},c.a.createElement("thead",null,c.a.createElement("tr",{className:"header"},c.a.createElement("th",{scope:"col"},c.a.createElement(b.k,null,"Field")),c.a.createElement("th",{scope:"col"},c.a.createElement(b.k,null,"Visible in Table")))),e.value&&c.a.createElement(Ci.a,{onDragEnd:function(t){var a=t.source,n=t.destination;return n&&a.index!==n.index&&e.onChange(e.value.update((function(e){var t=e.get(a.index);return e.delete(a.index).insert(n.index,t)})))}},c.a.createElement(Ci.c,{droppableId:"columns"},(function(t){return c.a.createElement("tbody",{ref:t.innerRef},e.value.map((function(t,a){return c.a.createElement(Ci.b,{key:t.name,draggableId:t.name,index:a},(function(n,r){return c.a.createElement("tr",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{className:"".concat(r.isDragging?"dragging":"")}),c.a.createElement("td",null,"value"===t.type?c.a.createElement(b.k,null,t.label):c.a.createElement("i",null,c.a.createElement(b.k,null,t.label)," ",c.a.createElement("small",null,c.a.createElement(b.k,null,"(system field)")))),c.a.createElement("td",null,c.a.createElement("input",{onChange:function(t){return e.onChange(e.value.setIn([a,"visible"],t.target.checked))},type:"checkbox",checked:t.visible})))}))})))}))),e.helpText&&c.a.createElement("tfoot",null,c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"2"},c.a.createElement("small",null,e.helpText)))))},ji=["name","slug","status","type","submissionLabelExpression","description","attributesMap","submissionTableFields","prohibitSubtasks","permittedSubtasks","owningTeam","allowReassignment","assignableTeams","notificationComplete","notificationCreate"],_i=function(e){var t=e.fields,a=e.error,n=e.buttons;return c.a.createElement(s.Fragment,null,c.a.createElement("h2",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"General"))),c.a.createElement("div",{className:"form-group__columns"},t.get("name"),t.get("slug")),c.a.createElement("div",{className:"form-group__columns"},t.get("status"),t.get("type")),t.get("submissionLabelExpression"),t.get("description"),c.a.createElement("br",null),c.a.createElement("h2",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Attributes"))),t.get("prohibitSubtasks"),t.get("permittedSubtasks"),t.get("owningTeam"),t.get("allowReassignment"),t.get("assignableTeams"),t.get("notificationCreate"),t.get("notificationComplete"),c.a.createElement("br",null),c.a.createElement("h2",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Submission Table - Default Columns"))),t.get("submissionTableFields"),a,n)},Ai=function(e){return e?[e]:[]},Ri=new b.s(!0).index("values[Name]").includes(["values"]).limit(1e3).build(),xi={fetchFormRequest:Jr.fetchForm},wi=Object(Et.a)(zs((function(e){return{kapp:e.app.kapp}}),xi),Object(Et.d)({onSave:function(e){return function(){return function(){e.fetchFormRequest({kappSlug:e.kapp.slug,formSlug:e.form.slug}),Object(h.mb)("".concat(e.form.name," settings saved successfully."))}}}}))((function(e){var t=e.form,a=e.kapp,n=e.onSave;return c.a.createElement(b.h,{kappSlug:a.slug,formSlug:t.slug,fieldSet:ji,onSave:n,components:{FormLayout:_i},addDataSources:{notifications:{fn:b.Ab,params:[{datastore:!0,form:"notification-data",search:Ri}],transform:function(e){return e.submissions}}},addFields:function(){return function(e){var t=e.form,a=e.notifications;return t&&a&&[{name:"prohibitSubtasks",label:"Prohibit Subtasks",type:"select",helpText:"Can users create subtasks for this form's submissions.",initialValue:t.getIn(["attributesMap","Prohibit Subtasks",0]),options:["Yes","No"].map((function(e){return{label:e,value:e}}))},{name:"permittedSubtasks",label:"Permitted Subtasks",type:"text-multi",helpText:"Defines which forms may be submitted as subtasks to this form's submissions.",initialValue:t.getIn(["attributesMap","Permitted Subtasks",0])?t.getIn(["attributesMap","Permitted Subtasks",0]).split(","):[]},{name:"owningTeam",label:"Owning Team",type:"team-multi",helpText:"Teams responsible for maintaining this form.",initialValue:t.getIn(["attributesMap","Owning Team"],Object(g.a)()).map((function(e){return{name:e}})).toJS()},{name:"allowReassignment",label:"Allow Reassignment",type:"select",helpText:"Can submissions of this form be reassigned to other teams.",initialValue:t.getIn(["attributesMap","Allow Reassignment",0]),options:["Yes","No"].map((function(e){return{label:e,value:e}}))},{name:"assignableTeams",label:"Assignable Teams",type:"team-multi",helpText:"Teams to which submissions of this form can be reassigned to.",initialValue:t.getIn(["attributesMap","Assignable Teams"],Object(g.a)()).map((function(e){return{name:e}})).toJS()},{name:"notificationCreate",label:"Notification Template Name - Create",type:"select",renderAttributes:{typeahead:!0},helpText:"Name of the Notification Template to use when this form's submission is submitted. Defaults to value at Kapp level.",initialValue:t.getIn(["attributesMap","Notification Template Name - Create",0]),options:a?a.map((function(e){return{label:e.getIn(["values","Name"]),value:e.getIn(["values","Name"]),slug:e.get("id")}})).toJS():[],component:h.D.NotificationField},{name:"notificationComplete",label:"Notification Template Name - Complete",type:"select",renderAttributes:{typeahead:!0},helpText:"Name of the Notification Template to use when this form's submission is completed. Defaults to value at Kapp level.",initialValue:t.getIn(["attributesMap","Notification Template Name - Complete",0]),options:a?a.map((function(e){return{label:e.getIn(["values","Name"]),value:e.getIn(["values","Name"]),slug:e.get("id")}})).toJS():[],component:h.D.NotificationField},{name:"submissionTableFields",label:"Submission Table - Fields",type:"custom",helpText:"Select which field columns should be visible by default when displaying submissions for this form in the settings pages. Drag and drop to change the order in which the columns will appear.",initialValue:Xr(t.toJS()).columns,component:Fi}]}},alterFields:{description:{component:h.D.TextAreaField},attributesMap:{serialize:function(e){var t=e.values;return{"Prohibit Subtasks":Ai(t.get("prohibitSubtasks")),"Permitted Subtasks":Ai(t.get("permittedSubtasks").join(",")),"Owning Team":t.get("owningTeam").map((function(e){return e.get("name")})),"Allow Reassignment":Ai(t.get("allowReassignment")),"Assignable Teams":t.get("assignableTeams").map((function(e){return e.get("name")})),"Notification Template Name - Create":Ai(t.get("notificationCreate")),"Notification Template Name - Complete":Ai(t.get("notificationComplete")),"Form Configuration":[JSON.stringify({columns:t.get("submissionTableFields").toJS()})]}}}}},(function(e){var n=e.form,r=e.initialized;return c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-panel"},c.a.createElement(Qs,{parts:["".concat(t.name," Settings"),"Forms"],settings:!0,breadcrumbs:[{label:"Home",to:"/"},{label:"".concat(a.name," Settings"),to:"../../.."},{label:"Forms",to:"../.."},{label:t.name,to:".."}],title:"Settings",actions:[{label:"Form Builder",icon:"mouse-pointer",href:"/app/builder/#/".concat(a.slug,"/forms/").concat(t.slug,"/builder")}]}),r?c.a.createElement("section",{className:"form form-unstyled mb-5"},n):c.a.createElement(h.H,null)))}))})),Ii={fetchFormSubmission:Jr.fetchFormSubmission},Li=Object(Et.a)(zs((function(e){return{loading:e.settingsForms.submissionLoading,submission:e.settingsForms.formSubmission,space:e.app.space,kapp:e.app.kapp,activityLoading:e.settingsForms.submissionActivityLoading}}),Ii),Object(Et.b)({componentWillMount:function(){this.props.fetchFormSubmission({id:this.props.id})}}))((function(e){var t=e.loading,a=e.submission,n=e.kapp;e.space;return!t&&c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-panel"},c.a.createElement(Qs,{parts:[a&&a.handle,a&&a.form&&a.form.name,"Forms"],settings:!0,breadcrumbs:[{label:"Home",to:"/"},{label:"".concat(n.name," Settings"),to:"../../../.."},{label:"Forms",to:"../../.."},a&&{label:a.form.name,to:"../.."}],title:a&&a.handle}),c.a.createElement("section",null,c.a.createElement("div",{className:"data-list data-list--fourths"},c.a.createElement("dl",null,c.a.createElement("dt",null,"Submission Label"),c.a.createElement("dd",null,a.label)),c.a.createElement("dl",null,c.a.createElement("dt",null,"Submission Id"),c.a.createElement("dd",null,a.id)),c.a.createElement("dl",null,c.a.createElement("dt",null,"Core State"),c.a.createElement("dd",null,a.coreState)),c.a.createElement("dl",null,c.a.createElement("dt",null,"Time to Close"),c.a.createElement("dd",null,a.closedAt?C.a.duration(C()(a.submittedAt).valueOf()-C()(a.closedAt).valueOf()).humanize():c.a.createElement(b.k,null,"Not closed yet"))),c.a.createElement("dl",null,c.a.createElement("dt",null,"Created"),c.a.createElement("dd",null,c.a.createElement(h.bb,{timestamp:a.createdAt}),c.a.createElement("br",null),c.a.createElement("small",null,c.a.createElement(b.k,null,"by")," ",a.createdBy))),c.a.createElement("dl",null,c.a.createElement("dt",null,"Submitted"),c.a.createElement("dd",null,a.submittedAt?c.a.createElement(s.Fragment,null,c.a.createElement(h.bb,{timestamp:a.submittedAt}),c.a.createElement("br",null),c.a.createElement("small",null,c.a.createElement(b.k,null,"by")," ",a.submittedBy)):c.a.createElement(b.k,null,"N/A"))),c.a.createElement("dl",null,c.a.createElement("dt",null,"Updated"),c.a.createElement("dd",null,c.a.createElement(h.bb,{timestamp:a.updatedAt}),c.a.createElement("br",null),c.a.createElement("small",null,c.a.createElement(b.k,null,"by")," ",a.updatedBy))),c.a.createElement("dl",null,c.a.createElement("dt",null,"Closed"),c.a.createElement("dd",null,a.closedAt?c.a.createElement(s.Fragment,null,c.a.createElement(h.bb,{timestamp:a.closedAt}),c.a.createElement("br",null),c.a.createElement("small",null,c.a.createElement(b.k,null,"by")," ",a.closedBy)):c.a.createElement(b.k,null,"N/A")))),c.a.createElement("h3",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Fulfillment Process"))),c.a.createElement("div",{className:"section__content scroll-wrapper-h"},a.activities.filter((function(e){return"Task"===e.type})).length>0?c.a.createElement("table",{className:"table table-sm table-striped settings-table"},c.a.createElement("thead",{className:"header"},c.a.createElement("tr",null,c.a.createElement("th",null,c.a.createElement(b.k,null,"Type")),c.a.createElement("th",null,c.a.createElement(b.k,null,"Label")),c.a.createElement("th",null,c.a.createElement(b.k,null,"Description")),c.a.createElement("th",null,c.a.createElement(b.k,null,"Data")))),c.a.createElement("tbody",null,a.activities.filter((function(e){return"Task"===e.type})).map((function(e,t){var a=e.data?JSON.parse(e.data):{};return c.a.createElement("tr",{key:"task-activity-".concat(t)},c.a.createElement("td",null,e.type),c.a.createElement("td",null,e.label),c.a.createElement("td",null,e.description),c.a.createElement("td",null,Object.keys(a).map((function(e){return c.a.createElement("div",{key:e},e,": ",a[e])}))))})))):c.a.createElement(b.k,null,"There are no fulfillment steps")),c.a.createElement("h3",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Submission Activity"))),c.a.createElement("div",{className:"section__content scroll-wrapper-h"},a.activities.filter((function(e){return"Task"!==e.type})).length>0?c.a.createElement("table",{className:"table table-sm table-striped settings-table"},c.a.createElement("thead",{className:"header"},c.a.createElement("tr",null,c.a.createElement("th",null,c.a.createElement(b.k,null,"Type")),c.a.createElement("th",null,c.a.createElement(b.k,null,"Label")),c.a.createElement("th",null,c.a.createElement(b.k,null,"Description")),c.a.createElement("th",null,c.a.createElement(b.k,null,"Data")))),c.a.createElement("tbody",null,a.activities.filter((function(e){return"Task"!==e.type})).map((function(e,t){var a=e.data?JSON.parse(e.data):{};return c.a.createElement("tr",{key:"activity-".concat(t)},c.a.createElement("td",null,e.type),c.a.createElement("td",null,e.label),c.a.createElement("td",null,e.description),c.a.createElement("td",null,Object.keys(a).map((function(e){return c.a.createElement("div",{key:e},e,": ",a[e])}))))})))):c.a.createElement(b.k,null,"There is no submission activity")),c.a.createElement("h3",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Values"))),c.a.createElement("div",{className:"section__content scroll-wrapper-h"},c.a.createElement("table",{className:"table table-sm table-striped settings-table"},c.a.createElement("thead",{className:"header"},c.a.createElement("tr",null,c.a.createElement("th",null,c.a.createElement(b.k,null,"Field")),c.a.createElement("th",null,c.a.createElement(b.k,null,"Value")))),c.a.createElement("tbody",null,a.form.fields.map((function(e){return c.a.createElement("tr",{key:e.name},c.a.createElement("td",null,c.a.createElement(b.k,{context:"kapps.".concat(a.form.kapp.slug,".forms.").concat(a.form.slug)},e.name)),c.a.createElement("td",null,a.values[e.name]))}))))))))})),Pi=a(144),Ui=a.n(Pi),Mi=a(120),Di=a.n(Mi);var qi={fetchAllSubmissions:Jr.fetchAllSubmissions,setExportSubmissions:Jr.setExportSubmissions},Hi=Object(Et.a)(zs((function(e){return{kappSlug:e.app.kappSlug,submissions:e.settingsForms.exportSubmissions,submissionsCount:e.settingsForms.exportCount}}),qi),Object(Et.g)("exportStatus","setExportStatus","NOT_STARTED"),Object(Et.d)({handleDownload:function(e){return function(){var t=e.filter.props.appliedFilters&&e.filter.props.appliedFilters.toJS(),a={};t.submittedBy&&(a.submittedBy=t.submittedBy.username),t.values&&Object.entries(t.values).map((function(e){var t=Object(n.a)(e,2),r=t[0],l=t[1];return a["values[".concat(r,"]")]=l})),e.fetchAllSubmissions({formSlug:e.form.slug,kappSlug:e.kappSlug,accumulator:[],createdAt:t.startDate||t.endDate?{startDate:t.startDate?new Date(t.startDate):null,endDate:t.endDate?new Date(t.endDate):null}:{},coreState:t.coreState||void 0,q:a}),e.setExportStatus("FETCHING_RECORDS")}}}),Object(Et.b)({componentWillReceiveProps:function(e){if(this.props.submissions.length!==e.submissions.length){e.setExportStatus("CONVERT");var t=(a=e.submissions,n=e.form,Di.a.unparse(a.reduce((function(e,t){var a=t.values;return n.fields.forEach((function(e){return a.hasOwnProperty(e.name)?Array.isArray(a[e.name])&&(a[e.name]=JSON.stringify(a[e.name])):a[e.name]=null,null})),e.push(Object(l.a)({"Submission Record ID":t.id},a)),e}),[])));e.setExportStatus("DOWNLOAD"),Ui()(t,e.form.name+".csv","text/csv"),e.setExportStatus("COMPLETE")}var a,n},componentWillUnmount:function(){this.props.setExportSubmissions([])}}))((function(e){var t=e.filter,a=e.submissions,r=e.exportStatus,l=e.submissionsCount,i=e.handleDownload,o=e.form,u=Object.entries(t.props.appliedFilters.toJS()).some((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return"values"===a?Object.values(r).length:!!r}))?"Filtered":"All";return a&&c.a.createElement(s.Fragment,null,c.a.createElement("div",{className:"text-center"},"NOT_STARTED"===r?c.a.createElement(s.Fragment,null,c.a.createElement("h2",null,c.a.createElement(b.k,null,"This process will export as a .csv file")),c.a.createElement("h4",null,c.a.createElement(b.k,null,"Please don't close modal until confirmation")),c.a.createElement("button",{className:"btn btn-primary",onClick:i},c.a.createElement("span",null,c.a.createElement(b.k,null,"Export ",u," Records")))):c.a.createElement(s.Fragment,null,c.a.createElement("h2",null,c.a.createElement(b.k,null,"Retrieving Records")),c.a.createElement("h4",null,l," ",c.a.createElement(b.k,null,"records retrieved")),"CONVERT"===r&&c.a.createElement("h4",null,c.a.createElement(b.k,null,"Converting Records to CSV format")),"DOWNLOAD"===r&&c.a.createElement(b.k,{render:function(e){return c.a.createElement("h4",null,"".concat(e("Downloading")," ").concat(l," ").concat(e("Records to")," ").concat(o.name,".csv"))}}),"COMPLETE"===r&&c.a.createElement(s.Fragment,null,c.a.createElement(b.k,{render:function(e){return c.a.createElement("h2",null,"".concat(l," ").concat(e("Records exported to")," ").concat(o.name,".csv"))}}),c.a.createElement("h4",null,c.a.createElement(b.k,null,"Click Cancel to close the modal"))))))})),Bi=zs((function(e){return{modalIsOpen:e.settingsForms.modalIsOpen,modalName:e.settingsForms.modalName}}),{closeModal:Jr.closeModal})((function(e){var t=e.modalIsOpen,a=e.closeModal,n=e.form,r=e.filter;return c.a.createElement(vt.a,{isOpen:t,toggle:a,size:"lg"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("div",{className:"modal-title"},c.a.createElement("button",{onClick:a,type:"button",className:"btn btn-link"},c.a.createElement(b.k,null,"Cancel")),c.a.createElement("span",null,c.a.createElement(b.k,null,"Export Records")))),c.a.createElement(Ot.a,{className:"modal-body--import-export"},c.a.createElement("div",{style:{padding:"1.5rem"}},c.a.createElement(Hi,{filter:r,form:n}))))})),zi=function(e){var t=e.row,a=e.value;return c.a.createElement("td",null,c.a.createElement(Fn.a,{to:"submissions/".concat(t.get("id"))},a))},Qi=h.X.generateEmptyBodyRow({loadingMessage:"Loading Submissions...",noSearchResultsMessage:"No submissions were found - please modify your search criteria",noItemsMessage:"There are no submissions to display."}),Ki={openModal:Jr.openModal},Gi=Object(Et.a)(zs((function(e){return{kapp:e.app.kapp}}),Ki),Object(Et.g)("filterOpen","setFilterOpen",!1),Object(Et.e)((function(e){return{columns:Xr(e.form).columns}})),Object(Et.b)({componentDidMount:function(){Object(b.vb)("queue-settings-form-submissions")},componentWillUnmount:function(){Object(b.Gb)("queue-settings-form-submissions")}}))((function(e){var t=e.kapp,a=e.form,n=e.columns,s=e.openModal,i=e.filterOpen,o=e.setFilterOpen,u=h.X.generateFilterFormLayout({isOpen:i,toggle:function(){return o((function(e){return!e}))},fieldsLayout:[["startDate","endDate"],"coreState","submittedBy","values"]}),m=n.filter((function(e){return e.visible&&["createdAt","updatedAt"].includes(e.name)})),p=m.size>0?m.getIn([0,"name"]):"updatedAt",d=n.filter((function(e){return e.visible})).map((function(e,t){return{value:"value"===e.type?"_".concat(e.name):e.name,valueTransform:"value"===e.type?function(t,a){return a.getIn(["values",e.name])}:void 0,title:e.label,sortable:["createdAt","updatedAt"].includes(e.name),components:0===t?{BodyCell:zi}:["createdAt","updatedAt"].includes(e.name)?{BodyCell:h.X.TimeAgoCell}:"coreState"===e.name?{BodyCell:h.X.CoreStateBadgeCell}:void 0}})).push(0===m.size?{value:"updatedAt",sortable:!0,components:{BodyCell:h.X.TimeAgoCell}}:void 0).filter(Boolean);return a&&c.a.createElement(b.t,{tableKey:"queue-settings-form-submissions",kappSlug:t.slug,formSlug:a.slug,include:["values"],components:{EmptyBodyRow:Qi,FilterFormLayout:u,FilterFormButtons:h.X.FilterFormButtons},columnSet:d.map((function(e){return e.value})).toJS(),defaultSortColumn:p,addColumns:d.filter((function(e){return!!e.valueTransform})).toJS(),alterColumns:d.filter((function(e){return!e.valueTransform})).reduce((function(e,t){var a=t.value,n=(t.valueTransform,Object(r.a)(t,["value","valueTransform"]));return Object(l.a)(Object(l.a)({},e),{},Object(Ga.a)({},a,n))}),{}),filterSet:["startDate","endDate","submittedBy","coreState","values"],onSearch:function(){return function(){return o(!1)}}},(function(e){var n=e.pagination,r=e.table,l=e.filter,i=e.appliedFilters,o=e.filterFormKey;return c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-panel"},c.a.createElement(Qs,{parts:[a.name,"Forms"],settings:!0,breadcrumbs:[{label:"Home",to:"/"},{label:"".concat(t.name," Settings"),to:"../.."},{label:"Forms",to:".."}],title:a.name,actions:[{label:"Form Settings",icon:"cog",to:"settings"},{label:"Export Records",onClick:function(){return s("export")},menu:!0}]}),c.a.createElement("div",null,c.a.createElement("div",{className:"data-list data-list--fourths"},c.a.createElement("dl",null,c.a.createElement("dt",null,"Type"),c.a.createElement("dd",null,a.type||c.a.createElement("em",{className:"text-muted"},"None"))),c.a.createElement("dl",null,c.a.createElement("dt",null,"Status"),c.a.createElement("dd",null,a.status||c.a.createElement("em",{className:"text-muted"},"None"))),c.a.createElement("dl",null,c.a.createElement("dt",null,"Created"),c.a.createElement("dd",null,c.a.createElement(h.bb,{timestamp:a.createdAt}),c.a.createElement("br",null),c.a.createElement("small",null,c.a.createElement(b.k,null,"by")," ",a.createdBy))),c.a.createElement("dl",null,c.a.createElement("dt",null,"Updated"),c.a.createElement("dd",null,c.a.createElement(h.bb,{timestamp:a.updatedAt}),c.a.createElement("br",null),c.a.createElement("small",null,c.a.createElement(b.k,null,"by")," ",a.updatedBy))),a.description&&c.a.createElement("div",null,c.a.createElement("dl",null,c.a.createElement("dt",null,"Description"),c.a.createElement("dd",null,a.description)))),c.a.createElement("h3",{className:"section__title"},c.a.createElement("span",{className:"title"},c.a.createElement(b.k,null,"Submissions")),l),c.a.createElement("div",{className:"section__content"},c.a.createElement(h.X.FilterPills,{filterFormKey:o,appliedFilters:i}),c.a.createElement("div",{className:"scroll-wrapper-h"},r),n))),c.a.createElement(Bi,{form:a,filter:l}))}))})),Wi=Object(Et.a)(zs((function(e){return{kapp:e.app.kapp,form:e.settingsForms.currentForm,error:e.settingsForms.error}}),{fetchFormRequest:Jr.fetchFormRequest}),Object(Et.b)({componentWillMount:function(e,t){this.props.fetchFormRequest({kappSlug:this.props.kapp.slug,formSlug:this.props.formSlug})}}))((function(e){var t=e.form,a=e.error,n=e.kapp;return a||!t?c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-panel"},c.a.createElement(Qs,{parts:[t&&t.name,"Forms"],settings:!0,breadcrumbs:[{label:"Home",to:"/"},{label:"".concat(n.name," Settings"),to:"../.."},{label:"Forms",to:".."}]}),a?c.a.createElement(h.z,{message:a.message}):c.a.createElement(h.H,null))):c.a.createElement(Fn.d,null,c.a.createElement(wi,{form:t,path:"settings"}),c.a.createElement(Li,{form:t,path:"submissions/:id"}),c.a.createElement(Gi,{form:t,default:!0}))})),Vi=function(){return c.a.createElement(Fn.d,null,c.a.createElement(gi,{path:"general"}),c.a.createElement(Ni,{path:"forms"}),c.a.createElement(Wi,{path:"forms/:formSlug/*"}),c.a.createElement(Xi,{default:!0}))},Ji=function(e){var t=e.path,a=e.icon,n=e.name,r=e.description;return c.a.createElement(h.i,{to:t,color:"light",components:{Link:Fn.a},bar:!0,barColor:"dark",barSize:"xs"},c.a.createElement(h.j,null,c.a.createElement(h.l,{type:"title"},c.a.createElement("span",{className:"fa fa-".concat((a||"cog").replace(/^fa-/i,"")," fa-fw fa-rounded bg-dark")}),c.a.createElement("span",null,c.a.createElement(b.k,null,n))),c.a.createElement(h.l,{className:"text-muted"},r)))},Xi=Object(Et.a)(zs((function(e){return{kapp:e.app.kapp,isSpaceAdmin:e.app.profile.spaceAdmin}})))((function(e){var t=e.kapp,a=e.isSpaceAdmin;return c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-panel"},c.a.createElement(Qs,{settings:!0,breadcrumbs:[{label:"Home",to:"/"}],title:"".concat(t.name," Settings")}),c.a.createElement("div",{className:"cards cards--seconds"},a&&c.a.createElement(Ji,{name:"General Settings",path:"general",icon:"fa-gear",description:"View and Modify all Queue Settings"}),c.a.createElement(Ji,{name:"Forms",path:"forms",icon:"fa-gear",description:"View Forms and their Submissions."}))))})),Yi=Object(Et.a)(zs((function(e,t){return{kappSlug:e.app.kappSlug,appLocation:e.app.location,hasPreviewAccess:e.app.profile.spaceAdmin||e.app.kapp.authorization["Form Creation"]||e.app.kapp.authorization.Modification}})),Object(Et.g)("formName","setFormName",""),Object(Et.d)({handleLoaded:function(e){return function(t){e.setFormName(t.name())}},handleCreated:function(e){return function(t){e.navigate(t.submission.id)}}}))((function(e){var t=e.hasPreviewAccess,a=e.kappSlug,n=e.formSlug,r=e.id,l=e.appLocation,s=e.handleLoaded,i=e.handleCreated,o=e.formName;return c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:Ut()("page-panel")},c.a.createElement(Qs,{parts:["Form Preview"],breadcrumbs:[{label:"Home",to:"/"},{label:"Queue",to:l}],title:c.a.createElement("div",null,o&&c.a.createElement("span",null,c.a.createElement(b.k,null,o)," "),c.a.createElement("small",null,c.a.createElement(b.k,null,"(Form Preview)")))}),t?c.a.createElement(b.d,{submission:r,kapp:a,form:n,loaded:s,created:i}):c.a.createElement(Fn.c,{to:l,noThrow:!0})))})),Zi=function(e){return c.a.createElement(Fn.c,{to:"".concat(e.appLocation,"/item/").concat(e.id),noThrow:!0})},$i={setFilter:Xn.setFilter,fetchAppDataRequest:Xn.fetchAppDataRequest,resetList:mr.fetchListReset,openNewItemMenu:mr.openNewItemMenu,fetchListCountRequest:mr.fetchListCountRequest,fetchFormsRequest:ll.fetchFormsRequest},eo=Object(Et.a)(zs((function(e,t){return{loading:e.queueApp.loading,error:e.queueApp.error,defaultFilters:e.queueApp.filters,teamFilters:e.queueApp.teamFilters,myFilters:e.queueApp.myFilters,counts:e.queueApp.filters.toMap().mapEntries((function(t){var a=Object(n.a)(t,2),r=(a[0],a[1]);return[r.name,e.queue.counts.get(r)]})),hasTeams:e.queueApp.myTeams.size>0,hasForms:ar(e).filter((function(e){return"Task"===e.type})).length>0,appLocation:e.app.location,pathname:e.router.location.pathname}}),$i),Object(Et.d)({handleOpenNewItemMenu:function(e){var t=e.openNewItemMenu;return function(){return t()}}}),Object(Et.b)({componentDidMount:function(){this.props.fetchAppDataRequest(),this.props.fetchFormsRequest()},componentDidUpdate:function(e){var t=this;!this.props.loading&&e.loading&&this.props.defaultFilters.filter((function(e){return!t.props.filter||!Object(g.n)(e,t.props.filter)})).forEach(this.props.fetchListCountRequest)},componentWillUnmount:function(){this.props.resetList()}}))((function(e){return e.render({classNames:{header:xn()(e.pathname,{path:"".concat(e.appLocation,"/(list|team|custom|adhoc)/:name?"),exact:!0})?"app-header--sticky":""},main:e.error?c.a.createElement(h.z,{title:"Unexpected Error",message:"Sorry, an unexpected error has occurred!"}):e.loading?c.a.createElement(h.H,null):c.a.createElement(b.k,null,c.a.createElement("main",{className:"package-layout package-layout--queue"},c.a.createElement(Qs,{parts:["Loading..."]}),c.a.createElement(Fn.d,null,c.a.createElement(Vi,{path:"settings/*"}),c.a.createElement(ri,{path:"list/:filter"}),c.a.createElement(ri,{path:"team/:filter"}),c.a.createElement(ri,{path:"custom/:filter"}),c.a.createElement(ri,{path:"adhoc"}),c.a.createElement(bc,{path:"list/:filter/item/:id"}),c.a.createElement(bc,{path:"team/:filter/item/:id"}),c.a.createElement(bc,{path:"custom/:filter/item/:id"}),c.a.createElement(bc,{path:"adhoc/item/:id"}),c.a.createElement(bc,{path:"item/:id"}),c.a.createElement(Fn.c,{from:"/",to:"".concat(e.appLocation,"/list/Mine"),noThrow:!0}),c.a.createElement(Fn.c,{from:"submissions/:id",to:"".concat(e.appLocation,"/item/:id"),noThrow:!0}),c.a.createElement(Zi,{path:"forms/:formSlug/submissions/:id",appLocation:e.appLocation}),c.a.createElement(Fn.c,{from:"queue/filter/__show__/details/:id/summary",to:"".concat(e.appLocation,"/item/:id"),noThrow:!0}),c.a.createElement(Yi,{path:"forms/:formSlug/:id"}),c.a.createElement(Yi,{path:"forms/:formSlug"})),c.a.createElement(ui,null),c.a.createElement(pi,null)))})})),to=function(e){Object(ea.a)(a,e);var t=Object(ta.a)(a);function a(e){var n;return Object(Zt.a)(this,a),(n=t.call(this,e)).state={ready:!1},n.unsubscribe=qs.subscribe((function(){var e=qs.getState().app.ready;e!==n.state.ready&&n.setState({ready:e})})),n}return Object($t.a)(a,[{key:"componentDidMount",value:function(){Object.entries(this.props.appState).forEach(An)}},{key:"componentDidUpdate",value:function(e){Object.entries(this.props.appState).filter((function(t){var a=Object(n.a)(t,2),r=a[0],l=a[1];return!Object(g.n)(l,e.appState[r])})).forEach(An)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return this.state.ready&&c.a.createElement(m.a,{store:qs,context:Bs},c.a.createElement(h.m,null,c.a.createElement(Fn.b,{hashRouting:!0,history:Hs},c.a.createElement(h.cb,{duration:5e3}),c.a.createElement(h.L,null),c.a.createElement(Fn.d,null,c.a.createElement(eo,{render:this.props.render,path:"".concat(this.props.appState.location,"/*")})))))}}]),a}(s.Component);to.hasPublicRoutes=!1,to.bodyClassName="package--queue",to.settingsRoute="/settings";var ao=a(1009),no=a(298),ro="SYNC_APP_STATE",lo=function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];bo.dispatch({type:ro,payload:{key:a,value:r}})},so={app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object(l.a)({},e);return t.type===ro&&(a[t.payload.key]=t.payload.value),a.space&&a.kapp&&(a.profile||!1===a.authenticated)&&a.layoutSize?a.ready=!0:a.ready=!1,a},values:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORM_UPDATE":return Object(l.a)(Object(l.a)({},e),{},Object(Ga.a)({},t.payload.name,t.payload.response));default:return e}}},co=ue.a.mark(io);function io(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([]);case 2:case"end":return e.stop()}}),co)}console.log("Configuring scaffold package redux store");var oo=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"SCAFFOLD"}):d.d,uo=Object(f.a)(),mo=Object(jn.b)({history:b.qb}),po=mo.createReduxHistory,fo=mo.routerMiddleware,Eo=mo.routerReducer,bo=Object(d.e)(Object(d.c)(Object(l.a)(Object(l.a)({},so),{},{router:Eo})),oo(Object(d.a)(fo,uo))),go=Object(jn.d)(po(bo));uo.run(io);var ho=Object(s.createContext)(null),So=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(no.b)(e,t,a,Object(l.a)(Object(l.a)({},n),{},{context:ho}))},vo=a(62),Oo=a(2188),ko=function(e){var t=e.component;e.sx,e.elevation;return c.a.createElement(Oo.a,{sx:{mt:"1rem"}},t)},To=a(2083),yo=a(2193),No={background:{backgroundColor:"#f5fcff"},form:{backgroundColor:"white",margin:"1rem auto",padding:"2rem",width:"80%",borderRadius:".5rem"},componentList:{h1:{textAlign:"center",marginTop:"2rem"}},divider:{marginBottom:"3rem"}},Co=a(2177),Fo=a(2190),jo=a(2176),_o=a(2182),Ao=a(2167),Ro=a(2174),xo=a(2186),wo=a(2189),Io=a(2168),Lo=a(2191),Po=a(2179),Uo=a(2171),Mo=a(2181),Do=Object(no.d)(ho),qo=Object(no.c)(ho),Ho=function(e){var t=e.element,a=qo(),r=Object(s.useState)([]),l=Object(n.a)(r,2),i=l[0],o=l[1],u=function(e){var t=e.currentTarget.value;i.includes(t)?o(i.filter((function(e){return e!==t}))):o([].concat(Object(Te.a)(i),[t]))};return Object(s.useEffect)((function(){a({type:"FORM_UPDATE",payload:{name:t.name,response:i}})}),[i,a,t.name]),c.a.createElement(c.a.Fragment,null,c.a.createElement(wo.a,{variant:"h6"},t.label),c.a.createElement(To.a,null,t.choices.map((function(e,t){var a=i.includes(e.value);return c.a.createElement(Fo.a,{control:c.a.createElement(jo.a,{value:e.value,checked:a}),label:e.label,key:t,onChange:u})}))))},Bo=function(e){var t=e.element,a=Object(s.useState)(""),r=Object(n.a)(a,2),l=r[0],i=r[1],o=qo();return Object(s.useEffect)((function(){o({type:"FORM_UPDATE",payload:{name:t.name,response:l}})}),[l]),c.a.createElement(c.a.Fragment,null,c.a.createElement(wo.a,{variant:"h6"},t.label),c.a.createElement(Lo.a,{variant:"standard",sx:{m:1,minWidth:180}},c.a.createElement(Po.a,{id:"demo-simple-select-standard-label"},t.label),c.a.createElement(Uo.a,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",value:l,onChange:function(e,t){i(e.target.value)},label:"Age"},t.choices.map((function(e,t){return c.a.createElement(Mo.a,{value:e.value,key:t},e.label)})))))},zo=function(e){var t=e.element,a=t.depth>6?6:t.depth,n="h".concat(a);return c.a.createElement(c.a.Fragment,null,c.a.createElement(n,{style:{textAlign:"center"}},t.title))},Qo=function(e){var t=e.element;return c.a.createElement(wo.a,{variant:"p"},t.text)},Ko=function(e){var t=e.element,a=qo(),r=Object(s.useState)([]),l=Object(n.a)(r,2),i=l[0],o=l[1],u=t.choices.filter((function(e){return!i.includes(e)}));return c.a.createElement(Oo.a,null,c.a.createElement(wo.a,{variant:"h6"},t.label),c.a.createElement(Co.a,{multiple:!0,required:t.required,id:"tags-standard",options:u.map((function(e){return e.label})),value:i,onChange:function(e,n){return function(e){a({type:"FORM_UPDATE",payload:{name:t.name,response:e}}),o(Object(Te.a)(e))}(n)},renderInput:function(e){return c.a.createElement(_o.a,Object.assign({},e,{variant:"standard",placeholder:t.label||""}))}}))},Go=function(e){var t=e.element;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.text}}))},Wo=function(e){var t=e.element,a=qo();return c.a.createElement(c.a.Fragment,null,c.a.createElement(wo.a,{variant:"h6"},t.label),c.a.createElement(Ao.a,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:t.defaultValue,name:t.name,onChange:function(e,n){a({type:"FORM_UPDATE",payload:{name:t.name,response:n}})},required:t.required},t.choices.map((function(e){return c.a.createElement(Fo.a,{value:e.value,control:c.a.createElement(Ro.a,{required:t.required}),label:e.label,key:e.label})}))))},Vo=function(e){var t,a=e.element;return c.a.createElement(xo.a,{type:"submit",variant:null===(t=a.renderAttributes)||void 0===t?void 0:t.variant,onClick:function(){return console.log("clicked")}},a.label)},Jo=function(e){var t=e.element,a=new Date,n=qo();return c.a.createElement(c.a.Fragment,null,c.a.createElement(wo.a,{variant:"h6"},t.label),c.a.createElement(_o.a,{type:"date",defaultValue:a.toISOString().split("T")[0],InputLabelProps:{shrink:!0},onChange:function(e){n({type:"FORM_UPDATE",payload:{name:t.name,response:e.target.value}})},required:t.required}))},Xo=function(){return c.a.createElement(Io.a,{variant:"middle",style:No.divider})},Yo=function(e){var t=e.element,a=qo();return c.a.createElement(c.a.Fragment,null,c.a.createElement(wo.a,{variant:"h6"},t.label),c.a.createElement(_o.a,{variant:"filled",onChange:function(e){a({type:"FORM_UPDATE",payload:{name:t.name,response:e.target.value}})},size:"small",required:t.required}))},Zo=function(e){var t=e.key;if(e.required&&"boolean"!==typeof e.required)return c.a.createElement("p",null,"Conditional Validation not supported");if("section"===e.type)return c.a.createElement(zo,{element:e,key:e.name});if("button"===e.type){if("submit-page"===e.renderType)return c.a.createElement(Vo,{element:e,key:e.name})}else if("divider"===e.type)return c.a.createElement(Xo,null);switch(e.renderType){case"checkbox":return"multiselect"===e.renderAttributes.variant?c.a.createElement(Ko,{element:e,key:t}):c.a.createElement(Ho,{element:e,key:t});case"dropdown":return c.a.createElement(Bo,{element:e,key:t});case"text":return"content"===e.type?c.a.createElement(Qo,{element:e,key:t}):c.a.createElement(Yo,{element:e,key:t});case"html":return c.a.createElement(Go,{element:e,key:t});case"radio":return c.a.createElement(Wo,{element:e,key:t});case"date":return c.a.createElement(Jo,{element:e,key:t});default:return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{key:t},"Component not supported"),c.a.createElement("pre",null,JSON.stringify(e,null,2)))}},$o=function(e){var t,a=e.kappSlug,r=e.formSlug,l=Do((function(e){return e.values})),i=Object(s.useState)(""),o=Object(n.a)(i,2),u=o[0],m=o[1],p=u?u.pages:[],d=[],f=function e(t){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.elements,r=0;r<n.length;r++){var l,s=n[r];if("section"===s.type)s.depth=a,d.push(s),e(s,a+1),"divider"!==(null===(l=n[r-1])||void 0===l?void 0:l.type)&&n[r+1]&&d.push({type:"divider",visible:!0});else d.push(s)}},E=Object(vo.a)(p);try{for(E.s();!(t=E.n()).done;){f(t.value)}}catch(g){E.e(g)}finally{E.f()}return Object(s.useEffect)((function(){Object(b.Z)({kappSlug:a,formSlug:r,include:"pages"}).then((function(e){var t=e.form;return m(t)}))}),[a,r]),c.a.createElement("div",{style:No.background},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),Object(b.J)({kappSlug:a,formSlug:r,values:l}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),console.log("submitted")}},c.a.createElement("h1",{style:No.componentList.h1},"ComponentList"),c.a.createElement(To.a,null,c.a.createElement(yo.a,{style:No.form,elevation:8},d.map((function(e){if(e.visible)return c.a.createElement(ko,{component:Zo(e),sx:{margin:"auto",width:"80%"},key:e.key||Math.random()})})))),c.a.createElement("pre",null,JSON.stringify(u,null,2))))},eu=a(2184),tu=a(1008),au=Object(tu.a)({palette:{primary:{main:"#3f51b5"},secondary:{main:"#c62828"}}}),nu=Object(Et.a)(So((function(e){return{loading:!1,error:null,appLocation:e.app.location}}),{}),Object(Et.b)({componentDidMount:function(){}}))((function(e){var t=Do((function(e){return e.app.kapp}));return console.log("app",Do((function(e){return e}))),e.error?c.a.createElement(h.C,null):e.loading?c.a.createElement(h.G,{text:"App is loading ..."}):e.render({main:c.a.createElement(b.k,null,c.a.createElement("div",{className:"package-layout package-layout--scaffold"},c.a.createElement(h.M,{parts:["Loading..."]}),c.a.createElement(eu.a,{theme:au},c.a.createElement(Fn.d,null,c.a.createElement($o,{path:"/",kappSlug:t.slug,formSlug:t.attributesMap.renderForm})))))})})),ru=Object(Et.a)(So((function(e){return{authRoute:e.app.authRoute}})))((function(e){return e.render({main:c.a.createElement(b.k,null,c.a.createElement("div",{className:"package-layout package-layout--scaffold"},c.a.createElement(h.M,{parts:["Loading..."]}),c.a.createElement(Fn.d,null,c.a.createElement(Fn.c,{from:"*",to:e.authRoute,noThrow:!0}))))})})),lu=function(e){Object(ea.a)(a,e);var t=Object(ta.a)(a);function a(e){var n;return Object(Zt.a)(this,a),(n=t.call(this,e)).state={ready:!1},n.unsubscribe=bo.subscribe((function(){var e=bo.getState().app.ready;e!==n.state.ready&&n.setState({ready:e})})),n}return Object($t.a)(a,[{key:"componentDidMount",value:function(){Object.entries(this.props.appState).forEach(lo)}},{key:"componentDidUpdate",value:function(e){Object.entries(this.props.appState).filter((function(t){var a=Object(n.a)(t,2),r=a[0],l=a[1];return!Object(g.n)(l,e.appState[r])})).forEach(lo)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return this.state.ready&&c.a.createElement(no.a,{store:bo,context:ho},c.a.createElement(h.m,null,c.a.createElement(Fn.b,{hashRouting:!0,history:go},c.a.createElement(h.cb,{duration:5e3}),c.a.createElement(h.L,null),c.a.createElement(Fn.d,null,this.props.appState.authenticated?c.a.createElement(nu,{render:this.props.render,path:"".concat(this.props.appState.location,"/*")}):c.a.createElement(ru,{render:this.props.render,path:"".concat(this.props.appState.location,"/*")})))))}}]),a}(s.Component);lu.shouldHideHeader=function(e){return!0},lu.shouldHideSidebar=function(e){return!0},lu.hasPublicRoutes=!1,lu.bodyClassName="package--scaffold";var su=a(166),cu="SYNC_APP_STATE",iu=function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];hu.dispatch({type:cu,payload:{key:a,value:r}})},ou={app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object(l.a)({},e);return t.type===cu&&(a[t.payload.key]=t.payload.value),a.space&&a.kapp&&(a.profile||!1===a.authenticated)&&a.layoutSize?a.ready=!0:a.ready=!1,a},values:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORM_UPDATE":return Object(l.a)(Object(l.a)({},e),{},Object(Ga.a)({},t.payload.name,t.payload.response));default:return e}}},uu=ue.a.mark(mu);function mu(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([]);case 2:case"end":return e.stop()}}),uu)}console.log("Configuring vTeams package redux store");var pu=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"VTEAMS"}):d.d,du=Object(f.a)(),fu=Object(jn.b)({history:b.qb}),Eu=fu.createReduxHistory,bu=fu.routerMiddleware,gu=fu.routerReducer,hu=Object(d.e)(Object(d.c)(Object(l.a)(Object(l.a)({},ou),{},{router:gu})),pu(Object(d.a)(bu,du))),Su=Object(jn.d)(Eu(hu));du.run(mu);var vu=Object(s.createContext)(null),Ou=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(su.b)(e,t,a,Object(l.a)(Object(l.a)({},n),{},{context:vu}))},ku=a(997),Tu=a.n(ku),yu=(a(2053),function(e){var t=e.level;if(!t)return c.a.createElement("div",null,"None");var a="",n="dot-";return 4===(t=parseInt(t))?(a="Low",n+="green"):3===t?(a="Medium",n+="orange"):2===t?(a="High",n+="red"):1===t&&(a="Critical",n+="red"),c.a.createElement("div",{className:"flex"},c.a.createElement("span",{className:"priority-dot ".concat(n)}),c.a.createElement("span",null,a))}),Nu=a(225),Cu=function(e){var t={height:"1.5rem",margin:"auto 4px",fontSize:"0.7rem",backgroundColor:Nu.bgColorPrimary,"&:hover":{color:Nu.colorWhite,backgroundColor:Nu.bgColorLight}};return"light"===e.mode&&(t.backgroundColor=Nu.colorWhite,t.color="black",t["&:hover"]={color:Nu.colorWhite,boxShadow:"inset 0px 0px 2px white, inset 0px 0px 2px white",backgroundColor:Nu.bgColorLight}),e.sx&&(t=Object(l.a)(Object(l.a)({},t),e.sx)),c.a.createElement(xo.a,Object.assign({variant:"contained",size:"small",children:"Submit"},e,{sx:t,onClick:e.onClick||function(){return e.linkpath&&b.qb.push(e.linkpath)}}))},Fu=a(124),ju=(a(2054),a(998)),_u=a.n(ju),Au=a(999),Ru=a.n(Au),xu=(a(2055),function(){var e=Object(s.useState)(!1),t=Object(n.a)(e,2),a=t[0],r=t[1],i=a?"knowledge-widget--open":"",o=function(){return r(!a)},u={color:"white",top:8,left:5,cursor:"pointer",opacity:a?0:1,transition:"all .8s",position:"absolute",fontSize:20};return c.a.createElement("div",{className:"knowledge-widget ".concat(i)},c.a.createElement("div",{className:"widget-tab"},c.a.createElement("div",{className:"widget-icon"},c.a.createElement(_u.a,{sx:Object(l.a)(Object(l.a)({},u),{},{opacity:a?0:1}),onClick:o}),c.a.createElement(Ru.a,{sx:Object(l.a)(Object(l.a)({},u),{},{opacity:a?1:0,transform:!a&&"rotate(270deg)"}),onClick:o})),c.a.createElement("div",{className:"widget-title"},"Knowledge Center")),c.a.createElement("div",{className:"knowledge-widget--content"},[{title:"First Article",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum"},{title:"Second Article",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum"},{title:"Third Article",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum"}].map((function(e,t){return c.a.createElement("div",{className:"knowledge-article",key:t},c.a.createElement("div",{className:"article-title"},e.title),c.a.createElement("div",{className:"article-content"},e.content))}))))}),wu="vteams",Iu="vteams-ticket",Lu="0.1.2",Pu="isWorkLog",Uu="Hours Worked",Mu=function(e){e.ticket;var t=Object(s.useState)(""),a=Object(n.a)(t,2);a[0],a[1],[1,2,3].map((function(e){return c.a.createElement(Mo.a,{value:e,key:e},c.a.createElement(yu,{level:e}))}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.M,{parts:["New Ticket"]}),c.a.createElement(xu,null),c.a.createElement("div",{className:"page-panel"},c.a.createElement("div",{className:"card-wrapper ticket-submission"},c.a.createElement(b.d,{kapp:wu,form:Iu,onError:function(e){return alert(e)},onCreated:function(){return alert("form created")},onCompleted:function(){return alert("form completed")},components:{}}))))},Du=(a(2195),a(2183),a(2056),Object(Et.a)(Ou((function(e){return{appLocation:e.app.location}}),{}),Object(Et.b)({componentDidMount:function(){}}))((function(e){return c.a.createElement("div",{className:"page-container"},c.a.createElement("div",{className:"page-panel"},c.a.createElement(Mu,{ticket:{number:"0003492"}})))})),a(2057),a(2058),a(1e3),a(1001),a(2175),a(1003),a(1002),a(1004),a(2059),a(74)),qu=a(2196),Hu=a(2169),Bu=(a(2060),function(e){return e.memberships.map((function(e){return e.team.name})).includes("vTeams")}),zu=function(){var e=Object(Ct.a)(ue.a.mark((function e(t){var a,n,r=arguments;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:[],e.next=3,Object(b.Ab)(t);case 3:if(!(n=e.sent).nextPageToken){e.next=8;break}return e.abrupt("return",zu({nextPageToken:n.nextPageToken},a.concat(n.submissions)));case 8:return e.abrupt("return",a.concat(n.submissions));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qu=function(e){var t,a=e.columns,r=void 0===a?[]:a,l=e.rows,i=void 0===l?[]:l,o=e.createBtn,u=void 0!==o&&o,m=e.viewAllBtn,p=void 0!==m&&m,d=Object(s.useState)(""),f=Object(n.a)(d,2),E=f[0],g=f[1],h=Object(su.c)((function(e){return e.app.profile})),S=Bu(h),v=r.map((function(e){return e.field})),O=new RegExp(E,"ig"),k=null===i||void 0===i?void 0:i.filter((function(e){return!E||v.some((function(t){return"string"==typeof e[t]&&e[t].match(O)}))})),T=Object(vo.a)(r);try{for(T.s();!(t=T.n()).done;){var y=t.value;"Title"===y.field&&(y.flex=2),"Requested Date Due"===y.field&&(y.flex=1),"Description"===y.field&&(y.flex=2),"Estimate"===y.field&&(y.flex=.5),"Attachments"===y.field&&(y.flex=.5,y.renderCell=function(e){if(e.value)return c.a.createElement("div",null,e.row.Attachments.map((function(e,t,a){return c.a.createElement("a",{href:e.link,key:t},e.name,t<a.length-1&&", ")})))},y.valueGetter=function(e){return e.value.length<1?void 0:e.value.map((function(e){return e.name})).join(", ")}),"Priority"!==y.field&&"Urgency"!==y.field||(y.renderCell=function(e){return c.a.createElement(yu,{level:e.value})})}}catch(F){T.e(F)}finally{T.f()}var N=["Title","Description","Requested Date"],C=r.filter((function(e){N.includes(e.field)?e.index=N.indexOf(e.field):e.index=999;var t=["Number","Organization ID"];return S||t.push(["Organization"]),!t.some((function(t){return t===e.field}))}));return C.sort((function(e,t){return e.index-t.index})),c.a.createElement("div",{className:"item-container card-wrapper no-padding datagrid-container"},c.a.createElement("div",{className:"datagrid-header flex"},c.a.createElement("div",{className:"search-icon-wrapper"},c.a.createElement(qu.a,{size:Nu.fontMedium,onChange:function(e){return g(e.target.value)}})),c.a.createElement("input",{type:"text",className:"datagrid-search",placeholder:"Search",value:E,onChange:function(e){return g(e.target.value)}}),c.a.createElement("div",{className:"flex-container--right"},p&&c.a.createElement(Cu,{mode:"dark"},"View All"),u&&c.a.createElement(Cu,{mode:"light",linkpath:ha},"Create New"))),c.a.createElement("div",{style:{display:"flex",height:"100%"}},c.a.createElement("div",{style:{flexGrow:1}},c.a.createElement(Hu.a,{rows:k,columns:C,onRowClick:function(e){b.qb.push("".concat(ha,"/").concat(e.id))},sx:{bgcolor:"white",borderTop:"none",".MuiDataGrid-columnHeaders":{backgroundColor:Fu.bgColorPrimary,color:Fu.colorWhite,borderTopLeftRadius:0,borderTopRightRadius:0},".MuiDataGrid-menuIconButton":{color:Fu.colorWhite,opacity:1},".MuiDataGrid-filterIcon":{color:Fu.colorWhite,opacity:1},".MuiDataGrid-sortIcon":{color:Fu.colorWhite,opacity:1}},density:"compact"}))))},Ku=function(e){var t=[],a=[];if(e.length>0){for(var n in e[0].values)t.push({field:n,headerName:n,flex:1});var r,s=Object(vo.a)(e);try{for(s.s();!(r=s.n()).done;){var c=r.value,i=Object(l.a)(Object(l.a)({},c.values),{},{id:c.id});a.push(i)}}catch(o){s.e(o)}finally{s.f()}}return[t,a]};Du.d.register(Du.c,Du.i,Du.k,Du.h,Du.o,Du.p,Du.f);a(1006),a(2063),a(1007),a(2173),a(2197),a(2064),a(2065),a(2178),a(2198),a(2199),a(501),a(2066);var Gu=function(){return c.a.createElement("footer",{className:"flex flex-align-vert flex-center"},c.a.createElement("div",null,c.a.createElement("div",null,"esolutionsONE - vTEAMS"),c.a.createElement("div",{className:"flex flex-center footer-link-container"},"-",c.a.createElement("a",null,"Contact Us"),"-",c.a.createElement("a",null,"Privacy Policy"),"-",c.a.createElement("a",null,"Report an Issue"),"-"),c.a.createElement("div",null,"Version ",Lu)))},Wu=(a(2067),new Date,new Date,new Date,new Date,new Date,new Date,new Date,new Date,new Date,new Date,new Date,new Date,a(2068),a(2069),function(e){var t=e.submission,a=t.values,r=t.submittedAt,l=(t.submittedBy,r.split("T")),s=Object(n.a)(l,2),i=s[0],o=s[1],u=t.values["Hours Worked"],m=["".concat("true"===a.isFulfiller&&"isFulfiller"),"".concat(a.isInternal&&"isInternal")].join(" ");return c.a.createElement("div",{className:"activity-container ".concat(m)},c.a.createElement("div",{className:"comment-header"},c.a.createElement("div",null,a.Commenter,": ",i," ",o.split(".")[0]),u&&c.a.createElement("div",null,"Hours Worked: ",t.values["Hours Worked"])),c.a.createElement("div",{className:"comment-content"},a.Comment))}),Vu=(a(2070),function(e){var t=e.id,a=Object(s.useState)([]),r=Object(n.a)(a,2),l=r[0],i=r[1],o=Object(s.useState)(""),u=Object(n.a)(o,2),m=u[0],p=u[1],d=Object(s.useState)(""),f=Object(n.a)(d,2),E=f[0],g=f[1],h=Object(s.useState)(!1),S=Object(n.a)(h,2),v=S[0],O=S[1],k=Object(s.useState)(!1),T=Object(n.a)(k,2),y=T[0],N=T[1],C=Object(s.useState)(""),F=Object(n.a)(C,2),j=F[0],_=F[1],A=Object(s.useState)(!1),R=Object(n.a)(A,2),x=R[0],w=R[1],I=Object(su.c)((function(e){return e.app.profile})),L=I.memberships.map((function(e){return e.team.name})).includes("vTeams"),P=y?"internal":"";Object(s.useEffect)((function(){Object(b.gb)({id:t,include:"values"}).then((function(e){return _(e.submission.values.Organization)})).catch((function(e){return console.log(e)})),function(){var e=Object(Ct.a)(ue.a.mark((function e(){var a,n,r,l;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new b.s).eq("values[Ticket ID]",t).include("values").build(),e.prev=1,e.next=4,zu({kapp:"vteams",form:"activity",search:a});case 4:if(n=e.sent,!L){e.next=13;break}return e.next=8,zu({kapp:"vteams",form:"internal-notes",search:a});case 8:(r=e.sent).forEach((function(e){e.values.isInternal=!0})),l=[].concat(Object(Te.a)(n),Object(Te.a)(r)),e.next=14;break;case 13:l=n;case 14:l.sort((function(e,t){return new Date(t.submittedAt)-new Date(e.submittedAt)})),i(l),N(!1),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(){return e.apply(this,arguments)}}()()}),[t,v]);return c.a.createElement("div",{className:"card-wrapper activities"},c.a.createElement("h2",null,"Notes and Comments"),c.a.createElement("div",null,c.a.createElement("form",{onSubmit:function(e){var a=y?"internal-notes":"activity";e.preventDefault();var n={"Ticket ID":t,Comment:m,Commenter:I.displayName,isFulfiller:L,Organization:j},r=Pu;E&&(n[Uu]=E),x&&(n[r]=[r]),Object(b.J)({kappSlug:"vteams",formSlug:a,values:n}).then((function(e){console.log("submitted:",e),p(""),g(""),O(!v)})).catch((function(e){return console.log(e)}))}},L&&c.a.createElement("div",{className:"hours-container"},c.a.createElement("div",{className:"comment-label__checkbox"},c.a.createElement("input",{type:"checkbox",name:"isWorkLog",checked:x,onChange:function(){return w(!x)}}),c.a.createElement("label",{htmlFor:"isWorkLog"}," Mark as Work Log")),x&&c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{htmlFor:"hoursSpent"},"Hours:"),c.a.createElement("input",{type:"number",value:E,name:"hoursSpent",onChange:function(e){return g(e.target.value)}}))),c.a.createElement("label",{htmlFor:"comment"},"Comment",x&&" (Work Notes)",":"),c.a.createElement("textarea",{rows:3,value:m,onChange:function(e){return p(e.target.value)},className:P,placeholder:y?"Visible to vTeams":"Visible To Client",name:"comment"}),c.a.createElement(Cu,{mode:"dark",sx:{margin:"10px"},type:"submit"}),L&&c.a.createElement(Cu,{mode:"light",onClick:function(){N(!y)}},"Toggle Internal"))),c.a.createElement("div",{className:"activity-feed-container"},c.a.createElement("div",{className:"activity-feed"},l.length>0&&l.map((function(e){return c.a.createElement(Wu,{key:e.handle,submission:e})})),0===l.length&&c.a.createElement("div",{className:"message-no-comments"},"No Comments to display"))))}),Ju=function(e){var t=e.id,a=Object(s.useState)({}),r=Object(n.a)(a,2),l=r[0],i=r[1],o=t?c.a.createElement("h1",null,"Ticket Handle: ",t.substr(t.length-6)):c.a.createElement("h1",null,"Submit a Ticket");return c.a.createElement("div",{className:"page-panel"},o,c.a.createElement("div",{className:"card-wrapper no-padding"},c.a.createElement(b.d,{submission:t||l.id,kapp:wu,form:Iu,onCompleted:function(e){return i(e.submission)},components:{Button:Cu}})),!t&&l.handle&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"flex flex-center"},"Your Ticket Has Been Successfully Submitted."),c.a.createElement("div",{className:"flex flex-center"},c.a.createElement(Cu,{mode:"dark",linkpath:Sa},"Back to Home"))),(t||l.id)&&c.a.createElement(Vu,{id:t||l.id}))};a(2071),a(2072),a(381),Object(Te.a)(Array(31).keys());Du.d.register(Du.c,Du.i,Du.k,Du.h,Du.o,Du.p,Du.f);a(2073);var Xu=function(){var e,t=Object(s.useState)(0),a=Object(n.a)(t,2),r=(a[0],a[1],Object(s.useState)({})),l=Object(n.a)(r,2),i=l[0],o=l[1],u=null===(e=Object(su.c)((function(e){return e.app.profile})).attributes.find((function(e){return"Organization"==e.name})))||void 0===e?void 0:e.values[0];return Object(s.useEffect)((function(){var e=(new b.s).eq("values[Organization]",u).include("values").build();Object(b.Ab)({kapp:"vteams",form:"clients",search:e}).then((function(e){var t,a,n=null===(t=e.submissions[0])||void 0===t?void 0:t.values["Billing Start Date"],r=Number(null===(a=e.submissions[0])||void 0===a?void 0:a.values["Monthly Hours"]),l=(new b.s).eq("values[Organization]",u).include("values").build();Object(b.Ab)({kapp:"vteams",form:"activity",search:l}).then((function(e){var t=e.submissions.reduce((function(e,t){var a=t.values["Hours Worked"];return a&&C()(t.createdAt)>C()(n)?e+Number(a):e}),0);o({clientName:u,hoursThisPeriod:t,periodStartDate:C()(n),hoursRemaining:r-t,totalHours:r})}))}))}),[]),c.a.createElement(c.a.Fragment,null," ",u&&c.a.createElement("div",null,c.a.createElement("h1",null,"Burndown for ",i.clientName),c.a.createElement("div",{className:"page-panel"},c.a.createElement("p",null,"Total Hours this Month: ",i.totalHours," hours"),c.a.createElement("p",null,"Work Done this Billing Period: ",i.hoursThisPeriod," hours"),c.a.createElement("p",null,"Hours Remaining: ",i.hoursRemaining," hours"))))},Yu=function(){var e=Object(s.useState)(""),t=Object(n.a)(e,2),a=t[0],r=t[1],l=Ku(a),i=Object(n.a)(l,2),o=i[0],u=i[1];return Object(s.useEffect)((function(){(function(){var e=Object(Ct.a)(ue.a.mark((function e(){var t,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new b.s).include("values").build(),e.next=3,zu({kapp:"vteams",form:"vteams-ticket",search:t});case 3:a=e.sent,r(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c.a.createElement("div",null,c.a.createElement(h.M,{parts:["Home"]}),c.a.createElement("div",{className:"page-panel"},c.a.createElement(Xu,null)),c.a.createElement("div",{className:"dashboard page-panel"},c.a.createElement("h1",null,"Your Tickets"),c.a.createElement("div",{className:"table-wrapper"},c.a.createElement(Qu,{columns:o,rows:u,createBtn:!0}))))};a(2074),a(2075),Object(Te.a)(Array(31).keys());Du.d.register(Du.c,Du.i,Du.k,Du.h,Du.o,Du.p,Du.f);var Zu=Object(Et.a)(Ou((function(e){return{loading:!1,error:null,appLocation:e.app.location}}),{}),Object(Et.b)({componentDidMount:function(){}}))((function(e){var t=Object(tu.a)({typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',fontSize:12,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}});return Object(s.useEffect)((function(){Tu.a.load({google:{families:["Inter:300,400,500,700,900"]}})}),[]),e.error?c.a.createElement(h.C,null):e.loading?c.a.createElement(h.G,{text:"App is loading ..."}):e.render({main:c.a.createElement(b.k,null,c.a.createElement(su.a,{store:hu},c.a.createElement(eu.a,{theme:t},c.a.createElement("div",{className:"package-layout package-layout--vteams"},c.a.createElement(h.M,{parts:["Loading..."]}),c.a.createElement("div",{className:"page-container"},c.a.createElement(Fn.d,null,c.a.createElement(Fn.c,{from:"/",to:"/kapps/vteams/home",noThrow:!0}),c.a.createElement(Ju,{path:"/ticket"}),c.a.createElement(Ju,{path:"/ticket/:id"}),c.a.createElement(Yu,{path:"/home"}))),c.a.createElement(Gu,null)))))})})),$u=Object(Et.a)(Ou((function(e){return{authRoute:e.app.authRoute}})))((function(e){return e.render({main:c.a.createElement(b.k,null,c.a.createElement("div",{className:"package-layout package-layout--scaffold"},c.a.createElement(h.M,{parts:["Loading..."]}),c.a.createElement(Fn.d,null,c.a.createElement(Fn.c,{from:"*",to:e.authRoute,noThrow:!0}))))})})),em=function(e){Object(ea.a)(a,e);var t=Object(ta.a)(a);function a(e){var n;return Object(Zt.a)(this,a),(n=t.call(this,e)).state={ready:!1},n.unsubscribe=hu.subscribe((function(){var e=hu.getState().app.ready;e!==n.state.ready&&n.setState({ready:e})})),n}return Object($t.a)(a,[{key:"componentDidMount",value:function(){Object.entries(this.props.appState).forEach(iu)}},{key:"componentDidUpdate",value:function(e){Object.entries(this.props.appState).filter((function(t){var a=Object(n.a)(t,2),r=a[0],l=a[1];return!Object(g.n)(l,e.appState[r])})).forEach(iu)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return this.state.ready&&c.a.createElement(su.a,{store:hu,context:vu},c.a.createElement(h.m,null,c.a.createElement(Fn.b,{hashRouting:!0,history:Su},c.a.createElement(h.cb,{duration:5e3}),c.a.createElement(h.L,null),c.a.createElement(Fn.d,null,this.props.appState.authenticated?c.a.createElement(Zu,{render:this.props.render,path:"".concat(this.props.appState.location,"/*")}):c.a.createElement($u,{render:this.props.render,path:"".concat(this.props.appState.location,"/*")})))))}}]),a}(s.Component);em.hasPublicRoutes=!1,em.bodyClassName="package--scaffold";var tm={services:ya.f,queue:to,"tech-bar":Ca.a,survey:Na.a,scaffold:lu,vTeams:em},am=[kn.a,ao.a],nm={push:F.d,loadApp:I.fetchApp,loadProfile:I.fetchProfileRequest,fetchAlertsRequest:q.fetchAlertsRequest},rm=Object(Et.a)(Object(m.c)((function(e){return{loading:e.app.loading,authenticated:e.app.authenticated,authRoute:e.app.authRoute,kapps:e.app.kapps,layoutSize:e.layout.size,kappSlug:e.app.kappSlug,kapp:e.app.kapp,location:e.router.location,app:e.app}}),nm),Object(Et.d)({getLocation:function(e){var t=e.kappSlug;return function(e){return"".concat(null!==t?"/kapps/".concat(t):e.location||"/")}}}),Object(Et.e)((function(e){var t=e.authenticated,a=e.location,n=e.kapp,l=(e.profile,Object(r.a)(e,["authenticated","location","kapp","profile"])),s=function(e){var t=e.kapp,a=e.pathname;return t?tm[h.hb.getAttributeValue(t,"Bundle Package",t.slug)]||Cn:am.find((function(e){return Object(u.f)(a,{path:e.location})}))||Cn}({kapp:n,pathname:a.pathname}),c=l.getLocation(s),i=!s||s.shouldHideHeader&&!!s.shouldHideHeader({appLocation:c,authenticated:t,location:a,kapp:n}),o=!s||s.shouldHideSidebar&&!!s.shouldHideSidebar({appLocation:c,authenticated:t,location:a,kapp:n}),m=s&&s.shouldSuppressSidebar&&!!s.shouldSuppressSidebar({appLocation:c,authenticated:t,location:a,kapp:n});return{AppProvider:s,bodyClassName:s.bodyClassName||"",shouldHideHeader:i,shouldHideSidebar:o,shouldSuppressSidebar:m,appLocation:c}})),Object(Et.d)({refreshApp:function(e){return function(){return e.loadApp()}},refreshProfile:function(e){return function(){return e.loadProfile()}}}),Object(Et.b)({componentDidMount:function(){null!==this.props.authenticated&&this.props.loadApp(!0),this.props.bodyClassName&&(document.body.className=this.props.bodyClassName)},componentDidUpdate:function(e){this.props.authenticated!==e.authenticated&&this.props.loadApp(!0),this.props.loading||this.props.authenticated||this.props.AppProvider.hasPublicRoutes||this.props.push(this.props.authRoute),this.props.bodyClassName!==e.bodyClassName&&(document.body.className=this.props.bodyClassName)}}))((function(e){return!e.loading&&c.a.createElement(e.AppProvider,{appState:Object(l.a)(Object(l.a)({},e.app.toObject()),{},{location:e.appLocation,actions:{refreshApp:e.refreshApp,refreshProfile:e.refreshProfile},layoutSize:e.layoutSize,bundleName:"customer-project-default"}),location:e.location,render:function(t){return c.a.createElement(_a,Object.assign({mobile:"small"===e.layoutSize,shouldHideHeader:e.shouldHideHeader,shouldHideSidebar:e.shouldHideSidebar,shouldSuppressSidebar:e.shouldSuppressSidebar},t))}})})),lm=Promise.all([a.e(136),a.e(137)]).then(a.bind(null,2218)),sm=Object(m.c)((function(e){return{locale:e.app.locale}}))(b.n);o.a.render(c.a.createElement(s.Fragment,null,c.a.createElement(dt.Helmet,null,c.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})),c.a.createElement(m.a,{store:pt},c.a.createElement(sm,{globals:lm,components:Object(l.a)(Object(l.a)({fields:Object(l.a)({},h.D.defaults)},h.X.defaults),{},{coreForm:Object(l.a)({},h.p.defaults)})},(function(e){var t=e.initialized,a=Object(r.a)(e,["initialized"]);return t&&c.a.createElement(p.a,{history:b.qb},c.a.createElement(Lt,a,c.a.createElement(rm,null)))})))),document.getElementById("root"));var cm=Object(u.f)(b.qb.location.pathname,{path:"/kapps/:kappSlug"});pt.dispatch(I.setKappSlug(cm&&cm.params.kappSlug)),[["small",window.matchMedia("(max-width: 767px)")],["medium",window.matchMedia("(min-width: 768px) and (max-width: 991px)")],["large",window.matchMedia("(min-width: 992px) and (max-width: 1199px)")],["xlarge",window.matchMedia("(min-width: 1200px)")]].forEach((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];r.addListener((function(e){e.matches&&pt.dispatch(J.setSize(a))})),r.matches&&pt.dispatch(J.setSize(a))}))},222:function(e,t,a){"use strict";var n=a(941);a.d(t,"a",(function(){return n.a})),a.d(t,"b",(function(){return n.b})),a.d(t,"c",(function(){return n.c})),a.d(t,"d",(function(){return n.d})),a.d(t,"e",(function(){return n.e})),a.d(t,"f",(function(){return n.f})),a.d(t,"g",(function(){return n.g})),a.d(t,"h",(function(){return n.h})),a.d(t,"i",(function(){return n.i})),a.d(t,"j",(function(){return n.j})),a.d(t,"k",(function(){return n.k})),a.d(t,"l",(function(){return n.l})),a.d(t,"m",(function(){return n.m})),a.d(t,"n",(function(){return n.n})),a.d(t,"o",(function(){return n.o})),a.d(t,"p",(function(){return n.p})),a.d(t,"q",(function(){return n.q})),a.d(t,"r",(function(){return n.r})),a.d(t,"s",(function(){return n.s})),a.d(t,"t",(function(){return n.t})),a.d(t,"u",(function(){return n.u}))},225:function(e,t,a){e.exports={bgColorPrimary:"#012b3f",bgColorLight:"#488dad",bgOffWhiteDarker:"#f7f7f8",colorWhite:"#fff","line-dividers":"1px solid #c4c4c4",fontSmall:"12px",fontMedium:"16px",fontLarge:"24px"}},640:function(e,t){},981:function(e,t,a){e.exports=a.p+"static/media/esolutions_logo_green.55d9aa8f.svg"},982:function(e,t,a){e.exports=a.p+"static/media/esolutions_logo_white.01a91fe5.svg"}},[[1177,134,135]]]);
//# sourceMappingURL=main.b25fc11c.chunk.js.map