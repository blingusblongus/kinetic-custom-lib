{"version":3,"sources":["../../vTeams/src/assets/styles/_variables.scss","../../../node_modules/moment/locale lazy /^/.//.*$/ groupOptions: {} namespace object","assets/images/login-background.png","assets/images/login-name.png","assets/styles/master.scss","../../vTeams/src/components/TicketSubmission/_TicketSubmission.scss","../../vTeams/src/components/KnowledgeWidget/_KnowledgeWidget.scss","../../vTeams/src/components/NavIcon/NavIcon.scss","../../vTeams/src/components/Navbar/Navbar.scss","../../vTeams/src/components/Dashboard_v2/DashboardV2.scss","../../vTeams/src/components/TicketTable/_TicketTable.scss","../../vTeams/src/components/TicketUserView./_TicketUserView.scss","../../vTeams/src/components/Queue/_Queue.scss","../../vTeams/src/components/Footer/Footer.scss","../../vTeams/src/components/ClientManagement/_ClientManagement.scss","../../vTeams/src/components/CoreTicketView/_CoreTicketView.scss","../../vTeams/src/components/Activities/Activity/_Activity.scss","../../vTeams/src/components/Activities/_Activities.scss","../../vTeams/src/components/ClientHome/_ClientHome.scss","../../vTeams/src/components/BurndownClient/_BurndownClient.scss","../../vTeams/src/components/BurndownFulfiller/BurndownFulfiller.scss","../../vTeams/src/components/BurndownFulfiller/WorkLogList/WorkLogList.scss","../../vTeams/src/components/Dashboard/Dashboard.scss","../../vTeams/src/components/RecentlyViewed/RecentlyViewed.scss","redux/modules/about.js","redux/modules/app.js","redux/modules/alerts.js","redux/modules/forms.js","redux/modules/layout.js","redux/modules/profile.js","redux/modules/teams.js","redux/reducers.js","redux/sagas/about.js","redux/sagas/alerts.js","redux/sagas/app.js","redux/sagas/forms.js","redux/sagas/profile.js","redux/sagas/teams.js","redux/sagas.js","redux/store.js","components/authentication/LoginWrapper.js","components/authentication/Login.js","components/authentication/ResetPassword.js","components/authentication/CreateAccount.js","components/authentication/Authentication.js","components/layout/Layout.js","components/layout/AlertsDropdown.js","redux/selectors.js","components/layout/ProfileDropdown.js","components/layout/SearchBar.js","../../vTeams/globals/urls.js","components/layout/Header.js","components/layout/Sidebar.js","components/layout/index.js","components/shared/PageTitle.js","components/home/ServicesActivity.js","components/home/QueueActivity.js","components/home/Home.js","components/SearchResults.js","components/Kapp.js","components/Submissions.js","components/Form.js","components/Profile.js","components/EditProfile.js","components/Team.js","components/Teams.js","components/About.js","components/shared/PopConfirm.js","components/alerts/AlertRow.js","components/alerts/Alerts.js","components/alerts/Alert.js","AppProvider.js","../../queue/src/redux/modules/app.js","../../queue/src/records.js","../../queue/src/redux/modules/queueApp.js","../../queue/src/redux/modules/queue.js","../../queue/src/redux/modules/filterMenu.js","../../queue/src/redux/modules/workMenu.js","../../queue/src/redux/modules/settingsQueue.js","../../queue/src/redux/modules/settingsForms.js","../../queue/src/models.js","../../queue/src/redux/modules/forms.js","../../queue/src/redux/reducers.js","../../queue/src/redux/sagas/app.js","../../queue/src/redux/sagas/queueApp.js","../../queue/src/redux/sagas/queue.js","../../queue/src/redux/sagas/forms.js","../../queue/src/redux/sagas/settingsQueue.js","../../queue/src/redux/sagas/settingsForms.js","../../queue/src/redux/sagas.js","../../queue/src/redux/store.js","../../queue/src/components/shared/PageTitle.js","../../queue/src/components/queue_item/ViewOriginalRequest.js","../../queue/src/components/queue_item/AssignmentBadge.js","../../queue/src/components/shared/StatusContent.js","../../queue/src/components/queue_list/QueueListItem.js","../../queue/src/components/shared/AssignmentItem.js","../../queue/src/components/shared/AssignmentSelector.js","../../queue/src/components/shared/WallyButton.js","../../queue/src/components/queue_item/QueueItemDetails.js","../../queue/src/components/queue_item/QueueItem.js","../../queue/src/components/filter_menu/FilterMenuAbstract.js","../../queue/src/components/queue_list/QueueListSidebar.js","../../queue/src/components/filter_menu/FilterMenuToolbar.js","../../queue/src/components/filter_menu/FilterMenuModal.js","../../queue/src/components/queue_list/QueueListPagination.js","../../queue/src/components/queue_list/BulkAssignModal.js","../../queue/src/components/queue_list/BulkWorkModal.js","../../queue/src/components/queue_list/BulkStatusModal.js","../../queue/src/components/queue_list/QueueListSelection.js","../../queue/src/components/queue_list/QueueList.js","../../queue/src/components/queue_list/QueueListContainer.js","../../queue/src/components/new_item_menu/NewItemMenu.js","../../queue/src/components/new_item_menu/NewItemMenuContainer.js","../../queue/src/components/work_menu/WorkMenu.js","../../queue/src/components/settings/QueueSettings.js","../../queue/src/components/settings/forms/FormList.js","../../queue/src/components/settings/forms/FormSettings.js","../../queue/src/components/settings/forms/FormActivity.js","../../queue/src/components/settings/forms/Export.js","../../queue/src/components/settings/forms/ExportModal.js","../../queue/src/components/settings/forms/FormSubmissions.js","../../queue/src/components/settings/Settings.js","../../queue/src/components/FormPreview.js","../../queue/src/App.js","../../queue/src/index.js","../../scaffold/src/redux/modules/app.js","../../scaffold/src/redux/reducers.js","../../scaffold/src/redux/modules/formResponses.js","../../scaffold/src/redux/sagas.js","../../scaffold/src/redux/store.js","../../scaffold/src/components/ComponentWrapper/ComponentWrapper.jsx","../../scaffold/src/assets/styles/styles.js","../../scaffold/src/redux/hooks/hooks.js","../../scaffold/src/components/CustomComponents/CustomComponents.jsx","../../scaffold/src/lib/utils.js","../../scaffold/src/components/ComponentList/ComponentList.jsx","../../scaffold/src/assets/styles/theme.js","../../scaffold/src/App.js","../../scaffold/src/index.js","../../vTeams/src/redux/modules/app.js","../../vTeams/src/redux/reducers.js","../../vTeams/src/redux/modules/formResponses.js","../../vTeams/src/redux/sagas.js","../../vTeams/src/redux/store.js","../../vTeams/src/components/Priority/Priority.jsx","../../vTeams/src/components/TeamsButton/TeamsButton.jsx","../../vTeams/src/components/KnowledgeWidget/KnowledgeWidget.jsx","../../vTeams/globals/globals.js","../../vTeams/src/components/TicketSubmission/TicketSubmission.jsx","../../vTeams/src/components/Home.js","../../vTeams/src/lib/utils.js","../../vTeams/src/components/TicketTable/TicketTable.jsx","../../customUtils/utils.js","../../vTeams/src/components/Dashboard_v2/DashboardV2.jsx","../../vTeams/src/components/Footer/Footer.jsx","../../vTeams/src/components/Activities/Activity/Activity.jsx","../../vTeams/src/components/ClientManagement/modules.js","../../vTeams/src/components/Activities/Activities.jsx","../../vTeams/src/components/CoreTicketView/CoreTicketView.jsx","../../vTeams/src/components/BurndownChart/modules.js","../../vTeams/src/components/BurndownChart/BurndownChart.jsx","../../vTeams/src/components/BurndownFulfiller/BurndownFulfiller.jsx","../../vTeams/src/components/ClientHome/ClientHome.jsx","../../vTeams/src/components/Dashboard/modules.js","../../vTeams/src/components/Dashboard/Dashboard.jsx","../../vTeams/src/components/FormView/FormView.jsx","../../vTeams/src/App.js","../../vTeams/src/index.js","App.js","index.js","../../components/src/index.js","../../vTeams/src/App.scss","assets/images/esolutions_logo_green.svg","assets/images/esolutions_logo_white.svg"],"names":["module","exports","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","noPayload","Utils","withPayload","ns","namespaceBuilder","types","FETCH_ABOUT_REQUEST","FETCH_ABOUT_COMPLETE","actions","fetchAboutRequest","fetchAboutComplete","State","Record","loading","teams","users","AUTH_ROUTES","FETCH_APP_REQUEST","FETCH_APP_SUCCESS","FETCH_APP_FAILURE","FETCH_APP_RESET","FETCH_SPACE_REQUEST","FETCH_SPACE_SUCCESS","FETCH_SPACE_FAILURE","FETCH_KAPPS_REQUEST","FETCH_KAPPS_SUCCESS","FETCH_KAPPS_FAILURE","FETCH_PROFILE_REQUEST","FETCH_PROFILE_SUCCESS","FETCH_PROFILE_FAILURE","FETCH_LOCALE_META_REQUEST","FETCH_LOCALE_META_SUCCESS","FETCH_LOCALE_META_FAILURE","SET_USER_LOCALE","SET_KAPP_SLUG","SET_CORE_VERSION","SET_AUTHENTICATED","fetchApp","fetchAppSuccess","fetchAppFailure","fetchAppReset","fetchSpaceRequest","fetchSpaceSuccess","fetchSpaceFailure","fetchKappsRequest","fetchKappsSuccess","fetchKappsFailure","fetchProfileRequest","fetchProfileSuccess","fetchProfileFailure","fetchLocaleMetaRequest","fetchLocaleMetaSuccess","fetchLocaleMetaFailure","setUserLocale","setKappSlug","setCoreVersion","setAuthenticated","coreVersion","locales","timezones","locale","moment","space","kapp","kapps","List","profile","errors","kappSlug","authenticated","authRedirect","authRoute","FETCH_ALERTS_REQUEST","FETCH_ALERTS_SUCCESS","FETCH_ALERTS_FAILURE","DELETE_ALERT_REQUEST","fetchAlertsRequest","fetchAlertsSuccess","fetchAlertsFailure","deleteAlertRequest","data","error","FETCH_FORM_REQUEST","FETCH_FORM_SUCCESS","FETCH_FORM_FAILURE","fetchFormRequest","fetchFormSuccess","fetchFormFailure","SET_SIZE","SET_SIDEBAR_OPEN","SET_SUPPRESSED_SIDEBAR_OPEN","setSize","setSidebarOpen","setSuppressedSidebarOpen","size","sidebarOpen","suppressedSidebarOpen","UPDATE_PROFILE_REQUEST","UPDATE_PROFILE_SUCCESS","updateProfileRequest","updateProfileSuccess","FETCH_TEAMS_REQUEST","FETCH_TEAMS_SUCCESS","FETCH_TEAMS_FAILURE","FETCH_TEAM_REQUEST","FETCH_TEAM_SUCCESS","FETCH_TEAM_FAILURE","fetchTeamsRequest","fetchTeamsSuccess","fetchTeamsFailure","fetchTeamRequest","fetchTeamSuccess","fetchTeamFailure","roles","team","teamError","about","state","type","payload","set","alerts","app","update","push","find","slug","LOCATION_CHANGE","path","match","matchPath","location","pathname","params","some","r","startsWith","search","parse","invitationToken","value","forms","Map","formSlug","has","setIn","form","deleteIn","layout","filter","name","fetchAboutRequestSaga","watchAbout","all","call","fetchTeams","fetchUsers","teamsError","usersError","addToastAlert","message","put","takeEvery","fetchAlertsRequestSaga","deleteAlertRequestSaga","watchAlerts","ALERTS_SEARCH","SubmissionSearch","eq","index","include","limit","build","searchSubmissions","datastore","submissions","alert","values","isAfter","isBefore","sortBy","createdAt","unix","reverse","action","deleteSubmission","title","addToast","fetchAppTask","fetchKappsTask","fetchSpaceTask","fetchOnlyProfileTask","fetchProfileTask","fetchLocaleMetaTask","setAuthenticatedTask","watchApp","SPACE_INCLUDES","KAPP_INCLUDES","PROFILE_INCLUDES","select","fetchVersion","public","version","semver","satisfies","coerce","isEmpty","enableSearchHistory","getAttributeValue","preferredLocale","importLocale","fetchDefaultLocale","defaultLocale","alertsActions","window","fetchKapps","join","fetchSpace","fetchProfile","fetchLocales","fetchTimezones","fetchFormRequestSaga","watchForms","fetchForm","fetchProfileRequestSaga","updateProfileRequestSaga","watchProfile","fetchUser","username","user","updateProfile","appActions","fetchTeamsRequestSaga","fetchTeamRequestSaga","watchTeams","fetchTeam","teamSlug","sagas","console","log","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","sagaMiddleware","createSagaMiddleware","store","createStore","combineReducers","reducers","router","connectRouter","history","applyMiddleware","routerMiddleware","run","LoginWrapper","children","className","style","backgroundImage","logo","Login","loginProps","useLocation","Helmet","fields","buttons","to","display","flexDirection","password","login","ssoLogin","LoginModal","Modal","isOpen","toggle","logout","backdrop","onClick","ModalBody","ModalFooter","LoginForm","onChangeUsername","onChangePassword","onLogin","onSso","pending","htmlFor","placeholder","onChange","disabled","undefined","onSubmit","ResetPassword","token","useParams","ResetPasswordForm","u","messages","confirmPassword","validations","reset","success","ResetPasswordRequestForm","useState","setPending","setSuccess","setError","setUsername","handleResetRequest","useCallback","a","preventDefault","createSubmission","Username","response","fieldConstraintViolations","target","aria-required","connect","setPassword","setConfirmPassword","confirmBlurred","setConfirmBlurred","handleReset","stringify","axios","request","method","url","bundle","spaceLocation","status","onBlur","CreateAccount","email","CreateAccountForm","firstName","lastName","submit","phoneNumber","comments","RequestAccountForm","defaultEmail","setFirstName","setLastName","setEmail","setPhoneNumber","setComments","Email","Comments","handleLogin","post","j_username","j_password","__bypassAuthInterceptor","apiLocation","displayName","errorMessage","Authentication","loggedIn","timedOut","useEffect","key","component","Layout","sidebar","header","main","classNames","classes","sidebarRef","headerRef","bodyRef","asideRef","mobile","toggleSidebar","resizeAside","toggleAside","asideWidth","closed","closing","open","ref","body","marginRight","flexBasis","onMouseDown","aria-label","stopPropagation","mapDispatchToProps","AlertsDropdown","isSpaceAdmin","spaceAdmin","withState","withHandlers","props","setIsOpen","Dropdown","DropdownToggle","nav","role","alt","DropdownMenu","right","Source","Title","render","translate","dangerouslySetInnerHTML","__html","Content","CreatedAt","selectHasUserAccess","authorization","selectHasTeamAccess","HELP_FORM_CONFIG","confirmationMessage","FEEDBACK_FORM_CONFIG","INVITE_OTHERS_FORM_CONFIG","KITCHEN_SINK_FORM_CONFIG","ProfileDropdown","hasUserAccess","selectors","hasTeamAccess","openHelpForm","openModalForm","openFeedbackForm","openInviteOthersForm","openKitchenSinkForm","previewable","round","GUID_PATTERN","HANDLE_PATTERN","SERVICES_FORM_TYPES","SERVICES_FORM_STATUSES","SERVICES_FORM_FIELDS","SUGGESTION_MAPPERS","label","submission","SUGGESTION_RENDERERS","buildFormQuery","searcher","defineKqlQuery","or","forEach","field","matches","end","statuses","SearchBarComponent","generateDataSources","isHandle","test","isGuid","servicesKapp","fn","fetchForms","q","pageSize","transform","nextPageToken","suggestions","more","fetchSubmission","statusCode","queueKapp","Boolean","completeAnimation","autosuggestRef","current","input","focus","setState","animating","debounce","setTimeout","toggleOpen","toggleClose","focusInput","onBtnFocus","onBtnBlur","event","newValue","onFocus","modal","inline","active","onKeyDown","keyCode","goToAllResults","onSuggestionSelected","suggestion","navigate","blur","leading","trailing","retrieveSuggestions","callback","dataSources","ds","rawResults","i","results","flatMap","sort","b","slice","length","onSuggestionsFetchRequested","reason","short","empty","onSuggestionsFetchCompleted","onSuggestionsClearRequested","renderSuggestion","isHighlighted","Component","renderSuggestionsContainer","containerProps","replace","renderInputComponent","inputProps","React","createRef","this","autosuggest","getSuggestionValue","autoFocus","onSuggestionHighlighted","onHighlight","alwaysRenderSuggestions","SearchBar","selectServicesKapp","selectQueueKapp","Header","alertsDisabled","hideSidebarToggle","URLS","src","aria-hidden","Sidebar","servicesFavoritesEnabled","hasProfileAttributeDefinition","surveyKapp","selectSurveyKapp","techBarKapp","selectTechBarKapp","isSmallLayout","discussionsEnabled","selectDiscussionsEnabled","SidebarLink","matchFn","matchParams","matchExclude","icon","onSidebarAction","kappSettingsList","isKappManageable","QueueApp","settingsRoute","ServicesApp","SurveyApp","selectHasRoleSchedulerAdmin","selectHasRoleSchedulerManager","TechBarApp","buildKappSettingsList","isMemberOf","isKappVisible","UncontrolledDropdown","direction","link","DropdownItem","tag","Link","defineWidthAndOverlap","rawWidth","width","Math","max","min","document","clientWidth","components","DefaultLayout","DefaultSidebar","DefaultHeader","Main","mainContent","shouldHideHeader","shouldHideSidebar","shouldSuppressSidebar","useRef","asideX","setAsideWidth","classList","contains","previousScrollTop","bodyEl","headerEl","handleBodyScroll","scrollTop","headerRects","getClientRects","add","remove","bottom","top","height","addEventListener","passive","removeEventListener","sidebarEl","asideEl","handleResize","el","scrollHeight","clientHeight","parentElement","w","onResizeAside","x","dx","onResizeAsideEnd","clientX","once","PageTitle","selectCurrentKapp","withProps","parts","concat","CommonPageTitle","buildSearch","equals","Constants","REQUESTED_FOR_FIELD","REQUESTED_BY_FIELD","SUBMISSION_FORM_TYPE","ServicesActivity","buildRequestCard","record","getSubmissionPath","requests","prevParams","prevResult","pageToken","chunkSize","result","hidePaging","feedKey","joinByDirection","joinBy","contentProps","emptyMessage","QueueActivity","buildActionCard","Home","CategoryHelper","categories","servicesCategories","featuredCategory","getCategory","rootCategories","getRootCategories","filterNot","c","hidden","featuredServices","allForms","lifecycle","componentDidMount","componentDidUpdate","prevProps","setServicesCategories","visibleKapps","subtitle","hero","image","withCard","center","color","maxHeight","category","countOfMatchingForms","getTotalFormCount","SearchResults","query","includes","encodeURIComponent","TableNameCell","row","tableOptions","get","TableActionsCell","positionFixed","href","rel","Kapp","enhance","filterOpen","setFilterOpen","EmptyBodyRow","TableComponents","generateEmptyBodyRow","loadingMessage","noSearchResultsMessage","noItemsMessage","FilterFormLayout","generateFilterFormLayout","tableKey","uncontrolled","FilterFormButtons","columnSet","defaultSortColumn","defaultSortDirection","addColumns","sortable","BodyCell","alterColumns","updatedAt","TimeAgoCell","StatusBadgeCell","filterSet","onSearch","pagination","table","appliedFilters","filterFormKey","FilterPills","TableLabelCell","SubmittedCell","timestamp","CreatedCell","Submissions","getIn","formLoading","fieldsLayout","breadcrumbs","Modification","menu","submittedAt","coreState","CoreStateBadgeCell","valuesFromQueryParams","queryParams","entries","reduce","vk","Form","isPublic","isEmbedded","embedded","isCrossDomain","cross_domain","content","handleCompleted","currentPage","displayedPage","handleCreated","handleLoaded","handleDelete","context","loaded","completed","layoutComponent","created","Profile","me","departmentEnabled","hasAttributeDefinition","userAttributeDefinitions","department","managerEnabled","manager","organizationEnabled","organization","siteEnabled","site","decodeURIComponent","hideProfileLink","getRoles","getTeams","fieldValuesValid","fieldValues","newPassword","translateProfileToFieldValues","timezone","getProfileAttributeValue","defaultKappDisplay","translateFieldValuesToProfile","updatedProfile","profileAttributesMap","buildProfile","EditProfile","selectVisibleKapps","defaultKappDisplayEnabled","userProfileAttributeDefinitions","attributes","profileAttributes","adminKappSlug","changeManagerFormSlug","handleChangeManagerClick","config","handleFieldChange","setFieldValues","handleTogglePassword","setEditingPassword","editingPassword","handleSubmit","k","CreationForm","Team","heirarchy","buildTeamHierarchy","teamsMap","memo","item","userIsMember","parent","subteams","openRequestToJoinForm","openRequestToLeaveForm","openDiscussions","setViewDiscussionsModal","closeDiscussions","creationFields","description","owningTeams","viewDiscussionsModal","bar","barColor","barIcon","getIcon","memberships","m","subteam","close","itemType","itemKey","TeamsNavigation","componentWillMount","exact","Teams","ErrorNotFound","openRequestNewTeam","emptyTitle","About","scope","PopConfirm","Popover","placement","PopoverHeader","PopoverBody","AlertRow","canEdit","toggleDeleteConfirm","openDeleteConfirm","setOpenDeleteConfirm","alertId","URL","Button","WallyEmptyMessage","Alerts","spaceAdminAlerts","selectedAlert","Alert","spaceName","alertsFormSlug","handleCreateOrUpdate","editing","submissionId","updated","mapStateToProps","App","SettingsApp","default","PublicApp","AppProvider","duration","appState","hasPublicRoutes","syncAppState","dispatch","VALID_STATUSES","VALID_SORT_OPTIONS","VALID_SORT_DIRECTION_OPTIONS","VALID_ASSIGNMENT_OPTIONS","AssignmentCriteria","mine","teammates","unassigned","DateRangeCriteria","timeline","preset","custom","start","Filter","sortDirection","assignments","dateRange","createdByMe","filterReviver","filterJSON","JSON","isarray","isobject","assignmentCriteria","assignmentCriteriaMapper","FETCH_APP_DATA_REQUEST","FETCH_APP_DATA_SUCCESS","FETCH_APP_DATA_FAILURE","ADD_PERSONAL_FILTER","UPDATE_PERSONAL_FILTER","REMOVE_PERSONAL_FILTER","fetchAppDataRequest","fetchAppDataSuccess","addPersonalFilter","updatePersonalFilter","removePersonalFilter","ADHOC_PATH","DEFAULT_LIST_PATH","TEAM_LIST_PATH","CUSTOM_LIST_PATH","getFilterByPath","findByName","adhocMatch","defaultListMatch","teamListMatch","customListMatch","queue","adhocFilter","queueApp","filters","filterName","teamFilters","myFilters","selectMyTeamForms","f","owningTeam","myTeams","toSet","intersect","Set","selectAssignmentTeams","allTeams","queueItem","filteredTeams","disallowReassignment","assignableTeams","getAttributeValues","mapTeamsToAssignments","selectAssignments","bulkWorkEnabled","FETCH_LIST_REQUEST","FETCH_LIST_SUCCESS","FETCH_LIST_FAILURE","FETCH_LIST_PREVIOUS","FETCH_LIST_NEXT","FETCH_LIST_RESET","UPDATE_LIST_LIMIT","FETCH_LIST_COUNT_REQUEST","FETCH_LIST_COUNT_SUCCESS","FETCH_CURRENT_ITEM","SET_CURRENT_ITEM","UPDATE_QUEUE_ITEM","SET_ADHOC_FILTER","OPEN_NEW_MENU","CLOSE_NEW_MENU","TOGGLE_SELECTION_MODE","TOGGLE_SELECTED_ITEM","BULK_ASSIGN_REQUEST","BULK_ASSIGN_COMPLETE","BULK_WORK_REQUEST","BULK_WORK_COMPLETE","BULK_STATUS_UPDATE","BULK_STATUS_RESET","fetchListRequest","fetchListSuccess","fetchListFailure","fetchListPrevious","fetchListNext","fetchListReset","updateListLimit","fetchListCountRequest","fetchListCountSuccess","fetchCurrentItem","setCurrentItem","updateQueueItem","setAdhocFilter","openNewItemMenu","closeNewItemMenu","toggleSelectionMode","toggleSelectedItem","bulkAssignRequest","bulkAssignComplete","bulkWorkRequest","bulkWorkComplete","bulkStatusUpdate","bulkStatusReset","currentFilter","paging","previousPageTokens","hasPreviousPage","hasNextPage","pageIndexStart","pageIndexEnd","counts","currentItem","currentItemLoading","newItemMenuOpen","newItemMenuOptions","selectedList","bulkStatus","updatePageMetadata","updateSelectedItems","shift","lastItem","_lastSelectedItem","lastIndex","findIndex","d","currentIndex","isAdd","Array","abs","fill","v","list","dataItem","initialFilter","setFilterName","showSection","section","toggleAssignment","toggleCreatedByMe","toggleTeam","toggleStatus","setDateRangeTimeline","setDateRange","setSortedBy","setDirection","defaultState","activeSection","namespace","OPEN_WORK_MENU","CLOSE_WORK_MENU","openWorkMenu","onWorked","closeWorkMenu","UPDATE_QUEUE_SETTINGS","UPDATE_QUEUE_SETTINGS_ERROR","FETCH_QUEUE_SETTINGS","FETCH_QUEUE_SETTINGS_SPACE","FETCH_QUEUE_SETTINGS_TEAMS","SET_QUEUE_SETTINGS","SET_QUEUE_SETTINGS_SPACE","SET_QUEUE_SETTINGS_TEAMS","FETCH_QUEUE_SETTINGS_USERS","SET_QUEUE_SETTINGS_USERS","FETCH_NOTIFICATIONS","SET_NOTIFICATIONS","FETCH_FORM","SET_FORM","updateQueueSettings","updateQueueSettingsError","fetchQueueSettings","fetchQueueSettingsSpace","fetchQueueSettingsTeams","fetchQueueSettingsUsers","setQueueSettings","setQueueSettingsSpace","setQueueSettingsTeams","setQueueSettingsUsers","fetchNotifications","setNotifications","setForm","queueSettingsKapp","loadingTeams","loadingUsers","loadingSpace","loadingForm","spaceKapps","notifications","notificationsLoading","FORM_INCLUDES","FORM_FULL_INCLUDES","FormConfig","columns","ColumnConfig","visible","SUBMISSION_SYSTEM_PROPS","SET_QUEUE_FORM","UPDATE_QUEUE_FORM","CREATE_FORM","FETCH_FORM_SUBMISSIONS","SET_FORM_SUBMISSIONS","FETCH_FORM_SUBMISSION","SET_FORM_SUBMISSION","FETCH_KAPP","SET_KAPP","SET_FORMS_ERROR","SET_CLIENT_SORT_INFO","FETCH_ALL_SUBMISSIONS","SET_EXPORT_SUBMISSIONS","SET_EXPORT_COUNT","OPEN_MODAL","CLOSE_MODAL","SET_DOWNLOADED","DELETE_FORM_REQUEST","DELETE_FORM_COMPLETE","CLONE_FORM_REQUEST","CLONE_FORM_COMPLETE","updateForm","createForm","fetchFormSubmissions","setFormSubmissions","fetchFormSubmission","setFormSubmission","fetchKapp","setKapp","setFormsError","setClientSortInfo","fetchAllSubmissions","setExportSubmissions","setExportCount","openModal","closeModal","setDownloaded","deleteFormRequest","deleteFormComplete","cloneFormRequest","cloneFormComplete","buildFormConfigurationObject","parsedConfig","json","parsed","parseFormConfigurationJson","attributesMap","defaultColumnConfig","indexA","sc","indexB","merge","dc","saved","sortSubmissions","sortInfo","localeCompare","currentForm","currentFormChanges","kappLoading","currentFormSubmissions","submissionsLoading","submissionLoading","formSubmission","submissionColumns","clientSortInfo","modalIsOpen","modalName","exportSubmissions","exportCount","downloaded","processing","object","constants","categorizations","FETCH_FORMS_REQUEST","FETCH_FORMS_SUCCESS","FETCH_FORMS_FAILURE","fetchFormsRequest","fetchFormsSuccess","fetchFormsFailure","newState","layoutSize","ready","is","last","pop","count","isArray","items","OrderedMap","toList","toJS","updateIn","filterMenu","indexOf","mergeIn","workMenu","queueSettings","settingsForms","newForm","cloneFormSlug","fetchAppSettingsTask","updatePersonalFilterTask","isAssignable","assignable","toUpperCase","Assignable","formsError","fetchAppDataFailure","membership","getProfileAttributeValues","appSettings","actionText","severity","takeLatest","fetchListTask","fetchListCountTask","fetchCurrentItemTask","updateQueueItemTask","bulkAssignTask","updateBulkSubmission","bulkWorkTask","submitBulkSubmission","watchQueue","SUBMISSION_INCLUDES","SUBMISSION_LIST_INCLUDES","searcherParams","invalidAssignment","first","between","toISOString","numberOfDays","parseInt","warn","greaterThan","startOf","subtract","orderBy","setListItems","countPageToken","updateSubmission","isFunction","onSuccess","assignment","delay","page","submitSubmission","fetchFormsSaga","fetchQueueSettingsSaga","fetchTeamsSaga","fetchUsersSaga","fetchSpaceSaga","updateQueueSettingsSaga","fetchNotificationsSaga","fetchFormSaga","watchSettingsQueue","manage","manageableForms","manageableFormsSlugs","canManage","constructor","updateKapp","addError","updateServicesSettingsError","addSuccess","refreshApp","cloneFormSaga","fetchFormSubmissionsSaga","fetchFormSubmissionSaga","fetchKappSaga","updateFormSaga","createFormSaga","fetchAllSubmissionsSaga","deleteFormSaga","watchSettingsForms","cloneError","cloneForm","bridgedResources","customHeadContent","pages","securityPolicies","searchBuilder","formAttributeDefinitions","allowsMultiple","inputs","formContent","Slug","Name","Description","Status","Type","createdForm","accumulator","startDate","endDate","deleteForm","watchQueueApp","sagaMiddlware","createReduxHistoryContext","createReduxHistory","routerReducer","connectedHistory","reachify","createContext","mergeProps","options","connectRedux","settings","ViewOriginalRequest","originId","origin","margin","review","AssignmentBadge","readOnly","tabIndex","charAt","getStatusReason","Resolution","StatusBadge","withReason","StatusContent","prev","next","ButtonGroup","SelectionToggle","checked","AssignmentParagraph","Timestamp","DueOrCloseDate","closedAt","QueueListItemSmall","selectionMode","selected","selectionDisabled","toggleSelection","createdBy","updatedBy","handle","fontSize","selection","shiftKey","QueueCardTimestamp","QueueCard","AssignmentItem","AssignmentSelector","handleSelect","bind","handleChange","handleMenuVisible","onSelect","byTeams","acc","wrapperStyle","menuStyle","getItemValue","shouldItemRender","renderItem","renderMenu","onMenuVisibilityChange","queueActions","WallyButtonContainer","buttonMode","handleClick","onGrabbed","getAttr","attrName","attrConfig","attribute","setOffset","fetchList","fetchListCount","fetchNextPage","fetchPreviousPage","QueueItemDetailsContainer","defaultFilters","currentPageData","prohibit","permitted","prohibitSubtasks","permittedSubtasks","split","refetchCounts","toggleCurrentTab","tab","setCurrentTab","toggleAssigning","setIsAssigning","isAssigning","setAssignment","_v","teamParts","parentId","refreshQueueItem","isList","goToPreviousItem","goToNextItem","onDiscussionCreated","currentTab","unreadDiscussionsContainerRef","Details","nonQueueLink","queueLink","aria-controls","aria-selected","aria-labelledby","child","withAside","overrideClassName","onCreated","renderDiscussionsListHeader","handleCreateDiscussionClick","Fragment","relateOriginatingRequest","QueueItemContainer","appLocation","owningUsers","discussion","createRelatedItem","componentWillUnmount","Summary","aria","meta","ASSIGNMENT_LABELS","SORT_OPTIONS","SORT_DIRECTIONS","formatTimeline","formatDate","date","format","summarizeDateRange","range","formatPreset","validateDateRange","validateFilterName","showing","trim","FilterCheckbox","FilterRadio","show","resetFilter","FilterMenuAbstract","hasTeams","applyFilter","isImmutable","toggleShowing","persistChanges","changeTimeline","changeSortedBy","changeDirection","changeFilterName","toggleDirection","dir","clearTeams","clearAssignments","clearStatus","clearDateRange","checkFilterName","saveFilter","removeFilter","assignmentFilters","toSeq","valueSeq","createdByMeFilter","statusFilters","dateRangeFilters","allowNone","sortedByOptions","sortDirectionOptions","saveFilterOptions","currentTeamSummary","currentAssignmentSummary","currentStatusSummary","currentDateRangeSummary","currentSortedBySummary","currentCreatedByMeChecked","currentFilterName","dateRangeError","filterNameError","saveMessages","teamSummary","assignmentSummary","statusSummary","dateRangeSummary","sortedBySummary","dirty","apply","openFilterMenu","formatCount","QueueListSidebar","toMap","mapEntries","hasForms","showCreateNew","decodeURI","Nav","NavItem","Menu","setActiveFromChild","renderButton","renderContent","renderContentFn","validation","resetLabel","applyLabel","MenuButton","ClearButton","UncontrolledTooltip","DirectionButton","FilterMenuToolbar","refresh","showFilterMenu","filtersDropdownOpen","setFiltersDropdownOpen","toggleFiltersDropdown","popoverProps","caret","edited","btnProps","FilterMenuModal","setVisible","toggleFilterModal","openConfirm","actionName","ok","summary","FilterListItem","FilterListCheckbox","pointerEvents","FilterItemSection","msg","PAGE_SIZES","previousPage","nextPage","QueueListPagination","isMobile","handlePrevious","handleNext","changeSelectionMode","n","BulkAssignModal","submitAssignment","BulkWorkModal","setKineticForm","submitWork","kineticForm","validate","submitPage","serialize","onLoaded","BulkStatusModal","handleKeepSelectionChange","setKeepSelection","itemsToKeep","keepSelection","progressValue","progressMax","keyboard","correlationId","Progress","multi","animated","bulkAssign","bulkWork","QueueListSelection","addProps","assignUnavailable","assignTooltip","workHidden","workUnavailable","workTooltip","teamsPerUniqueItem","every","assignmentTeams","at","teamString","iter","selectedForm","toggleAssign","setAction","toggleWork","handleAssignSubmit","handleWorkSubmit","trigger","QueueEmptyMessage","QueueErrorMessage","QueueBadFilterMessage","resetList","QueueListContainer","isDesktop","filterValidations","handleRefresh","queueListRef","setQueueListRef","scrollToTop","loadFilter","showPagination","FormList","myTeamForms","handleFormClick","AssignmentList","FormsBackButton","AssignmentBackButton","handleAssignmentClick","currentAssignment","NewItemMenuContainer","assignmentType","assignmentRequired","toLowerCase","setCurrentForm","handleSave","kForm","setKForm","handleClosed","_value","onFormLoaded","stop","onExit","WorkMenuContainer","mode","handleUpdated","setComplete","handleSaveClick","handleCloseClick","complete","onUpdated","onCompleted","fieldSet","FormLayout","asArray","notificationSearch","QueueSettings","currentKapp","reloadApp","onSave","addDataSources","addFields","helpText","initialValue","FormComponents","IconField","renderAttributes","typeahead","notification","NotificationField","alterFields","Icon","initialized","ActionsCell","toggleModal","refetchTable","FormNameCell","bindings","FormButtons","submitting","LoadingFormLayout","CloneErrorFormLayout","modalOpen","setModalOpen","confirmationText","confirmationTextLabel","mountTable","unmountTable","noItemsLinkTo","noItemsLinkToMessage","alterFilters","formTypes","TextAreaField","isClone","FieldsTableField","onDragEnd","source","destination","cols","col","insert","droppableId","provided","innerRef","draggableId","snapshot","draggableProps","dragHandleProps","isDragging","colSpan","FormSettings","FormActivity","activityLoading","submissionActivityLoading","valueOf","humanize","submittedBy","closedBy","activities","activity","Export","submissionsCount","handleDownload","Date","setExportStatus","componentWillReceiveProps","nextProps","csv","papaparse","unparse","submissionValues","hasOwnProperty","downloadjs","exportStatus","filterLabel","ExportModal","padding","LinkCell","FormSubmissions","visibleSortColumns","sortField","visibleColumns","valueTransform","_","alter","properties","FormSettingsWrapper","formActions","Settings","SettingsNavigation","SettingsCard","barSize","FormPreview","hasPreviewAccess","setFormName","formName","noThrow","CustomRedirect","setFilter","formsActions","handleOpenNewItemMenu","from","unsubscribe","subscribe","getState","hashRouting","bodyClassName","ComponentWrapper","sx","elevation","Box","mt","styles","background","backgroundColor","borderRadius","componentList","h1","textAlign","marginTop","divider","marginBottom","useSelector","createSelectorHook","useDispatch","createDispatchHook","CustomCheckbox","element","setSelected","toggleSelected","currentTarget","Typography","variant","FormGroup","choices","choice","FormControlLabel","control","Checkbox","CustomDropdown","setSelection","FormControl","minWidth","InputLabel","Select","labelId","val","MenuItem","CustomSectionHeader","level","depth","Tag","CustomText","text","ListPicker","setValue","multiple","required","renderInput","TextField","CustomHTML","CustomRadio","RadioGroup","defaultValue","Radio","CustomSubmit","CustomDate","today","InputLabelProps","shrink","CustomDivider","Divider","CustomTextInput","pickComponent","renderType","ComponentList","formValues","formJson","setFormJson","getFormElements","elements","err","Paper","random","theme","createTheme","palette","primary","secondary","ThemeProvider","renderForm","Priority","TeamsButton","mySx","bgColorPrimary","colorWhite","bgColorLight","boxShadow","linkpath","KnowledgeWidget","setOpen","widgetOpen","iconConfig","left","cursor","opacity","transition","position","article","VTEAMS","FORM_FIELDS","TicketSubmission","ticket","num","onError","number","isFulfiller","userProfile","mem","getPaginated","opts","TicketTable","rows","createBtn","viewAllBtn","fulfiller","re","RegExp","filteredRows","flex","renderCell","Attachments","arr","valueGetter","colOrder","filteredColumns","exclude","SearchNormal1","fontMedium","flexGrow","DataGrid","onRowClick","bgcolor","borderTop","borderTopLeftRadius","borderTopRightRadius","density","parseSubsToTablegrid","cs","rs","headerName","sub","vals","ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","Tooltip","Legend","Footer","Activity","time","hours","isInternal","Activities","setActivities","commentText","setCommentText","hoursSpent","setHoursSpent","reFetch","setReFetch","internalMode","setInternalMode","ticketOrg","setTicketOrg","workLogChecked","setWorkLogChecked","textareaClasses","internalComments","fetchActivities","IS_WORK_LOG","HOURS_WORKED","Comment","Commenter","Organization","CoreTicketView","setSubmission","substr","BurndownFulfiller","setData","clientInfo","hash","org","Number","workLogs","fetchBurndownInfo","ClientHome","rowData","setRowData","getSubmissions","FormView","formId","THEME","typography","fontFamily","fontWeightLight","fontWeightRegular","fontWeightMedium","WebFont","load","google","families","BUNDLE_PACKAGE_PROVIDERS","services","survey","scaffold","Scaffold","vTeams","VTeams","STATIC_PACKAGE_PROVIDERS","DiscussionsApp","loadApp","loadProfile","getLocation","provider","getAppProvider","refreshProfile","toObject","bundleName","appProps","globals","ConnectedKineticLib","KineticLib","ReactDOM","defaults","coreForm","CoreFormComponents","authProps","getElementById","matchMedia","mql","addListener","layoutActions"],"mappings":"qJACAA,EAAOC,QAAU,CAAC,eAAiB,UAAU,aAAe,UAAU,iBAAmB,UAAU,WAAa,OAAO,gBAAgB,oBAAoB,UAAY,OAAO,WAAa,OAAO,UAAY,S,qBCD9M,IAAIC,EAAM,CACT,OAAQ,CACP,KACA,GAED,UAAW,CACV,KACA,GAED,OAAQ,CACP,KACA,GAED,UAAW,CACV,KACA,GAED,aAAc,CACb,KACA,GAED,UAAW,CACV,KACA,GAED,aAAc,CACb,KACA,GAED,UAAW,CACV,KACA,GAED,aAAc,CACb,KACA,GAED,UAAW,CACV,KACA,GAED,aAAc,CACb,KACA,GAED,UAAW,CACV,KACA,GAED,aAAc,CACb,KACA,GAED,UAAW,CACV,KACA,GAED,aAAc,CACb,KACA,GAED,UAAW,CACV,KACA,GAED,OAAQ,CACP,KACA,GAED,UAAW,CACV,KACA,GAED,OAAQ,CACP,KACA,GAED,UAAW,CACV,KACA,GAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,QAAS,CACR,KACA,IAED,WAAY,CACX,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,gBAAiB,CAChB,KACA,IAED,aAAc,CACb,KACA,IAED,gBAAiB,CAChB,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,WAAY,CACX,KACA,IAED,cAAe,CACd,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,aAAc,CACb,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,IAED,UAAW,CACV,KACA,IAED,OAAQ,CACP,KACA,KAED,UAAW,CACV,KACA,KAED,OAAQ,CACP,KACA,KAED,UAAW,CACV,KACA,KAED,OAAQ,CACP,KACA,KAED,UAAW,CACV,KACA,KAED,OAAQ,CACP,KACA,KAED,UAAW,CACV,KACA,KAED,OAAQ,CACP,KACA,KAED,YAAa,CACZ,KACA,KAED,eAAgB,CACf,KACA,KAED,UAAW,CACV,KACA,KAED,OAAQ,CACP,KACA,KAED,UAAW,CACV,KACA,KAED,OAAQ,CACP,KACA,KAED,UAAW,CACV,KACA,KAED,OAAQ,CACP,KACA,KAED,UAAW,CACV,KACA,KAED,OAAQ,CACP,KACA,KAED,UAAW,CACV,KACA,KAED,OAAQ,CACP,KACA,KAED,UAAW,CACV,KACA,KAED,QAAS,CACR,KACA,KAED,WAAY,CACX,KACA,KAED,OAAQ,CACP,KACA,KAED,UAAW,CACV,KACA,KAED,OAAQ,CACP,KACA,KAED,UAAW,CACV,KACA,KAED,OAAQ,CACP,KACA,KAED,UAAW,CACV,KACA,KAED,UAAW,CACV,KACA,KAED,aAAc,CACb,KACA,KAED,QAAS,CACR,KACA,KAED,WAA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","file":"static/js/main.db923f9a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","var map = {\n\t\"./af\": [\n\t\t1016,\n\t\t0\n\t],\n\t\"./af.js\": [\n\t\t1016,\n\t\t0\n\t],\n\t\"./ar\": [\n\t\t1023,\n\t\t7\n\t],\n\t\"./ar-dz\": [\n\t\t1017,\n\t\t1\n\t],\n\t\"./ar-dz.js\": [\n\t\t1017,\n\t\t1\n\t],\n\t\"./ar-kw\": [\n\t\t1018,\n\t\t2\n\t],\n\t\"./ar-kw.js\": [\n\t\t1018,\n\t\t2\n\t],\n\t\"./ar-ly\": [\n\t\t1019,\n\t\t3\n\t],\n\t\"./ar-ly.js\": [\n\t\t1019,\n\t\t3\n\t],\n\t\"./ar-ma\": [\n\t\t1020,\n\t\t4\n\t],\n\t\"./ar-ma.js\": [\n\t\t1020,\n\t\t4\n\t],\n\t\"./ar-sa\": [\n\t\t1021,\n\t\t5\n\t],\n\t\"./ar-sa.js\": [\n\t\t1021,\n\t\t5\n\t],\n\t\"./ar-tn\": [\n\t\t1022,\n\t\t6\n\t],\n\t\"./ar-tn.js\": [\n\t\t1022,\n\t\t6\n\t],\n\t\"./ar.js\": [\n\t\t1023,\n\t\t7\n\t],\n\t\"./az\": [\n\t\t1024,\n\t\t8\n\t],\n\t\"./az.js\": [\n\t\t1024,\n\t\t8\n\t],\n\t\"./be\": [\n\t\t1025,\n\t\t9\n\t],\n\t\"./be.js\": [\n\t\t1025,\n\t\t9\n\t],\n\t\"./bg\": [\n\t\t1026,\n\t\t10\n\t],\n\t\"./bg.js\": [\n\t\t1026,\n\t\t10\n\t],\n\t\"./bm\": [\n\t\t1027,\n\t\t11\n\t],\n\t\"./bm.js\": [\n\t\t1027,\n\t\t11\n\t],\n\t\"./bn\": [\n\t\t1028,\n\t\t12\n\t],\n\t\"./bn.js\": [\n\t\t1028,\n\t\t12\n\t],\n\t\"./bo\": [\n\t\t1029,\n\t\t13\n\t],\n\t\"./bo.js\": [\n\t\t1029,\n\t\t13\n\t],\n\t\"./br\": [\n\t\t1030,\n\t\t14\n\t],\n\t\"./br.js\": [\n\t\t1030,\n\t\t14\n\t],\n\t\"./bs\": [\n\t\t1031,\n\t\t15\n\t],\n\t\"./bs.js\": [\n\t\t1031,\n\t\t15\n\t],\n\t\"./ca\": [\n\t\t1032,\n\t\t16\n\t],\n\t\"./ca.js\": [\n\t\t1032,\n\t\t16\n\t],\n\t\"./cs\": [\n\t\t1033,\n\t\t17\n\t],\n\t\"./cs.js\": [\n\t\t1033,\n\t\t17\n\t],\n\t\"./cv\": [\n\t\t1034,\n\t\t18\n\t],\n\t\"./cv.js\": [\n\t\t1034,\n\t\t18\n\t],\n\t\"./cy\": [\n\t\t1035,\n\t\t19\n\t],\n\t\"./cy.js\": [\n\t\t1035,\n\t\t19\n\t],\n\t\"./da\": [\n\t\t1036,\n\t\t20\n\t],\n\t\"./da.js\": [\n\t\t1036,\n\t\t20\n\t],\n\t\"./de\": [\n\t\t1039,\n\t\t23\n\t],\n\t\"./de-at\": [\n\t\t1037,\n\t\t21\n\t],\n\t\"./de-at.js\": [\n\t\t1037,\n\t\t21\n\t],\n\t\"./de-ch\": [\n\t\t1038,\n\t\t22\n\t],\n\t\"./de-ch.js\": [\n\t\t1038,\n\t\t22\n\t],\n\t\"./de.js\": [\n\t\t1039,\n\t\t23\n\t],\n\t\"./dv\": [\n\t\t1040,\n\t\t24\n\t],\n\t\"./dv.js\": [\n\t\t1040,\n\t\t24\n\t],\n\t\"./el\": [\n\t\t1041,\n\t\t25\n\t],\n\t\"./el.js\": [\n\t\t1041,\n\t\t25\n\t],\n\t\"./en-au\": [\n\t\t1042,\n\t\t26\n\t],\n\t\"./en-au.js\": [\n\t\t1042,\n\t\t26\n\t],\n\t\"./en-ca\": [\n\t\t1043,\n\t\t27\n\t],\n\t\"./en-ca.js\": [\n\t\t1043,\n\t\t27\n\t],\n\t\"./en-gb\": [\n\t\t1044,\n\t\t28\n\t],\n\t\"./en-gb.js\": [\n\t\t1044,\n\t\t28\n\t],\n\t\"./en-ie\": [\n\t\t1045,\n\t\t29\n\t],\n\t\"./en-ie.js\": [\n\t\t1045,\n\t\t29\n\t],\n\t\"./en-il\": [\n\t\t1046,\n\t\t30\n\t],\n\t\"./en-il.js\": [\n\t\t1046,\n\t\t30\n\t],\n\t\"./en-in\": [\n\t\t1047,\n\t\t31\n\t],\n\t\"./en-in.js\": [\n\t\t1047,\n\t\t31\n\t],\n\t\"./en-nz\": [\n\t\t1048,\n\t\t32\n\t],\n\t\"./en-nz.js\": [\n\t\t1048,\n\t\t32\n\t],\n\t\"./en-sg\": [\n\t\t1049,\n\t\t33\n\t],\n\t\"./en-sg.js\": [\n\t\t1049,\n\t\t33\n\t],\n\t\"./eo\": [\n\t\t1050,\n\t\t34\n\t],\n\t\"./eo.js\": [\n\t\t1050,\n\t\t34\n\t],\n\t\"./es\": [\n\t\t1053,\n\t\t37\n\t],\n\t\"./es-do\": [\n\t\t1051,\n\t\t35\n\t],\n\t\"./es-do.js\": [\n\t\t1051,\n\t\t35\n\t],\n\t\"./es-us\": [\n\t\t1052,\n\t\t36\n\t],\n\t\"./es-us.js\": [\n\t\t1052,\n\t\t36\n\t],\n\t\"./es.js\": [\n\t\t1053,\n\t\t37\n\t],\n\t\"./et\": [\n\t\t1054,\n\t\t38\n\t],\n\t\"./et.js\": [\n\t\t1054,\n\t\t38\n\t],\n\t\"./eu\": [\n\t\t1055,\n\t\t39\n\t],\n\t\"./eu.js\": [\n\t\t1055,\n\t\t39\n\t],\n\t\"./fa\": [\n\t\t1056,\n\t\t40\n\t],\n\t\"./fa.js\": [\n\t\t1056,\n\t\t40\n\t],\n\t\"./fi\": [\n\t\t1057,\n\t\t41\n\t],\n\t\"./fi.js\": [\n\t\t1057,\n\t\t41\n\t],\n\t\"./fil\": [\n\t\t1058,\n\t\t42\n\t],\n\t\"./fil.js\": [\n\t\t1058,\n\t\t42\n\t],\n\t\"./fo\": [\n\t\t1059,\n\t\t43\n\t],\n\t\"./fo.js\": [\n\t\t1059,\n\t\t43\n\t],\n\t\"./fr\": [\n\t\t1062,\n\t\t46\n\t],\n\t\"./fr-ca\": [\n\t\t1060,\n\t\t44\n\t],\n\t\"./fr-ca.js\": [\n\t\t1060,\n\t\t44\n\t],\n\t\"./fr-ch\": [\n\t\t1061,\n\t\t45\n\t],\n\t\"./fr-ch.js\": [\n\t\t1061,\n\t\t45\n\t],\n\t\"./fr.js\": [\n\t\t1062,\n\t\t46\n\t],\n\t\"./fy\": [\n\t\t1063,\n\t\t47\n\t],\n\t\"./fy.js\": [\n\t\t1063,\n\t\t47\n\t],\n\t\"./ga\": [\n\t\t1064,\n\t\t48\n\t],\n\t\"./ga.js\": [\n\t\t1064,\n\t\t48\n\t],\n\t\"./gd\": [\n\t\t1065,\n\t\t49\n\t],\n\t\"./gd.js\": [\n\t\t1065,\n\t\t49\n\t],\n\t\"./gl\": [\n\t\t1066,\n\t\t50\n\t],\n\t\"./gl.js\": [\n\t\t1066,\n\t\t50\n\t],\n\t\"./gom-deva\": [\n\t\t1067,\n\t\t51\n\t],\n\t\"./gom-deva.js\": [\n\t\t1067,\n\t\t51\n\t],\n\t\"./gom-latn\": [\n\t\t1068,\n\t\t52\n\t],\n\t\"./gom-latn.js\": [\n\t\t1068,\n\t\t52\n\t],\n\t\"./gu\": [\n\t\t1069,\n\t\t53\n\t],\n\t\"./gu.js\": [\n\t\t1069,\n\t\t53\n\t],\n\t\"./he\": [\n\t\t1070,\n\t\t54\n\t],\n\t\"./he.js\": [\n\t\t1070,\n\t\t54\n\t],\n\t\"./hi\": [\n\t\t1071,\n\t\t55\n\t],\n\t\"./hi.js\": [\n\t\t1071,\n\t\t55\n\t],\n\t\"./hr\": [\n\t\t1072,\n\t\t56\n\t],\n\t\"./hr.js\": [\n\t\t1072,\n\t\t56\n\t],\n\t\"./hu\": [\n\t\t1073,\n\t\t57\n\t],\n\t\"./hu.js\": [\n\t\t1073,\n\t\t57\n\t],\n\t\"./hy-am\": [\n\t\t1074,\n\t\t58\n\t],\n\t\"./hy-am.js\": [\n\t\t1074,\n\t\t58\n\t],\n\t\"./id\": [\n\t\t1075,\n\t\t59\n\t],\n\t\"./id.js\": [\n\t\t1075,\n\t\t59\n\t],\n\t\"./is\": [\n\t\t1076,\n\t\t60\n\t],\n\t\"./is.js\": [\n\t\t1076,\n\t\t60\n\t],\n\t\"./it\": [\n\t\t1078,\n\t\t62\n\t],\n\t\"./it-ch\": [\n\t\t1077,\n\t\t61\n\t],\n\t\"./it-ch.js\": [\n\t\t1077,\n\t\t61\n\t],\n\t\"./it.js\": [\n\t\t1078,\n\t\t62\n\t],\n\t\"./ja\": [\n\t\t1079,\n\t\t63\n\t],\n\t\"./ja.js\": [\n\t\t1079,\n\t\t63\n\t],\n\t\"./jv\": [\n\t\t1080,\n\t\t64\n\t],\n\t\"./jv.js\": [\n\t\t1080,\n\t\t64\n\t],\n\t\"./ka\": [\n\t\t1081,\n\t\t65\n\t],\n\t\"./ka.js\": [\n\t\t1081,\n\t\t65\n\t],\n\t\"./kk\": [\n\t\t1082,\n\t\t66\n\t],\n\t\"./kk.js\": [\n\t\t1082,\n\t\t66\n\t],\n\t\"./km\": [\n\t\t1083,\n\t\t67\n\t],\n\t\"./km.js\": [\n\t\t1083,\n\t\t67\n\t],\n\t\"./kn\": [\n\t\t1084,\n\t\t68\n\t],\n\t\"./kn.js\": [\n\t\t1084,\n\t\t68\n\t],\n\t\"./ko\": [\n\t\t1085,\n\t\t69\n\t],\n\t\"./ko.js\": [\n\t\t1085,\n\t\t69\n\t],\n\t\"./ku\": [\n\t\t1086,\n\t\t70\n\t],\n\t\"./ku.js\": [\n\t\t1086,\n\t\t70\n\t],\n\t\"./ky\": [\n\t\t1087,\n\t\t71\n\t],\n\t\"./ky.js\": [\n\t\t1087,\n\t\t71\n\t],\n\t\"./lb\": [\n\t\t1088,\n\t\t72\n\t],\n\t\"./lb.js\": [\n\t\t1088,\n\t\t72\n\t],\n\t\"./lo\": [\n\t\t1089,\n\t\t73\n\t],\n\t\"./lo.js\": [\n\t\t1089,\n\t\t73\n\t],\n\t\"./lt\": [\n\t\t1090,\n\t\t74\n\t],\n\t\"./lt.js\": [\n\t\t1090,\n\t\t74\n\t],\n\t\"./lv\": [\n\t\t1091,\n\t\t75\n\t],\n\t\"./lv.js\": [\n\t\t1091,\n\t\t75\n\t],\n\t\"./me\": [\n\t\t1092,\n\t\t76\n\t],\n\t\"./me.js\": [\n\t\t1092,\n\t\t76\n\t],\n\t\"./mi\": [\n\t\t1093,\n\t\t77\n\t],\n\t\"./mi.js\": [\n\t\t1093,\n\t\t77\n\t],\n\t\"./mk\": [\n\t\t1094,\n\t\t78\n\t],\n\t\"./mk.js\": [\n\t\t1094,\n\t\t78\n\t],\n\t\"./ml\": [\n\t\t1095,\n\t\t79\n\t],\n\t\"./ml.js\": [\n\t\t1095,\n\t\t79\n\t],\n\t\"./mn\": [\n\t\t1096,\n\t\t80\n\t],\n\t\"./mn.js\": [\n\t\t1096,\n\t\t80\n\t],\n\t\"./mr\": [\n\t\t1097,\n\t\t81\n\t],\n\t\"./mr.js\": [\n\t\t1097,\n\t\t81\n\t],\n\t\"./ms\": [\n\t\t1099,\n\t\t83\n\t],\n\t\"./ms-my\": [\n\t\t1098,\n\t\t82\n\t],\n\t\"./ms-my.js\": [\n\t\t1098,\n\t\t82\n\t],\n\t\"./ms.js\": [\n\t\t1099,\n\t\t83\n\t],\n\t\"./mt\": [\n\t\t1100,\n\t\t84\n\t],\n\t\"./mt.js\": [\n\t\t1100,\n\t\t84\n\t],\n\t\"./my\": [\n\t\t1101,\n\t\t85\n\t],\n\t\"./my.js\": [\n\t\t1101,\n\t\t85\n\t],\n\t\"./nb\": [\n\t\t1102,\n\t\t86\n\t],\n\t\"./nb.js\": [\n\t\t1102,\n\t\t86\n\t],\n\t\"./ne\": [\n\t\t1103,\n\t\t87\n\t],\n\t\"./ne.js\": [\n\t\t1103,\n\t\t87\n\t],\n\t\"./nl\": [\n\t\t1105,\n\t\t89\n\t],\n\t\"./nl-be\": [\n\t\t1104,\n\t\t88\n\t],\n\t\"./nl-be.js\": [\n\t\t1104,\n\t\t88\n\t],\n\t\"./nl.js\": [\n\t\t1105,\n\t\t89\n\t],\n\t\"./nn\": [\n\t\t1106,\n\t\t90\n\t],\n\t\"./nn.js\": [\n\t\t1106,\n\t\t90\n\t],\n\t\"./oc-lnc\": [\n\t\t1107,\n\t\t91\n\t],\n\t\"./oc-lnc.js\": [\n\t\t1107,\n\t\t91\n\t],\n\t\"./pa-in\": [\n\t\t1108,\n\t\t92\n\t],\n\t\"./pa-in.js\": [\n\t\t1108,\n\t\t92\n\t],\n\t\"./pl\": [\n\t\t1109,\n\t\t93\n\t],\n\t\"./pl.js\": [\n\t\t1109,\n\t\t93\n\t],\n\t\"./pt\": [\n\t\t1111,\n\t\t95\n\t],\n\t\"./pt-br\": [\n\t\t1110,\n\t\t94\n\t],\n\t\"./pt-br.js\": [\n\t\t1110,\n\t\t94\n\t],\n\t\"./pt.js\": [\n\t\t1111,\n\t\t95\n\t],\n\t\"./ro\": [\n\t\t1112,\n\t\t96\n\t],\n\t\"./ro.js\": [\n\t\t1112,\n\t\t96\n\t],\n\t\"./ru\": [\n\t\t1113,\n\t\t97\n\t],\n\t\"./ru.js\": [\n\t\t1113,\n\t\t97\n\t],\n\t\"./sd\": [\n\t\t1114,\n\t\t98\n\t],\n\t\"./sd.js\": [\n\t\t1114,\n\t\t98\n\t],\n\t\"./se\": [\n\t\t1115,\n\t\t99\n\t],\n\t\"./se.js\": [\n\t\t1115,\n\t\t99\n\t],\n\t\"./si\": [\n\t\t1116,\n\t\t100\n\t],\n\t\"./si.js\": [\n\t\t1116,\n\t\t100\n\t],\n\t\"./sk\": [\n\t\t1117,\n\t\t101\n\t],\n\t\"./sk.js\": [\n\t\t1117,\n\t\t101\n\t],\n\t\"./sl\": [\n\t\t1118,\n\t\t102\n\t],\n\t\"./sl.js\": [\n\t\t1118,\n\t\t102\n\t],\n\t\"./sq\": [\n\t\t1119,\n\t\t103\n\t],\n\t\"./sq.js\": [\n\t\t1119,\n\t\t103\n\t],\n\t\"./sr\": [\n\t\t1121,\n\t\t105\n\t],\n\t\"./sr-cyrl\": [\n\t\t1120,\n\t\t104\n\t],\n\t\"./sr-cyrl.js\": [\n\t\t1120,\n\t\t104\n\t],\n\t\"./sr.js\": [\n\t\t1121,\n\t\t105\n\t],\n\t\"./ss\": [\n\t\t1122,\n\t\t106\n\t],\n\t\"./ss.js\": [\n\t\t1122,\n\t\t106\n\t],\n\t\"./sv\": [\n\t\t1123,\n\t\t107\n\t],\n\t\"./sv.js\": [\n\t\t1123,\n\t\t107\n\t],\n\t\"./sw\": [\n\t\t1124,\n\t\t108\n\t],\n\t\"./sw.js\": [\n\t\t1124,\n\t\t108\n\t],\n\t\"./ta\": [\n\t\t1125,\n\t\t109\n\t],\n\t\"./ta.js\": [\n\t\t1125,\n\t\t109\n\t],\n\t\"./te\": [\n\t\t1126,\n\t\t110\n\t],\n\t\"./te.js\": [\n\t\t1126,\n\t\t110\n\t],\n\t\"./tet\": [\n\t\t1127,\n\t\t111\n\t],\n\t\"./tet.js\": [\n\t\t1127,\n\t\t111\n\t],\n\t\"./tg\": [\n\t\t1128,\n\t\t112\n\t],\n\t\"./tg.js\": [\n\t\t1128,\n\t\t112\n\t],\n\t\"./th\": [\n\t\t1129,\n\t\t113\n\t],\n\t\"./th.js\": [\n\t\t1129,\n\t\t113\n\t],\n\t\"./tk\": [\n\t\t1130,\n\t\t114\n\t],\n\t\"./tk.js\": [\n\t\t1130,\n\t\t114\n\t],\n\t\"./tl-ph\": [\n\t\t1131,\n\t\t115\n\t],\n\t\"./tl-ph.js\": [\n\t\t1131,\n\t\t115\n\t],\n\t\"./tlh\": [\n\t\t1132,\n\t\t116\n\t],\n\t\"./tlh.js\": [\n\t\t1132,\n\t\t116\n\t],\n\t\"./tr\": [\n\t\t1133,\n\t\t117\n\t],\n\t\"./tr.js\": [\n\t\t1133,\n\t\t117\n\t],\n\t\"./tzl\": [\n\t\t1134,\n\t\t118\n\t],\n\t\"./tzl.js\": [\n\t\t1134,\n\t\t118\n\t],\n\t\"./tzm\": [\n\t\t1136,\n\t\t120\n\t],\n\t\"./tzm-latn\": [\n\t\t1135,\n\t\t119\n\t],\n\t\"./tzm-latn.js\": [\n\t\t1135,\n\t\t119\n\t],\n\t\"./tzm.js\": [\n\t\t1136,\n\t\t120\n\t],\n\t\"./ug-cn\": [\n\t\t1137,\n\t\t121\n\t],\n\t\"./ug-cn.js\": [\n\t\t1137,\n\t\t121\n\t],\n\t\"./uk\": [\n\t\t1138,\n\t\t122\n\t],\n\t\"./uk.js\": [\n\t\t1138,\n\t\t122\n\t],\n\t\"./ur\": [\n\t\t1139,\n\t\t123\n\t],\n\t\"./ur.js\": [\n\t\t1139,\n\t\t123\n\t],\n\t\"./uz\": [\n\t\t1141,\n\t\t125\n\t],\n\t\"./uz-latn\": [\n\t\t1140,\n\t\t124\n\t],\n\t\"./uz-latn.js\": [\n\t\t1140,\n\t\t124\n\t],\n\t\"./uz.js\": [\n\t\t1141,\n\t\t125\n\t],\n\t\"./vi\": [\n\t\t1142,\n\t\t126\n\t],\n\t\"./vi.js\": [\n\t\t1142,\n\t\t126\n\t],\n\t\"./x-pseudo\": [\n\t\t1143,\n\t\t127\n\t],\n\t\"./x-pseudo.js\": [\n\t\t1143,\n\t\t127\n\t],\n\t\"./yo\": [\n\t\t1144,\n\t\t128\n\t],\n\t\"./yo.js\": [\n\t\t1144,\n\t\t128\n\t],\n\t\"./zh-cn\": [\n\t\t1145,\n\t\t129\n\t],\n\t\"./zh-cn.js\": [\n\t\t1145,\n\t\t129\n\t],\n\t\"./zh-hk\": [\n\t\t1146,\n\t\t130\n\t],\n\t\"./zh-hk.js\": [\n\t\t1146,\n\t\t130\n\t],\n\t\"./zh-mo\": [\n\t\t1147,\n\t\t131\n\t],\n\t\"./zh-mo.js\": [\n\t\t1147,\n\t\t131\n\t],\n\t\"./zh-tw\": [\n\t\t1148,\n\t\t132\n\t],\n\t\"./zh-tw.js\": [\n\t\t1148,\n\t\t132\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 1617;\nmodule.exports = webpackAsyncContext;","module.exports = __webpack_public_path__ + \"static/media/login-background.91ec96af.png\";","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","import { Record } from 'immutable';\nimport { Utils } from '@kineticdata/bundle-common';\nconst { noPayload, withPayload } = Utils;\nconst ns = Utils.namespaceBuilder('app/about');\n\nexport const types = {\n  FETCH_ABOUT_REQUEST: ns('FETCH_ABOUT_REQUEST'),\n  FETCH_ABOUT_COMPLETE: ns('FETCH_ABOUT_COMPLETE'),\n};\n\nexport const actions = {\n  fetchAboutRequest: noPayload(types.FETCH_ABOUT_REQUEST),\n  fetchAboutComplete: withPayload(types.FETCH_ABOUT_COMPLETE),\n};\n\nexport const State = Record({\n  loading: false,\n  teams: null,\n  users: null,\n});\n\nexport const reducer = (state = State(), { type, payload }) => {\n  switch (type) {\n    case types.FETCH_ABOUT_REQUEST:\n      return state.set('loading', true);\n    case types.FETCH_ABOUT_COMPLETE:\n      return state\n        .set('teams', payload.teams)\n        .set('users', payload.users)\n        .set('loading', false);\n    default:\n      return state;\n  }\n};\n","import { Record, List } from 'immutable';\nimport moment from 'moment';\nimport { LOCATION_CHANGE } from 'connected-react-router';\nimport { matchPath } from 'react-router';\nimport { Utils } from '@kineticdata/bundle-common';\nimport { parse } from 'query-string';\nconst { noPayload, withPayload } = Utils;\nconst ns = Utils.namespaceBuilder('app');\n\nconst AUTH_ROUTES = ['/login', '/reset-password', '/create-account'];\n\nexport const types = {\n  FETCH_APP_REQUEST: ns('FETCH_APP_REQUEST'),\n  FETCH_APP_SUCCESS: ns('FETCH_APP_SUCCESS'),\n  FETCH_APP_FAILURE: ns('FETCH_APP_FAILURE'),\n  FETCH_APP_RESET: ns('FETCH_APP_RESET'),\n\n  FETCH_SPACE_REQUEST: ns('FETCH_SPACE_REQUEST'),\n  FETCH_SPACE_SUCCESS: ns('FETCH_SPACE_SUCCESS'),\n  FETCH_SPACE_FAILURE: ns('FETCH_SPACE_FAILURE'),\n\n  FETCH_KAPPS_REQUEST: ns('FETCH_KAPPS_REQUEST'),\n  FETCH_KAPPS_SUCCESS: ns('FETCH_KAPPS_SUCCESS'),\n  FETCH_KAPPS_FAILURE: ns('FETCH_KAPPS_FAILURE'),\n\n  FETCH_PROFILE_REQUEST: ns('FETCH_PROFILE_REQUEST'),\n  FETCH_PROFILE_SUCCESS: ns('FETCH_PROFILE_SUCCESS'),\n  FETCH_PROFILE_FAILURE: ns('FETCH_PROFILE_FAILURE'),\n\n  FETCH_LOCALE_META_REQUEST: ns('FETCH_LOCALE_META_REQUEST'),\n  FETCH_LOCALE_META_SUCCESS: ns('FETCH_LOCALE_META_SUCCESS'),\n  FETCH_LOCALE_META_FAILURE: ns('FETCH_LOCALE_META_FAILURE'),\n\n  SET_USER_LOCALE: ns('SET_USER_LOCALE'),\n  SET_KAPP_SLUG: ns('SET_KAPP_SLUG'),\n  SET_CORE_VERSION: ns('SET_CORE_VERSION'),\n\n  SET_AUTHENTICATED: ns('SET_AUTHENTICATED'),\n};\n\nexport const actions = {\n  fetchApp: withPayload(types.FETCH_APP_REQUEST),\n  fetchAppSuccess: withPayload(types.FETCH_APP_SUCCESS),\n  fetchAppFailure: withPayload(types.FETCH_APP_FAILURE),\n  fetchAppReset: withPayload(types.FETCH_APP_RESET),\n\n  fetchSpaceRequest: noPayload(types.FETCH_SPACE_REQUEST),\n  fetchSpaceSuccess: withPayload(types.FETCH_SPACE_SUCCESS),\n  fetchSpaceFailure: withPayload(types.FETCH_SPACE_FAILURE),\n\n  fetchKappsRequest: noPayload(types.FETCH_KAPPS_REQUEST),\n  fetchKappsSuccess: withPayload(types.FETCH_KAPPS_SUCCESS),\n  fetchKappsFailure: withPayload(types.FETCH_KAPPS_FAILURE),\n\n  fetchProfileRequest: noPayload(types.FETCH_PROFILE_REQUEST),\n  fetchProfileSuccess: withPayload(types.FETCH_PROFILE_SUCCESS),\n  fetchProfileFailure: withPayload(types.FETCH_PROFILE_FAILURE),\n\n  fetchLocaleMetaRequest: noPayload(types.FETCH_LOCALE_META_REQUEST),\n  fetchLocaleMetaSuccess: withPayload(types.FETCH_LOCALE_META_SUCCESS),\n  fetchLocaleMetaFailure: withPayload(types.FETCH_LOCALE_META_FAILURE),\n\n  setUserLocale: withPayload(types.SET_USER_LOCALE),\n  setKappSlug: withPayload(types.SET_KAPP_SLUG),\n  setCoreVersion: withPayload(types.SET_CORE_VERSION),\n\n  setAuthenticated: withPayload(types.SET_AUTHENTICATED),\n};\n\nexport const State = Record({\n  coreVersion: null,\n  locales: null,\n  timezones: null,\n  locale: moment.locale(),\n  space: null,\n  kapp: null,\n  kapps: List(),\n  profile: null,\n  errors: List(),\n  kappSlug: null,\n  loading: true,\n  authenticated: null,\n  authRedirect: null,\n  authRoute: '/login',\n});\n\nexport const reducer = (state = State(), { type, payload }) => {\n  switch (type) {\n    case types.FETCH_APP_REQUEST:\n      return state.set('errors', List());\n    case types.FETCH_APP_SUCCESS:\n      return state.set('errors', List()).set('loading', false);\n    case types.FETCH_APP_FAILURE:\n      return state\n        .update('errors', errors => errors.push(payload))\n        .set('loading', false);\n    case types.FETCH_APP_RESET:\n      return state.set('loading', true);\n    case types.FETCH_SPACE_SUCCESS:\n      return state.set('space', payload);\n    case types.FETCH_SPACE_FAILURE:\n      return state.update('errors', errors => errors.push(payload));\n    case types.FETCH_KAPPS_SUCCESS:\n      return state\n        .set('kapps', payload)\n        .set('kapp', payload.find(kapp => kapp.slug === state.kappSlug));\n    case types.FETCH_KAPPS_FAILURE:\n      return state.update('errors', errors => errors.push(payload));\n    case types.FETCH_PROFILE_SUCCESS:\n      return state.set('profile', payload);\n    case types.FETCH_PROFILE_FAILURE:\n      return state.update('errors', errors => errors.push(payload));\n    case types.FETCH_LOCALE_META_SUCCESS:\n      return state\n        .set('timezones', payload.timezones)\n        .set('locales', payload.locales);\n    case types.FETCH_LOCALE_META_FAILURE:\n      return state.update('errors', errors => errors.push(payload));\n    case types.SET_USER_LOCALE:\n      return state.set('locale', payload || moment.locale());\n    case types.SET_KAPP_SLUG:\n      return state\n        .set('kappSlug', payload)\n        .set('kapp', state.kapps.find(kapp => kapp.slug === payload));\n    case types.SET_CORE_VERSION:\n      return state.set('coreVersion', payload);\n    case LOCATION_CHANGE:\n      const path = '/kapps/:kappSlug';\n      const match = matchPath(payload.location.pathname, { path });\n      const kappSlug = match && match.params.kappSlug;\n      return state\n        .set('kappSlug', kappSlug)\n        .set('kapp', state.kapps.find(kapp => kapp.slug === kappSlug))\n        .set(\n          'authRedirect',\n          !state.authenticated\n            ? !AUTH_ROUTES.some(r => payload.location.pathname.startsWith(r))\n              ? `${payload.location.pathname}${payload.location.search}`\n              : state.authRedirect\n            : null,\n        )\n        .set(\n          'authRoute',\n          payload.location.search\n            ? parse(payload.location.search).invitationToken\n              ? `/create-account${payload.location.search}`\n              : `/login${payload.location.search}`\n            : '/login',\n        )\n        .update(\n          'loading',\n          value =>\n            !state.authenticated &&\n            AUTH_ROUTES.some(r => payload.location.pathname.startsWith(r))\n              ? true\n              : value,\n        );\n    case types.SET_AUTHENTICATED:\n      return state\n        .set('loading', payload !== state.authenticated)\n        .set('authenticated', payload);\n    default:\n      return state;\n  }\n};\n","import { Record } from 'immutable';\nimport { Utils } from '@kineticdata/bundle-common';\nconst { noPayload, withPayload } = Utils;\nconst ns = Utils.namespaceBuilder('app/alerts');\n\nexport const types = {\n  FETCH_ALERTS_REQUEST: ns('FETCH_ALERTS_REQUEST'),\n  FETCH_ALERTS_SUCCESS: ns('FETCH_ALERTS_SUCCESS'),\n  FETCH_ALERTS_FAILURE: ns('FETCH_ALERTS_FAILURE'),\n  DELETE_ALERT_REQUEST: ns('DELETE_ALERT_REQUEST'),\n};\n\nexport const actions = {\n  fetchAlertsRequest: noPayload(types.FETCH_ALERTS_REQUEST),\n  fetchAlertsSuccess: withPayload(types.FETCH_ALERTS_SUCCESS),\n  fetchAlertsFailure: withPayload(types.FETCH_ALERTS_FAILURE),\n  deleteAlertRequest: withPayload(types.DELETE_ALERT_REQUEST),\n};\n\nexport const State = Record({\n  data: null,\n  error: null,\n});\n\nexport const reducer = (state = State(), { type, payload }) => {\n  switch (type) {\n    case types.FETCH_ALERTS_REQUEST:\n      return state.set('error', null).set('data', null);\n    case types.FETCH_ALERTS_SUCCESS:\n      return state.set('error', null).set('data', payload);\n    case types.FETCH_ALERTS_FAILURE:\n      return state.set('error', payload).set('data', null);\n    default:\n      return state;\n  }\n};\n","import { Map } from 'immutable';\nimport { Utils } from '@kineticdata/bundle-common';\nconst { withPayload } = Utils;\nconst ns = Utils.namespaceBuilder('app/forms');\n\nexport const types = {\n  FETCH_FORM_REQUEST: ns('FETCH_FORM_REQUEST'),\n  FETCH_FORM_SUCCESS: ns('FETCH_FORM_SUCCESS'),\n  FETCH_FORM_FAILURE: ns('FETCH_FORM_FAILURE'),\n};\n\nexport const actions = {\n  fetchFormRequest: withPayload(types.FETCH_FORM_REQUEST),\n  fetchFormSuccess: withPayload(types.FETCH_FORM_SUCCESS),\n  fetchFormFailure: withPayload(types.FETCH_FORM_FAILURE),\n};\n\nexport const reducer = (state = Map(), { type, payload }) => {\n  switch (type) {\n    case types.FETCH_FORM_REQUEST:\n      return payload.kappSlug && payload.formSlug\n        ? (!state.has(payload.kappSlug)\n            ? state.set(payload.kappSlug, Map())\n            : state\n          ).setIn([payload.kappSlug, payload.formSlug], null)\n        : state;\n    case types.FETCH_FORM_SUCCESS:\n      return state.setIn([payload.kappSlug, payload.formSlug], payload.form);\n    case types.FETCH_FORM_FAILURE:\n      return state.deleteIn([payload.kappSlug, payload.formSlug]);\n    default:\n      return state;\n  }\n};\n","import { Record } from 'immutable';\nimport { LOCATION_CHANGE } from 'connected-react-router';\nimport { Utils } from '@kineticdata/bundle-common';\nconst { withPayload } = Utils;\nconst ns = Utils.namespaceBuilder('app/layout');\n\nexport const types = {\n  SET_SIZE: ns('SET_SIZE'),\n  SET_SIDEBAR_OPEN: ns('SET_SIDEBAR_OPEN'),\n  SET_SUPPRESSED_SIDEBAR_OPEN: ns('SET_SUPPRESSED_SIDEBAR_OPEN'),\n};\n\nexport const actions = {\n  setSize: withPayload(types.SET_SIZE),\n  setSidebarOpen: withPayload(types.SET_SIDEBAR_OPEN),\n  setSuppressedSidebarOpen: withPayload(types.SET_SUPPRESSED_SIDEBAR_OPEN),\n};\n\nexport const State = Record({\n  size: 'large',\n  sidebarOpen: true,\n  // There are some pages where we want the sidebar to be less of a focus in the\n  // user interface (the home page of the services kapp is one example). The\n  // suppressedSidebarOpen state tracks whether or not the sidebar should be open\n  // on these kinds of pages. It defaults to false and needs to be opened\n  // manually, then if the sidebar is closed from another page we assume that\n  // the sidebar on these types of pages should also then be closed (all of that\n  // logic is implemented in the reducer below).\n  suppressedSidebarOpen: false,\n});\n\nexport const reducer = (state = State(), { type, payload }) => {\n  switch (type) {\n    case types.SET_SIZE:\n      return state.set('size', payload);\n    case types.SET_SIDEBAR_OPEN:\n      return (\n        state\n          .set('sidebarOpen', payload)\n          // if we are closing the sidebar from regular pages we assume that we\n          // should also close the sidebar for the \"suppressed\" pages as well.\n          .set(\n            'suppressedSidebarOpen',\n            !payload ? payload : state.suppressedSidebarOpen,\n          )\n      );\n    case types.SET_SUPPRESSED_SIDEBAR_OPEN:\n      return (\n        state\n          .set('suppressedSidebarOpen', payload)\n          // if we are openening the sidebar from the \"suppressed\" page we assume\n          // that we should also open the sidebar for the regular pages as well.\n          .set('sidebarOpen', payload ? payload : state.sidebarOpen)\n      );\n    case LOCATION_CHANGE:\n      return state.size === 'small' ? state.set('sidebarOpen', false) : state;\n    default:\n      return state;\n  }\n};\n","import { Record } from 'immutable';\nimport { Utils } from '@kineticdata/bundle-common';\nconst { withPayload } = Utils;\nconst ns = Utils.namespaceBuilder('app/profile');\n\nexport const types = {\n  FETCH_PROFILE_REQUEST: ns('FETCH_PROFILE_REQUEST'),\n  FETCH_PROFILE_SUCCESS: ns('FETCH_PROFILE_SUCCESS'),\n  FETCH_PROFILE_FAILURE: ns('FETCH_PROFILE_FAILURE'),\n  UPDATE_PROFILE_REQUEST: ns('UPDATE_PROFILE_REQUEST'),\n  UPDATE_PROFILE_SUCCESS: ns('UPDATE_PROFILE_SUCCESS'),\n};\n\nexport const actions = {\n  fetchProfileRequest: withPayload(types.FETCH_PROFILE_REQUEST),\n  fetchProfileSuccess: withPayload(types.FETCH_PROFILE_SUCCESS),\n  fetchProfileFailure: withPayload(types.FETCH_PROFILE_FAILURE),\n  updateProfileRequest: withPayload(types.UPDATE_PROFILE_REQUEST),\n  updateProfileSuccess: withPayload(types.UPDATE_PROFILE_SUCCESS),\n};\n\nexport const State = Record({\n  data: null,\n  error: null,\n});\n\nexport const reducer = (state = State(), { type, payload }) => {\n  switch (type) {\n    case types.FETCH_PROFILE_REQUEST:\n      return state.set('data', null).set('error', null);\n    case types.FETCH_PROFILE_SUCCESS:\n      return state.set('data', payload);\n    case types.FETCH_PROFILE_FAILURE:\n      return state.set('error', payload);\n    case types.UPDATE_PROFILE_REQUEST:\n      return state;\n    case types.UPDATE_PROFILE_SUCCESS:\n      return state.set('data', payload);\n    default:\n      return state;\n  }\n};\n","import { Record, List } from 'immutable';\nimport { Utils } from '@kineticdata/bundle-common';\nconst { noPayload, withPayload } = Utils;\nconst ns = Utils.namespaceBuilder('app/teams');\n\nexport const types = {\n  FETCH_TEAMS_REQUEST: ns('FETCH_TEAMS_REQUEST'),\n  FETCH_TEAMS_SUCCESS: ns('FETCH_TEAMS_SUCCESS'),\n  FETCH_TEAMS_FAILURE: ns('FETCH_TEAMS_FAILURE'),\n  FETCH_TEAM_REQUEST: ns('FETCH_TEAM_REQUEST'),\n  FETCH_TEAM_SUCCESS: ns('FETCH_TEAM_SUCCESS'),\n  FETCH_TEAM_FAILURE: ns('FETCH_TEAM_FAILURE'),\n};\n\nexport const actions = {\n  fetchTeamsRequest: noPayload(types.FETCH_TEAMS_REQUEST),\n  fetchTeamsSuccess: withPayload(types.FETCH_TEAMS_SUCCESS),\n  fetchTeamsFailure: withPayload(types.FETCH_TEAMS_FAILURE),\n  fetchTeamRequest: withPayload(types.FETCH_TEAM_REQUEST),\n  fetchTeamSuccess: withPayload(types.FETCH_TEAM_SUCCESS),\n  fetchTeamFailure: withPayload(types.FETCH_TEAM_FAILURE),\n};\n\nexport const State = Record({\n  error: null,\n  data: null,\n  roles: null,\n  team: null,\n  teamError: null,\n});\n\nexport const reducer = (state = State(), { type, payload }) => {\n  switch (type) {\n    case types.FETCH_TEAMS_REQUEST:\n      return state\n        .set('error', null)\n        .set('data', null)\n        .set('roles', null);\n    case types.FETCH_TEAMS_SUCCESS:\n      return state\n        .set(\n          'data',\n          List(payload).filter(\n            team => team.name !== 'Role' && !team.name.startsWith('Role::'),\n          ),\n        )\n        .set(\n          'roles',\n          List(payload).filter(\n            team => team.name !== 'Role' && team.name.startsWith('Role::'),\n          ),\n        );\n    case types.FETCH_TEAMS_FAILURE:\n      return state.set('error', payload);\n    case types.FETCH_TEAM_REQUEST:\n      return state.set('teamError', null).set('team', null);\n    case types.FETCH_TEAM_SUCCESS:\n      return state.set('team', payload);\n    case types.FETCH_TEAM_FAILURE:\n      return state.set('teamError', payload);\n    default:\n      return state;\n  }\n};\n","import { reducer as about } from './modules/about';\nimport { reducer as app } from './modules/app';\nimport { reducer as alerts } from './modules/alerts';\nimport { reducer as forms } from './modules/forms';\nimport { reducer as layout } from './modules/layout';\nimport { reducer as profile } from './modules/profile';\nimport { reducer as teams } from './modules/teams';\n\nexport default {\n  about,\n  alerts,\n  app,\n  forms,\n  layout,\n  profile,\n  teams,\n};\n","import { takeEvery, all, call, put } from 'redux-saga/effects';\nimport { addToastAlert } from '@kineticdata/bundle-common';\nimport { fetchTeams, fetchUsers } from '@kineticdata/react';\nimport { types, actions } from '../modules/about';\n\nexport function* fetchAboutRequestSaga() {\n  const [\n    { teams, error: teamsError },\n    { users, error: usersError },\n  ] = yield all([call(fetchTeams), call(fetchUsers)]);\n  if (teamsError || usersError) {\n    addToastAlert({\n      message: `Failed to load ${teamsError ? 'Teams' : ''}${\n        teamsError && usersError ? ' and ' : ''\n      }${usersError ? 'Users' : ''}.`,\n    });\n  }\n  yield put(actions.fetchAboutComplete({ teams, users }));\n}\n\nexport function* watchAbout() {\n  yield takeEvery(types.FETCH_ABOUT_REQUEST, fetchAboutRequestSaga);\n}\n","import { takeEvery, call, put } from 'redux-saga/effects';\nimport {\n  deleteSubmission,\n  searchSubmissions,\n  SubmissionSearch,\n} from '@kineticdata/react';\nimport { addToast, addToastAlert } from '@kineticdata/bundle-common';\nimport { List } from 'immutable';\nimport moment from 'moment';\n\nimport { actions, types } from '../modules/alerts';\n\n// Alerts Search Query\nexport const ALERTS_SEARCH = new SubmissionSearch(true)\n  .eq('values[Status]', 'Active')\n  .index('values[Status]')\n  .include('details,values')\n  .limit(1000)\n  .build();\n\nexport function* fetchAlertsRequestSaga() {\n  const { submissions, error } = yield call(searchSubmissions, {\n    datastore: true,\n    form: 'alerts',\n    search: ALERTS_SEARCH,\n  });\n\n  if (error) {\n    yield put(actions.fetchAlertsFailure(error));\n  } else {\n    const alerts = List(submissions)\n      .filter(\n        alert =>\n          !alert.values['End Date Time'] ||\n          moment(alert.values['End Date Time']).isAfter(),\n      )\n      .filter(\n        alert =>\n          !alert.values['Start Date Time'] ||\n          moment(alert.values['Start Date Time']).isBefore(),\n      )\n      .sortBy(alert =>\n        moment(alert.values['Start Date Time'] || alert.createdAt).unix(),\n      )\n      .reverse();\n    yield put(actions.fetchAlertsSuccess(alerts));\n  }\n}\n\nexport function* deleteAlertRequestSaga(action) {\n  const { error } = yield call(deleteSubmission, {\n    datastore: true,\n    id: action.payload,\n  });\n\n  if (error) {\n    addToastAlert({ title: 'Alert delete failed', message: error.message });\n  } else {\n    addToast('Alert deleted successfully');\n    yield put(actions.fetchAlertsRequest());\n  }\n}\n\nexport function* watchAlerts() {\n  yield takeEvery(types.FETCH_ALERTS_REQUEST, fetchAlertsRequestSaga);\n  yield takeEvery(types.DELETE_ALERT_REQUEST, deleteAlertRequestSaga);\n}\n","import { takeEvery, call, put, all, select } from 'redux-saga/effects';\nimport { push } from 'connected-react-router';\nimport {\n  fetchVersion,\n  fetchProfile,\n  fetchSpace,\n  fetchKapps,\n  fetchDefaultLocale,\n  fetchLocales,\n  fetchTimezones,\n  importLocale,\n} from '@kineticdata/react';\nimport semver from 'semver';\nimport { enableSearchHistory, Utils } from '@kineticdata/bundle-common';\n\nimport { actions, types } from '../modules/app';\nimport { actions as alertsActions } from '../modules/alerts';\n\nconst MINIMUM_CE_VERSION = '5.0.0';\nconst SPACE_INCLUDES = [\n  'details',\n  'attributes',\n  'attributesMap',\n  'authorization',\n  'userProfileAttributeDefinitions',\n];\nconst KAPP_INCLUDES = [\n  'details',\n  'attributes',\n  'attributesMap',\n  'authorization',\n  'categories',\n  'categories.attributesMap',\n  'categories.categorizations.form',\n  'categories.categorizations.form.attributes[Icon]',\n];\nconst PROFILE_INCLUDES = [\n  'details',\n  'attributes',\n  'profileAttributes',\n  'profileAttributesMap',\n  'memberships',\n  'memberships.team',\n  'memberships.team.attributes',\n  'memberships.team.attributesMap',\n  'memberships.team.memberships',\n  'memberships.team.memberships.user',\n];\n\n// Fetch Entire App\nexport function* fetchAppTask({ payload }) {\n  const authenticated = yield select(state => state.app.authenticated);\n  const { version } = yield call(fetchVersion, { public: !authenticated });\n  // Check to make sure the version is compatible with this bundle.\n  if (\n    semver.satisfies(semver.coerce(version.version), `>=${MINIMUM_CE_VERSION}`)\n  ) {\n    // Set data needed for initialization from server into redux\n    yield all([\n      call(fetchSpaceTask, authenticated),\n      call(fetchKappsTask, authenticated),\n      call(fetchProfileTask, authenticated),\n      call(fetchLocaleMetaTask, authenticated),\n      put(actions.setCoreVersion(version.version)),\n    ]);\n\n    // Fetch data needed for initialization from redux\n    const { profile, kapps, errors } = yield select(state => ({\n      profile: state.app.profile,\n      kapps: state.app.kapps,\n      errors: state.app.errors,\n    }));\n\n    // Make sure there were no errors fetching metadata\n    if (errors.isEmpty()) {\n      // Configure Search History for Kapps\n      yield all([\n        ...kapps.map(kapp => {\n          return put(\n            enableSearchHistory({\n              kappSlug: kapp.slug,\n              value: Utils.getAttributeValue(kapp, 'Record Search History', ''),\n            }),\n          );\n        }),\n      ]);\n\n      // Preload locale before displaying the app to get rid of flicker\n      if (profile.preferredLocale) {\n        importLocale(profile.preferredLocale);\n        yield put(actions.setUserLocale(profile.preferredLocale));\n      } else {\n        const { defaultLocale } = yield call(fetchDefaultLocale, {\n          public: !authenticated,\n        });\n        importLocale((defaultLocale && defaultLocale.code) || 'en');\n        yield put(actions.setUserLocale(defaultLocale && defaultLocale.code));\n      }\n\n      yield put(actions.fetchAppSuccess());\n      if (authenticated) {\n        yield put(alertsActions.fetchAlertsRequest());\n      }\n    }\n  } else {\n    window.alert(\n      `You must be running Kinetic Request v${MINIMUM_CE_VERSION} or later in order to use this app. You are currently running v${\n        version.version\n      }.`,\n    );\n  }\n}\n\n// Fetch Kapps Task\nexport function* fetchKappsTask(authenticated) {\n  const { kapps, error } = yield call(fetchKapps, {\n    include: KAPP_INCLUDES.join(','),\n    limit: 1000,\n    public: !authenticated,\n  });\n  if (error) {\n    yield put(actions.fetchKappsFailure(error));\n  } else {\n    yield put(actions.fetchKappsSuccess(kapps));\n  }\n}\n\n// Fetch Space Task\nexport function* fetchSpaceTask(authenticated) {\n  const { space, error } = yield call(fetchSpace, {\n    include: SPACE_INCLUDES.join(','),\n    public: !authenticated,\n  });\n  if (error) {\n    yield put(actions.fetchSpaceFailure(error));\n  } else {\n    yield put(actions.fetchSpaceSuccess(space));\n  }\n}\n\n// Fetch Profile Task called via action. Triggers fetchProfileTask\nexport function* fetchOnlyProfileTask() {\n  const authenticated = yield select(state => state.app.authenticated);\n\n  yield call(fetchProfileTask, authenticated);\n}\n\n// Fetch Profile Task\nexport function* fetchProfileTask(authenticated) {\n  const { profile, error } = yield call(fetchProfile, {\n    include: PROFILE_INCLUDES.join(','),\n    public: !authenticated,\n  });\n  if (error) {\n    yield put(actions.fetchProfileFailure(error));\n  } else {\n    yield put(actions.fetchProfileSuccess(profile));\n  }\n}\n\n// Fetch Locales Metadata Task\nexport function* fetchLocaleMetaTask() {\n  const { locales, timezones } = yield all({\n    locales: call(fetchLocales),\n    timezones: call(fetchTimezones),\n  });\n  yield put(\n    actions.fetchLocaleMetaSuccess({\n      locales: locales.data.locales,\n      timezones: timezones.data.timezones,\n    }),\n  );\n}\n\nexport function* setAuthenticatedTask() {\n  const { authenticated, authRedirect } = yield select(state => state.app);\n  if (authenticated && authRedirect) {\n    yield put(push(authRedirect));\n  }\n}\n\nexport function* watchApp() {\n  yield takeEvery(types.FETCH_APP_REQUEST, fetchAppTask);\n  yield takeEvery(types.FETCH_PROFILE_REQUEST, fetchOnlyProfileTask);\n  yield takeEvery(types.SET_AUTHENTICATED, setAuthenticatedTask);\n}\n","import { takeEvery, call, put } from 'redux-saga/effects';\nimport { fetchForm } from '@kineticdata/react';\n\nimport { actions, types } from '../modules/forms';\n\nexport function* fetchFormRequestSaga({\n  payload: { kappSlug, formSlug } = {},\n}) {\n  if (!kappSlug || !formSlug) {\n    return;\n  }\n\n  const { form, error } = yield call(fetchForm, {\n    include: 'details,authorization',\n    kappSlug,\n    formSlug,\n  });\n\n  if (error) {\n    yield put(actions.fetchFormFailure({ kappSlug, formSlug }));\n  } else {\n    yield put(actions.fetchFormSuccess({ kappSlug, formSlug, form }));\n  }\n}\n\nexport function* watchForms() {\n  yield takeEvery(types.FETCH_FORM_REQUEST, fetchFormRequestSaga);\n}\n","import { takeEvery, call, put, select } from 'redux-saga/effects';\nimport { actions, types } from '../modules/profile';\nimport { actions as appActions } from '../modules/app';\nimport { addToast, addToastAlert } from '@kineticdata/bundle-common';\nimport { fetchUser, fetchProfile, updateProfile } from '@kineticdata/react';\n\nconst PROFILE_INCLUDES = [\n  'attributes',\n  'attributesMap',\n  'profileAttributes',\n  'profileAttributesMap',\n  'memberships',\n  'memberships.team',\n  'memberships.team.attributes',\n  'memberships.team.memberships',\n  'memberships.team.memberships.user',\n  'space.userAttributeDefinitions',\n  'space.userProfileAttributeDefinitions',\n].join(',');\n\nexport function* fetchProfileRequestSaga({ payload }) {\n  const { user, profile, error } = payload\n    ? yield call(fetchUser, {\n        include: PROFILE_INCLUDES,\n        username: payload,\n      })\n    : yield call(fetchProfile, { include: PROFILE_INCLUDES });\n\n  if (error) {\n    yield put(actions.fetchProfileFailure(error));\n  } else {\n    yield put(actions.fetchProfileSuccess(user || profile));\n  }\n}\n\nexport function* updateProfileRequestSaga({ payload }) {\n  const preferredLocale = yield select(\n    state => state.profile.data.preferredLocale,\n  );\n\n  const { profile, error } = yield call(updateProfile, {\n    include: PROFILE_INCLUDES,\n    profile: payload,\n  });\n\n  if (error) {\n    addToastAlert({\n      title: 'Failed to update profile',\n      message: error.message,\n    });\n  } else {\n    addToast('Profile updated successfully');\n    yield put(actions.updateProfileSuccess(profile));\n    if (profile.preferredLocale !== preferredLocale) {\n      yield put(appActions.fetchApp());\n    }\n  }\n}\n\nexport function* watchProfile() {\n  yield takeEvery(types.FETCH_PROFILE_REQUEST, fetchProfileRequestSaga);\n  yield takeEvery(types.UPDATE_PROFILE_REQUEST, updateProfileRequestSaga);\n}\n","import { takeEvery, call, put } from 'redux-saga/effects';\nimport { fetchTeams, fetchTeam } from '@kineticdata/react';\n\nimport { actions, types } from '../modules/teams';\n\nexport function* fetchTeamsRequestSaga() {\n  const { teams, error } = yield call(fetchTeams, {\n    limit: 1000,\n    include:\n      'attributes,memberships.user,memberships.user.attributes,memberships.user.profileAttributes',\n  });\n\n  if (error) {\n    yield put(actions.fetchTeamsFailure(error));\n  } else {\n    yield put(actions.fetchTeamsSuccess(teams));\n  }\n}\n\nexport function* fetchTeamRequestSaga({ payload }) {\n  const { team, error } = yield call(fetchTeam, {\n    limit: 1000,\n    include:\n      'attributes,memberships.user,memberships.user.attributes,memberships.user.profileAttributes',\n    teamSlug: payload,\n  });\n\n  if (error) {\n    yield put(actions.fetchTeamFailure(error));\n  } else {\n    yield put(actions.fetchTeamSuccess(team));\n  }\n}\n\nexport function* watchTeams() {\n  yield takeEvery(types.FETCH_TEAMS_REQUEST, fetchTeamsRequestSaga);\n  yield takeEvery(types.FETCH_TEAM_REQUEST, fetchTeamRequestSaga);\n}\n","import { all, fork } from 'redux-saga/effects';\nimport { watchAbout } from './sagas/about';\nimport { watchAlerts } from './sagas/alerts';\nimport { watchApp } from './sagas/app';\nimport { watchForms } from './sagas/forms';\nimport { watchProfile } from './sagas/profile';\nimport { watchTeams } from './sagas/teams';\n\nexport function* sagas() {\n  yield all([\n    watchAbout(),\n    watchAlerts(),\n    watchApp(),\n    watchForms(),\n    watchProfile(),\n    watchTeams(),\n  ]);\n}\n\nexport function combineSagas(allSagas) {\n  return function* combinedSagas() {\n    yield all(allSagas.map(s => fork(s)));\n  };\n}\n","import { compose, createStore, combineReducers, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\nimport { history } from '@kineticdata/react';\nimport reducers from './reducers';\nimport { sagas } from './sagas';\n\nconsole.log('Configuring app package redux store');\n\n// To enable the redux dev tools in the browser we need to conditionally use a\n// special compose method, below we are looking for that and if it does not\n// exist we use the build-in redux 'compose' method.\n// eslint-disable-next-line no-underscore-dangle\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({ name: 'APP' })\n  : compose;\n\n// To enable the Saga Middleware to run we need to first create it.\nconst sagaMiddleware = createSagaMiddleware();\n\n// Create the redux store using reducers imported from our 'redux/reducers'\n// module.  Note that we also have some connected react router and redux form\n// setup going on here as well.\nexport const store = createStore(\n  combineReducers({\n    ...reducers,\n    router: connectRouter(history),\n  }),\n  composeEnhancers(applyMiddleware(routerMiddleware(history), sagaMiddleware)),\n);\n\n// After we've created the store using the saga middleware we will start\n// the run it and pass it the saga watcher so that it can start watching\n// for applicable actions.\nsagaMiddleware.run(sagas);\n\n// Enable hot module replacement so that file changes are automatically\n// communicated to the browser when running in development mode\nif (module.hot) {\n  module.hot.accept('./reducers', () =>\n    store.replaceReducer(connectRouter(history)(combineReducers(reducers))),\n  );\n}\n","import React from 'react';\nimport logoImage from '../../assets/images/login-background.png';\nimport logoName from '../../assets/images/login-name.png';\nimport { I18n } from '@kineticdata/react';\nimport logo from '../../assets/images/esolutions_logo_green.svg';\n\nexport const LoginWrapper = ({ children }) => (\n  <div className=\"login-container\">\n    <div className=\"login-wrapper\">\n      {children}\n      <div\n        className=\"login-image-container\"\n        style={{\n          backgroundImage: `url(${logo})`,\n          filter: 'drop-shadow(.5rem .5rem .5rem gray)',\n        }}\n      >\n        <div className=\"kinops-text\">\n          {/* <img\n            src={logoName}\n            alt=\"Kinops - streamline everyday work for teams\"\n          /> */}\n          {/* <h3>\n            <I18n>Welcome to kinops</I18n>\n          </h3>\n          <p>\n            <I18n>Streamline everyday work for teams.</I18n>\n          </p> */}\n        </div>\n      </div>\n    </div>\n  </div>\n);\n","import React from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport { logout, I18n } from '@kineticdata/react';\nimport { LoginWrapper } from './LoginWrapper';\nimport { Modal, ModalBody, ModalFooter } from 'reactstrap';\nimport { Helmet } from 'react-helmet';\n\nexport const Login = ({ loginProps }) => {\n  let location = useLocation();\n  return (\n    <LoginWrapper>\n      <Helmet>\n        <title>signin | kinops </title>\n      </Helmet>\n      <LoginForm {...loginProps}>\n        {({ fields, buttons }) => (\n          <>\n            <h3>\n              <I18n>Sign In</I18n>\n              <small>\n                <Link to={`/create-account${location.search}`}>\n                  <I18n>Create Account</I18n>\n                </Link>\n              </small>\n            </h3>\n            <div style={{ display: 'flex', flexDirection: 'column' }}>\n              {fields.username}\n              {fields.password}\n\n              <span className=\"text-danger\">\n                <I18n>{loginProps.error || ' '}</I18n>\n              </span>\n            </div>\n            <div className=\"button-group\">\n              {buttons.login}\n              <hr />\n              {buttons.ssoLogin && (\n                <>\n                  {buttons.ssoLogin}\n                  <hr />\n                </>\n              )}\n              <Link\n                className=\"btn btn-link\"\n                to={`/reset-password${location.search}`}\n              >\n                <I18n>Reset Password</I18n>\n              </Link>\n            </div>\n          </>\n        )}\n      </LoginForm>\n    </LoginWrapper>\n  );\n};\n\nexport const LoginModal = ({ loginProps }) => (\n  <Modal isOpen toggle={logout} size=\"lg\" backdrop=\"static\">\n    <LoginForm {...loginProps}>\n      {({ fields, buttons }) => (\n        <>\n          <div className=\"modal-header\">\n            <h4 className=\"modal-title\">\n              <button type=\"button\" className=\"btn btn-link\" onClick={logout}>\n                <I18n>Cancel</I18n>\n              </button>\n              <span>\n                <I18n>Your Session Timed Out</I18n>\n              </span>\n            </h4>\n          </div>\n          <ModalBody>\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              {fields.username}\n              {fields.password}\n\n              <span className=\"text-danger\">\n                <I18n>{loginProps.error || ' '}</I18n>\n              </span>\n            </div>\n          </ModalBody>\n          <ModalFooter>\n            {buttons.login}\n            {buttons.ssoLogin}\n          </ModalFooter>\n        </>\n      )}\n    </LoginForm>\n  </Modal>\n);\n\nexport const LoginForm = ({\n  error,\n  username,\n  onChangeUsername,\n  password,\n  onChangePassword,\n  onLogin,\n  onSso,\n  pending,\n  children,\n}) => {\n  const fields = {\n    username: (\n      <div className=\"form-group\">\n        <label htmlFor=\"username\">\n          <I18n>Email Address</I18n>\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"username\"\n          placeholder=\"wally@kineticdata.com\"\n          value={username}\n          onChange={onChangeUsername}\n        />\n      </div>\n    ),\n    password: (\n      <div className=\"form-group\">\n        <label htmlFor=\"password\">\n          <I18n>Password</I18n>\n        </label>\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          id=\"password\"\n          placeholder=\"password\"\n          value={password}\n          onChange={onChangePassword}\n        />\n      </div>\n    ),\n  };\n  const buttons = {\n    login: (\n      <button\n        className=\"btn btn-primary\"\n        type=\"submit\"\n        disabled={pending || !username || !password}\n      >\n        <I18n>Sign In</I18n>\n      </button>\n    ),\n    ssoLogin: onSso ? (\n      <button\n        className=\"btn btn-primary\"\n        type=\"button\"\n        onClick={onSso}\n        disabled={pending}\n      >\n        <I18n>Enterprise Sign In</I18n>\n      </button>\n    ) : (\n      undefined\n    ),\n  };\n  return (\n    <form className=\"login-form-container\" onSubmit={onLogin}>\n      {typeof children === 'function' ? (\n        children({ fields, buttons })\n      ) : (\n        <>\n          <div>{Object.values(fields)}</div>\n          <div>{Object.values(buttons)}</div>\n        </>\n      )}\n    </form>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { push } from 'connected-react-router';\nimport { useLocation, useParams, Link } from 'react-router-dom';\nimport { bundle, createSubmission, I18n } from '@kineticdata/react';\nimport { parse, stringify } from 'query-string';\nimport axios from 'axios';\nimport { LoginWrapper } from './LoginWrapper';\nimport { Helmet } from 'react-helmet';\n\nexport const ResetPassword = () => {\n  let location = useLocation();\n  let { token } = useParams();\n  return (\n    <LoginWrapper>\n      <Helmet>\n        <title>Reset Password | kinops</title>\n      </Helmet>\n      {token ? (\n        <ResetPasswordForm token={token} username={parse(location.search).u}>\n          {({ fields, buttons, messages }) => (\n            <>\n              <h3>\n                <I18n>Request Password Reset</I18n>\n              </h3>\n              <div style={{ display: 'flex', flexDirection: 'column' }}>\n                {fields.username}\n                {fields.password}\n                {fields.confirmPassword}\n                {messages.validations}\n                {messages.error}\n              </div>\n              <div className=\"button-group\">\n                {buttons.reset}\n                <hr />\n                <Link className=\"btn btn-link\" to={`/login${location.search}`}>\n                  &larr; <I18n>Back to Sign In</I18n>\n                </Link>\n              </div>\n            </>\n          )}\n        </ResetPasswordForm>\n      ) : (\n        <ResetPasswordRequestForm>\n          {({ fields, buttons, messages }) => (\n            <>\n              <h3>\n                <I18n>Reset Password</I18n>\n              </h3>\n              <div style={{ display: 'flex', flexDirection: 'column' }}>\n                {fields.username}\n                {messages.error}\n                {messages.success}\n              </div>\n              <div className=\"button-group\">\n                {buttons.reset}\n                <hr />\n                <Link className=\"btn btn-link\" to={`/login${location.search}`}>\n                  &larr; <I18n>Back to Sign In</I18n>\n                </Link>\n              </div>\n            </>\n          )}\n        </ResetPasswordRequestForm>\n      )}\n    </LoginWrapper>\n  );\n};\n\nconst ResetPasswordRequestForm = ({ children }) => {\n  let [pending, setPending] = useState(false);\n  let [success, setSuccess] = useState(false);\n  let [error, setError] = useState(null);\n  let [username, setUsername] = useState('');\n\n  const handleResetRequest = useCallback(\n    async e => {\n      e.preventDefault();\n      setPending(true);\n      setSuccess(false);\n      setError(null);\n      try {\n        const response = await createSubmission({\n          kappSlug: 'admin',\n          formSlug: 'account-password-reset',\n          values: {\n            Username: username,\n            'Display Name': null,\n            'Password Reset URL': null,\n          },\n          public: true,\n        });\n\n        setPending(false);\n        if (response.error) {\n          setError(\n            response.error.fieldConstraintViolations &&\n            response.error.fieldConstraintViolations['Username']\n              ? 'You must enter a valid email address.'\n              : 'There was a problem requesting a password reset, try again later.',\n          );\n        } else {\n          setSuccess(username);\n        }\n      } catch (_) {\n        setPending(false);\n        setError(\n          'There was a problem requesting a password reset, try again later.',\n        );\n      }\n    },\n    [username, setError, setPending, setSuccess],\n  );\n\n  const fields = {\n    username: (\n      <div className=\"form-group\">\n        <label htmlFor=\"username\" className=\"required\">\n          <I18n>Email Address</I18n>\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"username\"\n          placeholder=\"wally@kineticdata.com\"\n          value={username}\n          onChange={e => setUsername(e.target.value)}\n          aria-required=\"true\"\n        />\n      </div>\n    ),\n  };\n  const buttons = {\n    reset: (\n      <button\n        className=\"btn btn-primary\"\n        type=\"submit\"\n        disabled={pending || !username || success === username}\n      >\n        <I18n>Request Reset</I18n>\n      </button>\n    ),\n  };\n  const messages = {\n    error: error && (\n      <div className=\"text-danger\">\n        <I18n>{error}</I18n>\n      </div>\n    ),\n    success: success && (\n      <div className=\"text-info\">\n        <p>\n          <strong>\n            <I18n>Password reset successfully requested.</I18n>\n          </strong>\n        </p>\n        <p>\n          <I18n>\n            In a few moments you should receive an email which will allow you to\n            reset your password.\n          </I18n>\n        </p>\n        <p>\n          <I18n>\n            If you don't receive an email, contact your kinops administrator.\n          </I18n>\n        </p>\n      </div>\n    ),\n  };\n\n  return (\n    <form className=\"login-form-container\" onSubmit={handleResetRequest}>\n      {typeof children === 'function' ? (\n        children({ fields, buttons, messages })\n      ) : (\n        <>\n          <div>{Object.values(fields)}</div>\n          <div>{Object.values(messages)}</div>\n          <div>{Object.values(buttons)}</div>\n        </>\n      )}\n    </form>\n  );\n};\n\nconst ResetPasswordForm = connect(\n  null,\n  { push },\n)(({ push, token, username, children }) => {\n  let [pending, setPending] = useState(false);\n  let [error, setError] = useState(null);\n  let [password, setPassword] = useState('');\n  let [confirmPassword, setConfirmPassword] = useState('');\n  let [confirmBlurred, setConfirmBlurred] = useState(false);\n\n  const handleReset = useCallback(\n    async e => {\n      e.preventDefault();\n      setPending(true);\n      setError(null);\n\n      try {\n        const data = stringify({\n          username,\n          token,\n          password,\n          confirmPassword,\n        });\n\n        await axios.request({\n          method: 'post',\n          url: `${bundle.spaceLocation()}/app/reset-password/token`,\n          data,\n        });\n      } catch (error) {\n        if (error.response.status !== 302) {\n          setError(\n            'There was a problem resetting your password! Please note that password reset links may only be used once.',\n          );\n          return;\n        }\n      }\n      push('/login');\n    },\n    [username, password, confirmPassword, token, setError, setPending, push],\n  );\n\n  const fields = {\n    username: (\n      <div className=\"form-group\">\n        <label htmlFor=\"email\">\n          <I18n>Email Address</I18n>\n        </label>\n        <span className=\"form-control-plaintext\">{username}</span>\n      </div>\n    ),\n    password: (\n      <div className=\"form-group\">\n        <label htmlFor=\"password\" className=\"required\">\n          <I18n>New Password</I18n>\n        </label>\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          id=\"password\"\n          placeholder=\"password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n          aria-required=\"true\"\n        />\n      </div>\n    ),\n    confirmPassword: (\n      <div className=\"form-group\">\n        <label htmlFor=\"password\" className=\"required\">\n          <I18n>Confirm Password</I18n>\n        </label>\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          id=\"password\"\n          placeholder=\"password\"\n          value={confirmPassword}\n          onChange={e => setConfirmPassword(e.target.value)}\n          onBlur={() => setConfirmBlurred(true)}\n          aria-required=\"true\"\n        />\n      </div>\n    ),\n  };\n  const buttons = {\n    reset: (\n      <button\n        className=\"btn btn-primary\"\n        type=\"submit\"\n        disabled={pending || password !== confirmPassword || !password}\n      >\n        <I18n>Reset</I18n>\n      </button>\n    ),\n  };\n  const messages = {\n    validations: password !== confirmPassword &&\n      (password || confirmPassword) &&\n      confirmBlurred && (\n        <div className=\"text-danger\">\n          <I18n>Passwords must match.</I18n>\n        </div>\n      ),\n    error: error && (\n      <div className=\"text-danger\">\n        <I18n>{error}</I18n>\n      </div>\n    ),\n  };\n\n  return (\n    <form className=\"login-form-container\" onSubmit={handleReset}>\n      {typeof children === 'function' ? (\n        children({ fields, buttons, messages })\n      ) : (\n        <>\n          <div>{Object.values(fields)}</div>\n          <div>{Object.values(messages)}</div>\n          <div>{Object.values(buttons)}</div>\n        </>\n      )}\n    </form>\n  );\n});\n","import React, { useCallback, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { push } from 'connected-react-router';\nimport { useLocation, Link } from 'react-router-dom';\nimport { bundle, createSubmission, I18n } from '@kineticdata/react';\nimport { parse } from 'query-string';\nimport axios from 'axios';\nimport { LoginWrapper } from './LoginWrapper';\nimport Helmet from 'react-helmet';\n\nexport const CreateAccount = () => {\n  let location = useLocation();\n  const { invitationToken, email } = parse(location.search);\n\n  return (\n    <LoginWrapper>\n      <Helmet>\n        <title>Create Account | kinops</title>\n      </Helmet>\n      {invitationToken ? (\n        <CreateAccountForm\n          invitationToken={invitationToken}\n          email={email}\n          location={location}\n        >\n          {({ fields, buttons, messages }) => (\n            <>\n              <h3>\n                <I18n>Create Account</I18n>\n              </h3>\n              <div\n                style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                }}\n              >\n                <div className=\"form-group__columns\">\n                  {fields.firstName}\n                  {fields.lastName}\n                </div>\n                {fields.email}\n                {fields.password}\n                {fields.confirmPassword}\n                {messages.validations}\n                {messages.error}\n              </div>\n              <div className=\"button-group\">\n                {buttons.submit}\n                <hr />\n                <Link className=\"btn btn-link\" to={`/login${location.search}`}>\n                  <I18n>Already have an account? Sign In</I18n>\n                </Link>\n              </div>\n            </>\n          )}\n        </CreateAccountForm>\n      ) : (\n        <RequestAccountForm email={email}>\n          {({ fields, buttons, messages }) => (\n            <>\n              <h3>\n                <I18n>Get Started</I18n>\n              </h3>\n              <div\n                style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                }}\n              >\n                {messages.success || (\n                  <>\n                    <div className=\"form-group__columns\">\n                      {fields.firstName}\n                      {fields.lastName}\n                    </div>\n                    {fields.email}\n                    {fields.phoneNumber}\n                    {fields.comments}\n                    {messages.error}\n                  </>\n                )}\n              </div>\n              <div className=\"button-group\">\n                {buttons.submit}\n                <hr />\n                <Link className=\"btn btn-link\" to={`/login${location.search}`}>\n                  &larr; <I18n>Back to Sign In</I18n>\n                </Link>\n              </div>\n            </>\n          )}\n        </RequestAccountForm>\n      )}\n    </LoginWrapper>\n  );\n};\n\nconst RequestAccountForm = ({ children, email: defaultEmail }) => {\n  let [pending, setPending] = useState(false);\n  let [success, setSuccess] = useState(false);\n  let [error, setError] = useState(null);\n  let [firstName, setFirstName] = useState('');\n  let [lastName, setLastName] = useState('');\n  let [email, setEmail] = useState(defaultEmail || '');\n  let [phoneNumber, setPhoneNumber] = useState('');\n  let [comments, setComments] = useState('');\n\n  const handleResetRequest = useCallback(\n    async e => {\n      e.preventDefault();\n      setPending(true);\n      setSuccess(false);\n      setError(null);\n      try {\n        const response = await createSubmission({\n          kappSlug: 'admin',\n          formSlug: 'account-request',\n          values: {\n            'First Name': firstName,\n            'Last Name': lastName,\n            Email: email,\n            'Phone Number': phoneNumber,\n            Comments: comments,\n          },\n          public: true,\n        });\n\n        setPending(false);\n        if (response.error) {\n          setError(\n            response.error.fieldConstraintViolations &&\n            response.error.fieldConstraintViolations['Email']\n              ? 'You must enter a valid email address.'\n              : 'There was a problem requesting your new account. Please verify the information you entered.',\n          );\n        } else {\n          setSuccess(email);\n        }\n      } catch (_) {\n        setPending(false);\n        setError(\n          'There was a problem requesting your new account. Please verify the information you entered.',\n        );\n      }\n    },\n    [\n      firstName,\n      lastName,\n      email,\n      phoneNumber,\n      comments,\n      setError,\n      setPending,\n      setSuccess,\n    ],\n  );\n\n  const fields = {\n    firstName: (\n      <div className=\"form-group\">\n        <label htmlFor=\"firstName\" className=\"required\">\n          <I18n>First Name</I18n>\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"firstName\"\n          value={firstName}\n          onChange={e => setFirstName(e.target.value)}\n          aria-required=\"true\"\n        />\n      </div>\n    ),\n    lastName: (\n      <div className=\"form-group\">\n        <label htmlFor=\"lastName\" className=\"required\">\n          <I18n>Last Name</I18n>\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"lastName\"\n          value={lastName}\n          onChange={e => setLastName(e.target.value)}\n          aria-required=\"true\"\n        />\n      </div>\n    ),\n    email: (\n      <div className=\"form-group\">\n        <label htmlFor=\"email\" className=\"required\">\n          <I18n>Email Address</I18n>\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"email\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n          aria-required=\"true\"\n        />\n      </div>\n    ),\n    phoneNumber: (\n      <div className=\"form-group\">\n        <label htmlFor=\"phoneNumber\">\n          <I18n>Phone Number</I18n>\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"phoneNumber\"\n          value={phoneNumber}\n          onChange={e => setPhoneNumber(e.target.value)}\n        />\n      </div>\n    ),\n    comments: (\n      <div className=\"form-group\">\n        <label htmlFor=\"comments\">\n          <I18n>Comments</I18n>\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"comments\"\n          value={comments}\n          onChange={e => setComments(e.target.value)}\n        />\n      </div>\n    ),\n  };\n  const buttons = {\n    submit: (\n      <button\n        className=\"btn btn-primary\"\n        type=\"submit\"\n        disabled={\n          pending || !firstName || !lastName || !email || success === email\n        }\n      >\n        <I18n>Request Account</I18n>\n      </button>\n    ),\n  };\n  const messages = {\n    error: error && (\n      <div className=\"text-danger\">\n        <p>\n          <I18n>{error}</I18n>\n        </p>\n      </div>\n    ),\n    success: success && (\n      <div className=\"text-info\">\n        <p>\n          <strong>\n            <I18n>Your request for a new account has been received.</I18n>\n          </strong>\n        </p>\n        <p>\n          <I18n>\n            Your request for a new account is being reviewed by the team. Once\n            approved you will receive an email with further instructions.\n          </I18n>\n        </p>\n      </div>\n    ),\n  };\n\n  return (\n    <form className=\"login-form-container\" onSubmit={handleResetRequest}>\n      {typeof children === 'function' ? (\n        children({ fields, buttons, messages })\n      ) : (\n        <>\n          <div>{Object.values(fields)}</div>\n          <div>{Object.values(messages)}</div>\n          <div>{Object.values(buttons)}</div>\n        </>\n      )}\n    </form>\n  );\n};\n\nconst CreateAccountForm = connect(\n  null,\n  { push },\n)(({ children, invitationToken, email: defaultEmail, location }) => {\n  let [pending, setPending] = useState(false);\n  let [error, setError] = useState(null);\n  let [firstName, setFirstName] = useState('');\n  let [lastName, setLastName] = useState('');\n  let [email, setEmail] = useState(defaultEmail || '');\n  let [password, setPassword] = useState('');\n  let [confirmPassword, setConfirmPassword] = useState('');\n  let [confirmBlurred, setConfirmBlurred] = useState(false);\n\n  const handleLogin = useCallback(\n    async () => {\n      try {\n        await axios.post(\n          `${bundle.spaceLocation()}/app/login.do`,\n          {\n            j_username: email,\n            j_password: password,\n          },\n          {\n            __bypassAuthInterceptor: true,\n          },\n        );\n      } catch (error) {\n        push(`/login${location.search}`);\n      }\n    },\n    [email, password, location],\n  );\n\n  const handleResetRequest = useCallback(\n    async e => {\n      e.preventDefault();\n      setPending(true);\n      setError(null);\n      try {\n        await axios.post(\n          `${bundle.apiLocation()}/users?token=${invitationToken}`,\n          {\n            username: email,\n            email,\n            password,\n            displayName: `${firstName} ${lastName}`,\n            invitationToken,\n          },\n        );\n        handleLogin();\n      } catch (error) {\n        const errorMessage =\n          error.response.status === 404\n            ? 'Invitation expired.'\n            : error.response.status === 400\n              ? error.response.data.error\n              : '';\n        setError(\n          `There was a problem creating your new account. ${errorMessage}`,\n        );\n      }\n    },\n    [\n      firstName,\n      lastName,\n      email,\n      password,\n      invitationToken,\n      setError,\n      setPending,\n      handleLogin,\n    ],\n  );\n\n  const fields = {\n    firstName: (\n      <div className=\"form-group\">\n        <label htmlFor=\"firstName\" className=\"required\">\n          <I18n>First Name</I18n>\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"firstName\"\n          value={firstName}\n          onChange={e => setFirstName(e.target.value)}\n          aria-required=\"true\"\n        />\n      </div>\n    ),\n    lastName: (\n      <div className=\"form-group\">\n        <label htmlFor=\"lastName\" className=\"required\">\n          <I18n>Last Name</I18n>\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"lastName\"\n          value={lastName}\n          onChange={e => setLastName(e.target.value)}\n          aria-required=\"true\"\n        />\n      </div>\n    ),\n    email: (\n      <div className=\"form-group\">\n        <label htmlFor=\"email\" className=\"required\">\n          <I18n>Email Address</I18n>\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"email\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n          aria-required=\"true\"\n        />\n      </div>\n    ),\n    password: (\n      <div className=\"form-group\">\n        <label htmlFor=\"password\" className=\"required\">\n          <I18n>New Password</I18n>\n        </label>\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          id=\"password\"\n          placeholder=\"password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n          aria-required=\"true\"\n        />\n      </div>\n    ),\n    confirmPassword: (\n      <div className=\"form-group\">\n        <label htmlFor=\"confirm-password\" className=\"required\">\n          <I18n>Confirm Password</I18n>\n        </label>\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          id=\"confirm-password\"\n          placeholder=\"password\"\n          value={confirmPassword}\n          onChange={e => setConfirmPassword(e.target.value)}\n          onBlur={() => setConfirmBlurred(true)}\n          aria-required=\"true\"\n        />\n      </div>\n    ),\n  };\n  const buttons = {\n    submit: (\n      <button\n        className=\"btn btn-primary\"\n        type=\"submit\"\n        disabled={\n          pending ||\n          !firstName ||\n          !lastName ||\n          !email ||\n          password !== confirmPassword ||\n          !password\n        }\n      >\n        <I18n>Accept Invitation</I18n>\n      </button>\n    ),\n  };\n  const messages = {\n    validations: password !== confirmPassword &&\n      (password || confirmPassword) &&\n      confirmBlurred && (\n        <div className=\"text-danger\">\n          <p>\n            <I18n>Passwords must match.</I18n>\n          </p>\n        </div>\n      ),\n    error: error && (\n      <div className=\"text-danger\">\n        <p>\n          <I18n>{error}</I18n>\n        </p>\n      </div>\n    ),\n  };\n\n  return (\n    <form className=\"login-form-container\" onSubmit={handleResetRequest}>\n      {typeof children === 'function' ? (\n        children({ fields, buttons, messages })\n      ) : (\n        <>\n          <div>{Object.values(fields)}</div>\n          <div>{Object.values(messages)}</div>\n          <div>{Object.values(buttons)}</div>\n        </>\n      )}\n    </form>\n  );\n});\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { actions } from '../../redux/modules/app';\nimport { Login, LoginModal } from './Login';\nimport { ResetPassword } from './ResetPassword';\nimport { CreateAccount } from './CreateAccount';\n\nexport const Authentication = compose(\n  connect(\n    state => ({\n      authenticated: state.app.authenticated,\n      authRedirect: state.app.authRedirect,\n    }),\n    {\n      setAuthenticated: actions.setAuthenticated,\n    },\n  ),\n)(\n  ({\n    loggedIn,\n    loginProps,\n    timedOut,\n    authenticated,\n    setAuthenticated,\n    authRedirect,\n    location,\n    children,\n  }) => {\n    useEffect(\n      () => {\n        setAuthenticated(loggedIn);\n      },\n      [loggedIn, setAuthenticated, timedOut],\n    );\n\n    return (\n      <>\n        {timedOut && <LoginModal loginProps={loginProps} />}\n        <Switch>\n          {authenticated ? (\n            <Redirect\n              path={['/login', '/reset-password', '/create-account']}\n              to={authRedirect || '/'}\n            />\n          ) : (\n            [\n              <Route path=\"/login\" key=\"login\">\n                <Login loginProps={loginProps} />\n              </Route>,\n              <Route\n                path=\"/reset-password/:token?\"\n                key=\"reset\"\n                component={ResetPassword}\n              />,\n              <Route\n                path=\"/create-account\"\n                key=\"create\"\n                component={CreateAccount}\n              />,\n            ]\n          )}\n          <Route path=\"/\">{children}</Route>\n        </Switch>\n      </>\n    );\n  },\n);\n","import React from 'react';\nimport classNames from 'classnames';\n\nexport const Layout = ({\n  authenticated,\n  sidebar,\n  header,\n  main,\n  classNames: classes = {},\n  sidebarRef,\n  headerRef,\n  bodyRef,\n  asideRef,\n  mobile,\n  sidebarOpen,\n  toggleSidebar,\n  resizeAside,\n  toggleAside,\n  asideWidth,\n}) => {\n  return (\n    <div className=\"app-wrapper\">\n      {!!sidebar &&\n        authenticated && (\n          <nav\n            className={classNames('app-sidebar', {\n              closed: !mobile && sidebarOpen === -1,\n              closing: !mobile && sidebarOpen === 0,\n              open: mobile && sidebarOpen > 0,\n            })}\n            ref={sidebarRef}\n          >\n            {sidebar}\n          </nav>\n        )}\n\n      <div\n        className={classNames('app-body', classes.body)}\n        ref={bodyRef}\n        onClick={\n          mobile && !!sidebar && sidebarOpen > 0 ? toggleSidebar : undefined\n        }\n      >\n        {!!header && (\n          <header\n            className={classNames('app-header', classes.header)}\n            ref={headerRef}\n            style={\n              asideWidth && !mobile\n                ? { marginRight: `-${asideWidth[1]}px` }\n                : undefined\n            }\n          >\n            {header}\n          </header>\n        )}\n\n        <main\n          className={classNames('app-main', classes.main)}\n          style={\n            asideWidth && !mobile\n              ? { marginRight: `-${asideWidth[1]}px` }\n              : undefined\n          }\n        >\n          {main}\n        </main>\n      </div>\n      <aside\n        className=\"app-aside\"\n        id=\"app-aside\"\n        ref={asideRef}\n        style={\n          asideWidth && !mobile\n            ? { flexBasis: `${asideWidth[0]}px` }\n            : undefined\n        }\n      >\n        <div className=\"controls\" onMouseDown={resizeAside}>\n          <button\n            className=\"aside-toggle\"\n            aria-label=\"Toggle Aside\"\n            onClick={toggleAside}\n            onMouseDown={e => e.stopPropagation()}\n          >\n            <span className=\"fa fa-chevron-right\" />\n          </button>\n        </div>\n      </aside>\n    </div>\n  );\n};\n","import React, { Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { compose, withHandlers, withState } from 'recompose';\nimport { Link } from 'react-router-dom';\nimport { Dropdown, DropdownToggle, DropdownMenu } from 'reactstrap';\nimport { I18n } from '@kineticdata/react';\nimport { actions } from '../../redux/modules/alerts';\n\nconst AlertsDropdownComponent = ({\n  alerts,\n  error,\n  fetchAlertsRequest,\n  isSpaceAdmin,\n  isOpen,\n  toggle,\n}) => (\n  <Dropdown isOpen={isOpen} toggle={toggle}>\n    <DropdownToggle nav role=\"button\" aria-label=\"Alerts\">\n      <span className=\"fa fa-fw fa-bell\" alt=\"Alerts\" />\n      {alerts &&\n        alerts.size > 0 && (\n          <span className=\"badge badge-secondary\">{alerts.size}</span>\n        )}\n      {error && <span className=\"badge badge-secondary\">!</span>}\n    </DropdownToggle>\n    <DropdownMenu right className=\"alerts-menu\">\n      <div className=\"alerts-header\">\n        <span className=\"title\">\n          <I18n>Alerts</I18n>\n        </span>\n        <div className=\"actions\">\n          <button className=\"btn btn-link\" onClick={fetchAlertsRequest}>\n            <I18n>Refresh</I18n>\n          </button>\n          <span className=\"divider\">&bull;</span>\n          <Link to=\"/alerts\" onClick={toggle} role=\"menuitem\">\n            <I18n>View All</I18n>\n          </Link>\n          {isSpaceAdmin && (\n            <Fragment>\n              <span className=\"divider\">&bull;</span>\n              <Link to=\"/alerts/new\" onClick={toggle} role=\"menuitem\">\n                <I18n>New Alert</I18n>\n              </Link>\n            </Fragment>\n          )}\n        </div>\n      </div>\n      <div className=\"alerts-list\">\n        {error && (\n          <span className=\"empty-alerts\">\n            <I18n>There was an error fetching alerts.</I18n>\n          </span>\n        )}\n        {alerts &&\n          alerts.map(alert => (\n            <div key={alert.id} className=\"alert-item\" role=\"none\">\n              <h1 className=\"alert-item__title\">\n                <Link to={`/alerts/${alert.id}`} role=\"menuitem\">\n                  <small className=\"source\">\n                    <I18n>{alert.values.Source}</I18n>\n                  </small>\n                  <I18n>{alert.values.Title}</I18n>\n                </Link>\n              </h1>\n              <I18n\n                render={translate => (\n                  <p\n                    className=\"alert-item__content\"\n                    dangerouslySetInnerHTML={{\n                      __html: translate(alert.values.Content),\n                    }}\n                  />\n                )}\n              />\n              <span className=\"meta\">{alert.values.CreatedAt}</span>\n            </div>\n          ))}\n        {alerts &&\n          alerts.size < 1 && (\n            <span className=\"empty-alerts\">\n              <I18n>There are no active alerts.</I18n>\n            </span>\n          )}\n      </div>\n    </DropdownMenu>\n  </Dropdown>\n);\n\nexport const mapStateToProps = state => ({\n  alerts: state.alerts.data,\n  error: state.alerts.error,\n  isSpaceAdmin: state.app.profile.spaceAdmin,\n});\n\nconst mapDispatchToProps = {\n  fetchAlertsRequest: actions.fetchAlertsRequest,\n};\n\nexport const AlertsDropdown = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withState('isOpen', 'setIsOpen', false),\n  withHandlers({\n    toggle: props => () => props.setIsOpen(open => !open),\n  }),\n)(AlertsDropdownComponent);\n","import { Utils } from '@kineticdata/bundle-common';\n\n// Role Selectors\nexport const selectHasRoleDataAdmin = state =>\n  !state.app.loading\n    ? state.app.authenticated &&\n      Utils.isMemberOf(state.app.profile, 'Role::Data Admin')\n    : false;\nexport const selectHasRoleSubmissionSupport = state =>\n  !state.app.loading\n    ? state.app.authenticated &&\n      Utils.isMemberOf(state.app.profile, 'Role::Submission Support')\n    : false;\nexport const selectHasAccessToManagement = state =>\n  !state.app.loading\n    ? state.app.authenticated &&\n      (state.app.profile.spaceAdmin ||\n        selectHasRoleDataAdmin(state) ||\n        Utils.getTeams(state.app.profile).length > 0)\n    : false;\nexport const selectHasAccessToSupport = state =>\n  !state.app.loading\n    ? state.app.authenticated &&\n      (state.app.profile.spaceAdmin || selectHasRoleSubmissionSupport(state))\n    : false;\nexport const selectHasUserAccess = state =>\n  !state.app.loading\n    ? state.app.authenticated &&\n      (state.app.profile.spaceAdmin ||\n        (state.app.space.authorization &&\n          state.app.space.authorization['Users Access']))\n    : false;\nexport const selectHasTeamAccess = state =>\n  !state.app.loading\n    ? state.app.authenticated &&\n      (state.app.profile.spaceAdmin ||\n        (state.app.space.authorization &&\n          state.app.space.authorization['Teams Access']))\n    : false;\n\nexport const selectMenuLinks = object =>\n  object\n    ? Utils.getAttributeValues(object, 'Menu Link', [])\n        .map(link => {\n          const linkParts = link.split('|');\n          const label = linkParts[0] && linkParts[0].trim();\n          const path = linkParts[1] && linkParts[1].trim();\n          const relative = path && path.startsWith('/');\n          const icon = linkParts[2] && linkParts[2].trim();\n          return !!label && !!path\n            ? {\n                label,\n                path,\n                relative,\n                icon: icon\n                  ? icon.startsWith('fa-')\n                    ? icon\n                    : `fa-${icon}`\n                  : relative\n                    ? 'fa-arrow-circle-right'\n                    : 'fa-external-link-square',\n              }\n            : null;\n        })\n        .filter(Boolean)\n    : [];\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose, withHandlers, withState } from 'recompose';\nimport { Avatar, openModalForm } from '@kineticdata/bundle-common';\nimport { Link } from 'react-router-dom';\nimport { push } from 'connected-react-router';\nimport { Dropdown, DropdownToggle, DropdownMenu } from 'reactstrap';\nimport { logout, I18n } from '@kineticdata/react';\nimport * as selectors from '../../redux/selectors';\n\nconst HELP_FORM_CONFIG = {\n  formSlug: 'help',\n  kappSlug: 'admin',\n  title: 'Get Help',\n  confirmationMessage: \"We'll get you a response as soon as possible.\",\n};\n\nconst FEEDBACK_FORM_CONFIG = {\n  formSlug: 'feedback',\n  kappSlug: 'admin',\n  title: 'Give Feedback',\n  confirmationMessage:\n    \"Thanks for your feedback. We'll get that routed to the right team.\",\n};\n\nconst INVITE_OTHERS_FORM_CONFIG = {\n  formSlug: 'invite-users',\n  kappSlug: 'admin',\n  title: 'Invite Others',\n  confirmationMessage: \"We'll send those invitations out right away.\",\n};\n\nconst KITCHEN_SINK_FORM_CONFIG = {\n  formSlug: 'kitchen-sink-form',\n  kappSlug: 'queue',\n  title: 'Kitchen Sink',\n  confirmationMessage: 'That was the kitchen sink, how fun.',\n};\n\nconst ProfileDropdownComponent = ({\n  profile,\n  openFeedbackForm,\n  openHelpForm,\n  openInviteOthersForm,\n  isOpen,\n  toggle,\n  hasUserAccess,\n  hasTeamAccess,\n  push,\n}) => (\n  <Dropdown isOpen={isOpen} toggle={toggle} className=\"profile-dropdown\">\n    <DropdownToggle nav role=\"button\" aria-label=\"Profile Menu\">\n      <Avatar size={32} user={profile} previewable={false} round=\"0.3125rem\" />\n    </DropdownToggle>\n    <DropdownMenu right className=\"profile-menu\">\n      <div className=\"profile-header\">\n        <div className=\"name\">{profile.displayName}</div>\n        <small className=\"email\">{profile.email}</small>\n      </div>\n      <hr />\n      <div className=\"profile-links\">\n        <Link\n          to=\"/profile/edit\"\n          className=\"dropdown-item\"\n          onClick={toggle}\n          role=\"menuitem\"\n        >\n          <I18n>Profile</I18n>\n        </Link>\n        {profile.spaceAdmin && (\n          <button\n            onClick={openInviteOthersForm}\n            className=\"dropdown-item\"\n            role=\"menuitem\"\n          >\n            <I18n>Invite Others</I18n>\n          </button>\n        )}\n        <button\n          onClick={openHelpForm}\n          className=\"dropdown-item\"\n          role=\"menuitem\"\n        >\n          <I18n>Get Help</I18n>\n        </button>\n        <button\n          onClick={openFeedbackForm}\n          className=\"dropdown-item\"\n          role=\"menuitem\"\n        >\n          <I18n>Give Feedback</I18n>\n        </button>\n        {hasUserAccess && (\n          <Link\n            to=\"/about\"\n            className=\"dropdown-item\"\n            onClick={toggle}\n            role=\"menuitem\"\n          >\n            <I18n>About My Space</I18n>\n          </Link>\n        )}\n        {hasTeamAccess && (\n          <Link\n            to=\"/teams\"\n            className=\"dropdown-item\"\n            onClick={toggle}\n            role=\"menuitem\"\n          >\n            <I18n>Teams</I18n>\n          </Link>\n        )}\n        <hr />\n        <button onClick={logout} className=\"dropdown-item\" role=\"menuitem\">\n          <I18n>Logout</I18n>\n        </button>\n      </div>\n    </DropdownMenu>\n  </Dropdown>\n);\n\nconst mapStateToProps = state => ({\n  profile: state.app.profile,\n  hasUserAccess: selectors.selectHasUserAccess(state),\n  hasTeamAccess: selectors.selectHasTeamAccess(state),\n});\n\nconst mapDispatchToProps = { push };\n\nexport const ProfileDropdown = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withState('isOpen', 'setIsOpen', false),\n  withHandlers({\n    openHelpForm: props => () => {\n      props.setIsOpen(false);\n      openModalForm(HELP_FORM_CONFIG);\n    },\n    openFeedbackForm: props => () => {\n      props.setIsOpen(false);\n      openModalForm(FEEDBACK_FORM_CONFIG);\n    },\n    openInviteOthersForm: props => () => {\n      props.setIsOpen(false);\n      openModalForm(INVITE_OTHERS_FORM_CONFIG);\n    },\n    openKitchenSinkForm: props => () => {\n      props.setIsOpen(false);\n      openModalForm(KITCHEN_SINK_FORM_CONFIG);\n    },\n    toggle: props => () => props.setIsOpen(open => !open),\n  }),\n)(ProfileDropdownComponent);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { push } from 'connected-react-router';\nimport Autosuggest from 'react-autosuggest';\nimport {\n  fetchSubmission,\n  searchSubmissions,\n  fetchForms,\n  I18n,\n  defineKqlQuery,\n} from '@kineticdata/react';\nimport {\n  selectServicesKapp,\n  selectQueueKapp,\n} from '@kineticdata/bundle-common';\nimport { Modal } from 'reactstrap';\nimport classNames from 'classnames';\nimport { debounce } from 'lodash-es';\n\nconst GUID_PATTERN = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\nconst HANDLE_PATTERN = /^[0-9a-f]{6}$/i;\n\n// Max number of suggestions to show\nconst PAGE_SIZE = 25;\nconst INLINE_PAGE_SIZE = 100;\n// Minimum number of characters that must be typed to allow a search to execute\nconst MIN_SEARCH_LENGTH = 2;\n// Static parameters for servicesform search\nconst SERVICES_FORM_TYPES = ['Service'];\nconst SERVICES_FORM_STATUSES = ['New', 'Active'];\nconst SERVICES_FORM_FIELDS = ['name', 'description', 'attributes[Keyword]'];\n\nconst SUGGESTION_MAPPERS = {\n  form: form => ({\n    id: form.slug,\n    label: form.name,\n    path: `/kapps/${form.kapp.slug}/forms/${form.slug}`,\n    data: form,\n    type: 'form',\n  }),\n  submission: submission => ({\n    id: submission.id,\n    label: submission.label,\n    path: `/kapps/${submission.form.kapp.slug}/submissions/${submission.id}`,\n    data: submission,\n    type: 'submission',\n  }),\n};\n\nconst SUGGESTION_RENDERERS = {\n  form: ({ data }) => (\n    <div className=\"d-flex\">\n      <div className=\"icon align-self-center\">\n        <span className=\"fa fa-file-o fa-fw\" />\n      </div>\n      <div className=\"flex-grow-1\">\n        <div className=\"small\">{data.kapp.name}</div>\n        <div className=\"large\">{data.name}</div>\n      </div>\n    </div>\n  ),\n  submission: ({ data }) => (\n    <div className=\"d-flex\">\n      <div className=\"align-self-center\">\n        <span className=\"fa fa-file-text-o fa-fw\" />\n      </div>\n      <div className=\"flex-grow-1\">\n        {data.form && (\n          <div className=\"small\">\n            {data.form.kapp.name} > {data.form.name}\n          </div>\n        )}\n        <div className=\"large\">{data.label}</div>\n      </div>\n    </div>\n  ),\n};\n\n// Helper function for building user search q parameter\nconst buildFormQuery = value => {\n  const searcher = defineKqlQuery();\n  // Add static query parts\n  searcher.in('type', 'types').in('status', 'statuses');\n  // Add value query parts\n  searcher.or();\n  SERVICES_FORM_FIELDS.forEach(field => searcher.matches(field, 'value'));\n  searcher.end();\n  return searcher.end()({\n    statuses: SERVICES_FORM_STATUSES,\n    types: SERVICES_FORM_TYPES,\n    value,\n  });\n};\n\nclass SearchBarComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // Current value\n      value: props.value || '',\n      // Current results/suggestions\n      suggestions: [],\n      // Should the search bar be visible\n      open: !!props.inline,\n      // Is the search bar animating to open or close\n      animating: false,\n      // Should the suggestions/status be visible\n      active: !!props.inline,\n      // Is query executing\n      loading: false,\n      // Did query error\n      error: null,\n      // Did query return too many results\n      more: false,\n      // Did query return no results\n      empty: false,\n      // Is the enterd value too short\n      short: !props.value || props.value.length < MIN_SEARCH_LENGTH,\n    };\n    this.inline = props.inline;\n    this.pageSize = props.inline ? INLINE_PAGE_SIZE : PAGE_SIZE;\n    this.autosuggestRef = React.createRef();\n  }\n\n  componentDidMount() {\n    if (this.state.value && !this.state.short) {\n      this.setState({ loading: true });\n      this.search(this.state.value, this.onSuggestionsFetchCompleted);\n    }\n  }\n\n  /**\n   * Returns an array of dataSources that should be search for the given value\n   * Each dataSource is an object with the following properties:\n   *   fn: API function to call\n   *   params: Parameter object to pass to the API function\n   *   transform: Function that transforms the API results into the expected\n   *       suggestion format\n   *   then: Optional function to call after the query completes\n   */\n  generateDataSources = value => {\n    // Check if value matches a handle or guid\n    const isHandle = HANDLE_PATTERN.test(value);\n    const isGuid = GUID_PATTERN.test(value);\n\n    return [\n      // Search for services forms if value doesn't match a guid\n      !isGuid &&\n        !!this.props.servicesKapp && {\n          fn: fetchForms,\n          params: {\n            kappSlug: this.props.servicesKapp.slug,\n            q: buildFormQuery(value),\n            limit: this.pageSize,\n            include: 'details,categorizations,attributesMap,kapp',\n          },\n          transform: ({ forms, error, nextPageToken }) => ({\n            suggestions: forms ? forms.map(SUGGESTION_MAPPERS.form) : [],\n            error,\n            more: !!nextPageToken,\n          }),\n        },\n      // Search for specific submission if value is a guid\n      isGuid && {\n        fn: fetchSubmission,\n        params: { id: value, include: ['details', 'form', 'form.kapp'] },\n        transform: ({ submission, error }) => ({\n          suggestions: submission\n            ? [SUGGESTION_MAPPERS.submission(submission)]\n            : [],\n          error: error && error.statusCode === 404 ? null : error,\n          more: false,\n        }),\n      },\n      // Search for services submissions if value is a handle\n      isHandle &&\n        !!this.props.servicesKapp && {\n          fn: searchSubmissions,\n          params: {\n            search: {\n              q: `handle = \"${value}\"`,\n              include: ['details', 'form', 'form.kapp'],\n            },\n            kapp: this.props.servicesKapp.slug,\n            limit: this.pageSize,\n          },\n          transform: ({ submissions, error, nextPageToken }) => ({\n            suggestions: submissions\n              ? submissions.map(SUGGESTION_MAPPERS.submission)\n              : [],\n            error,\n            more: !!nextPageToken,\n          }),\n        },\n      // Search for services submissions if value is a handle\n      isHandle &&\n        !!this.props.queueKapp && {\n          fn: searchSubmissions,\n          params: {\n            search: {\n              q: `handle = \"${value}\"`,\n              include: ['details', 'form', 'form.kapp'],\n            },\n            kapp: this.props.queueKapp.slug,\n            limit: this.pageSize,\n          },\n          transform: ({ submissions, error, nextPageToken }) => ({\n            suggestions: submissions\n              ? submissions.map(SUGGESTION_MAPPERS.submission)\n              : [],\n            error,\n            more: !!nextPageToken,\n          }),\n        },\n    ].filter(Boolean);\n  };\n\n  completeAnimation = () => {\n    if (this.state.open && this.autosuggestRef.current) {\n      this.autosuggestRef.current.input.focus();\n    }\n    this.setState({ animating: false });\n  };\n\n  toggle = debounce(open => {\n    if ((open && !this.state.open) || (!open && this.state.open)) {\n      this.setState({ open, animating: true, value: '' });\n      window.setTimeout(this.completeAnimation, 300);\n    }\n  }, 200);\n\n  toggleOpen = () => {\n    this.toggle(true);\n  };\n\n  toggleClose = () => {\n    this.toggle(false);\n  };\n\n  focusInput = () => {\n    if (this.state.open && this.autosuggestRef.current) {\n      this.autosuggestRef.current.input.focus();\n    }\n  };\n\n  onBtnFocus = () => {\n    if (this.state.open) {\n      this.toggleOpen();\n    }\n  };\n\n  onBtnBlur = () => {\n    this.toggleClose();\n  };\n\n  // Set state value on change\n  onChange = (event, { newValue, method }) => {\n    this.setState({ value: newValue });\n    if (typeof this.props.onChange === 'function') {\n      this.props.onChange(newValue, method);\n    }\n  };\n\n  // Open suggestions container on focus\n  onFocus = () => {\n    // console.log('onFocus', { ...this.state });\n    if (!this.props.modal && !this.inline) {\n      this.setState({ active: true });\n      this.toggleOpen();\n    }\n  };\n\n  // Close suggestions container on blur\n  onBlur = () => {\n    // console.log('onBlur', { ...this.state });\n    if (!this.props.modal && !this.inline) {\n      this.setState({ active: false });\n      this.toggleClose();\n    }\n  };\n\n  // Initiate search on press of Enter key if query is valid\n  onKeyDown = event => {\n    if (event.keyCode === 13) {\n      // console.log(\n      //   'onKeyDown',\n      //   { ...this.state },\n      //   event.keyCode,\n      //   this.state.active,\n      // );\n      if (!this.state.short) {\n        this.goToAllResults();\n      }\n    }\n  };\n\n  // When a suggestion is selected, close suggestions container and take\n  // appropriate action based on type of suggestion\n  onSuggestionSelected = (event, { suggestion }) => {\n    // console.log('onSuggestionSelected', suggestion);\n    if (suggestion) {\n      this.navigate(suggestion.path);\n      if (this.autosuggestRef.current) {\n        this.autosuggestRef.current.input.blur();\n      }\n    }\n  };\n\n  navigate = debounce(\n    (...args) => {\n      this.props.push(...args);\n    },\n    200,\n    { leading: true, trailing: false },\n  );\n\n  goToAllResults = () => {\n    this.navigate(`/search/${this.state.value}`);\n  };\n\n  // Fetches the data to show as suggestions.\n  retrieveSuggestions = (value, callback) => {\n    const dataSources = this.generateDataSources(value);\n    // Fetch both forms and business applications\n    Promise.all(dataSources.map(ds => ds.fn(ds.params))).then(rawResults => {\n      // Call any then functions from the dataSources\n      rawResults.forEach((r, i) => {\n        if (typeof dataSources[i].then === 'function') {\n          dataSources[i].then(r);\n        }\n      });\n      // Transform each result\n      const results = rawResults.map((r, i) => dataSources[i].transform(r));\n      // Merge all suggestions together\n      const suggestions = results\n        .flatMap(r => r.suggestions || [])\n        .sort((a, b) => (a.label > b.label ? 1 : a.label < b.label ? -1 : 0))\n        .slice(0, this.pageSize);\n      // Call the callback function with the data\n      callback({\n        suggestions,\n        error: results.map(r => r.error).filter(Boolean)[0],\n        more: results.some(r => r.more) || suggestions.length > this.pageSize,\n      });\n    });\n  };\n\n  search = debounce((...args) => {\n    this.retrieveSuggestions(...args);\n  }, 150);\n\n  // When the value changes, validate the query and reset state. This will hide\n  // suggestions and re-show the help text if a user modifies their query.\n  onSuggestionsFetchRequested = ({ value, reason }) => {\n    // console.log('onSuggestionsFetchRequested', value, this.state.value, reason);\n\n    if (reason !== 'input-focused' || (!this.props.modal && !this.inline)) {\n      const short = value.length < MIN_SEARCH_LENGTH;\n      this.setState({\n        suggestions: [],\n        loading: !short,\n        error: null,\n        more: false,\n        empty: false,\n        short,\n      });\n      if (!short) {\n        this.search(value, this.onSuggestionsFetchCompleted);\n      }\n    }\n  };\n\n  // When a query is completed, update state with the suggestions and statuses\n  onSuggestionsFetchCompleted = ({ suggestions = [], error, more }) => {\n    // console.log('onSuggestionsFetchCompleted', { ...this.state }, suggestions);\n    this.setState({\n      suggestions,\n      loading: false,\n      error,\n      more,\n      empty: suggestions && suggestions.length === 0,\n    });\n  };\n\n  // When the search bar is blurred or a suggestion is selected, reset state\n  onSuggestionsClearRequested = (...args) => {\n    // console.log('onSuggestionsClearRequested', args);\n    if (!this.props.modal && !this.inline) {\n      this.setState({\n        suggestions: [],\n        loading: false,\n        error: null,\n        more: false,\n        empty: false,\n        short: true,\n      });\n    }\n  };\n\n  // Renders a single suggestion\n  renderSuggestion = (suggestion, { isHighlighted }) => {\n    const Component = SUGGESTION_RENDERERS[suggestion.type];\n    return (\n      <div\n        className={classNames('suggestion', {\n          active: isHighlighted,\n        })}\n      >\n        {Component && <Component data={suggestion.data} />}\n      </div>\n    );\n  };\n\n  // Renders the suggestions wrapper and any status/error messages\n  renderSuggestionsContainer = ({ containerProps, children }) =>\n    (this.props.modal ||\n      this.inline ||\n      (!this.state.animating && this.state.active)) && (\n      <div\n        {...containerProps}\n        className={classNames('suggestions', {\n          open: this.state.open,\n          inline: this.props.inline,\n        })}\n      >\n        {this.state.loading ? (\n          <div className=\"status info\">\n            <I18n>Searching...</I18n>\n          </div>\n        ) : this.state.short ? (\n          <div className=\"status info\">\n            <I18n\n              render={translate =>\n                translate(\n                  `Enter at least %d character${\n                    MIN_SEARCH_LENGTH !== 1 ? 's' : ''\n                  } to search for forms, or enter a handle to find your requests.`,\n                ).replace('%d', MIN_SEARCH_LENGTH)\n              }\n            />\n          </div>\n        ) : this.state.error ? (\n          <div className=\"status warning\">\n            <I18n>There was an error fetching results.</I18n>\n          </div>\n        ) : this.state.empty ? (\n          <div className=\"status warning\">\n            <I18n>No matching results</I18n>\n          </div>\n        ) : this.state.more ? (\n          <div className=\"status warning\">\n            <I18n\n              render={translate =>\n                translate(\n                  'Too many results, first %d shown. Please refine your search.',\n                ).replace('%d', this.pageSize)\n              }\n            />\n          </div>\n        ) : null}\n        {children}\n      </div>\n    );\n\n  renderInputComponent = inputProps => <input {...inputProps} />;\n\n  render() {\n    const { open, animating, value, suggestions } = this.state;\n\n    const autosuggest = (\n      <I18n\n        render={translate => (\n          <Autosuggest\n            getSuggestionValue={suggestion =>\n              suggestion ? suggestion.label : ''\n            }\n            inputProps={{\n              value: value,\n              onChange: this.onChange,\n              onBlur: this.onBlur,\n              onFocus: this.onFocus,\n              onKeyDown: this.onKeyDown,\n              placeholder: translate(''),\n              autoFocus: this.props.autoFocus,\n            }}\n            onSuggestionHighlighted={this.onHighlight}\n            onSuggestionSelected={this.onSuggestionSelected}\n            onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n            onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n            renderSuggestion={this.renderSuggestion}\n            renderSuggestionsContainer={this.renderSuggestionsContainer}\n            renderInputComponent={this.renderInputComponent}\n            alwaysRenderSuggestions={this.props.modal || this.inline}\n            suggestions={suggestions}\n            ref={this.autosuggestRef}\n          />\n        )}\n      />\n    );\n\n    return this.inline ? (\n      <div className=\"app-search--inline\">\n        <div className=\"kinetic-typeahead\">\n          <button className=\"search\" onClick={this.focusInput}>\n            <span className=\"fa fa-search\" />\n          </button>\n          {autosuggest}\n        </div>\n      </div>\n    ) : this.props.modal ? (\n      <>\n        <button className=\"search\" onClick={this.toggleOpen}>\n          <span className=\"fa fa-search\" />\n        </button>\n        <Modal\n          className=\"app-search--modal\"\n          size=\"lg\"\n          isOpen={this.state.open}\n          toggle={this.toggleClose}\n        >\n          <div className=\"kinetic-typeahead\">\n            <button className=\"search\" onClick={this.focusInput}>\n              <span className=\"fa fa-search\" />\n            </button>\n            {autosuggest}\n            <button\n              className=\"goto-search\"\n              onClick={this.goToAllResults}\n              disabled={!value}\n            >\n              <span className=\"fa fa-arrow-right\" />\n            </button>\n            <span className=\"divider\" />\n            <button className=\"close-search\" onClick={this.toggleClose}>\n              <span className=\"fa fa-times\" />\n            </button>\n          </div>\n        </Modal>\n      </>\n    ) : (\n      <div\n        className={classNames('kinetic-typeahead', this.props.className, {\n          open,\n          animating,\n        })}\n      >\n        <button\n          className=\"search\"\n          onClick={!open ? this.toggleOpen : this.focusInput}\n          onFocus={this.onBtnFocus}\n          onBlur={this.onBtnBlur}\n          disabled={animating}\n        >\n          <span className=\"fa fa-search\" />\n        </button>\n        {(open || animating) && autosuggest}\n        <button\n          className=\"goto-search\"\n          onClick={this.goToAllResults}\n          onFocus={this.onBtnFocus}\n          onBlur={this.onBtnBlur}\n          disabled={!value || !open || animating}\n        >\n          <span className=\"fa fa-arrow-right\" />\n        </button>\n      </div>\n    );\n  }\n}\n\nexport const SearchBar = connect(\n  state => ({\n    servicesKapp: selectServicesKapp(state),\n    queueKapp: selectQueueKapp(state),\n  }),\n  { push },\n)(SearchBarComponent);\n","export default {\n    CLIENT_SUBMIT: '/kapps/vteams/ticket',\n    CLIENT_HOME: '/kapps/vteams/home',\n    LOGO_LINK: '/kapps/vteams/',\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { AlertsDropdown } from './AlertsDropdown';\nimport { ProfileDropdown } from './ProfileDropdown';\nimport { SearchBar } from './SearchBar';\nimport { Utils } from '@kineticdata/bundle-common';\n\nimport logo from '../../assets/images/esolutions_logo_white.svg';\nimport URLS from 'vteams/globals/urls';\n\nconst HeaderComponent = props => (\n  <>\n    {props.mobile &&\n      !props.hideSidebarToggle &&\n      props.authenticated && (\n        <button className=\"toggle\" onClick={props.toggleSidebar}>\n          <span className=\"fa fa-bars\" />\n        </button>\n      )}\n    {props.logo &&\n      props.logo !== 'Disabled' && (\n        <Link className=\"logo\" to={URLS.CLIENT_HOME}>\n          <img src={props.logo} alt=\"Logo\" />\n        </Link>\n      )}\n\n    <div className=\"mr-auto\" aria-hidden=\"true\" />\n\n    {props.authenticated && <SearchBar modal={props.mobile} />}\n    {props.authenticated && !props.alertsDisabled && <AlertsDropdown />}\n    {props.authenticated && <ProfileDropdown />}\n    {!props.authenticated && (\n      <Link className=\"nav-link\" to={props.authRoute} title=\"Sign In\">\n        <i className=\"fa fa-fw fa-sign-in\" />\n      </Link>\n    )}\n  </>\n);\n\nexport const Header = connect(state => ({\n  authenticated: state.app.authenticated,\n  authRoute: state.app.authRoute,\n  logo: Utils.getAttributeValue(state.app.space, 'Logo', logo),\n  alertsDisabled: !Utils.getAttributeValue(state.app.space, 'Alerts Form Slug'),\n}))(HeaderComponent);\n","import React, { useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { matchPath } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport {\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n} from 'reactstrap';\nimport {\n  selectDiscussionsEnabled,\n  selectQueueKapp,\n  selectServicesKapp,\n  selectSurveyKapp,\n  selectTechBarKapp,\n  selectHasRoleSchedulerAdmin,\n  selectHasRoleSchedulerManager,\n  Utils,\n} from '@kineticdata/bundle-common';\nimport { I18n } from '@kineticdata/react';\nimport classNames from 'classnames';\nimport QueueApp from '@kineticdata/bundle-queue';\nimport ServicesApp from '@kineticdata/bundle-services';\nimport SurveyApp from '@kineticdata/bundle-survey';\nimport TechBarApp from '@kineticdata/bundle-tech-bar';\nimport { isMemberOf } from '@kineticdata/bundle-common/lib/utils';\n\nconst buildKappSettingsList = ({\n  profile,\n  queueKapp,\n  servicesKapp,\n  surveyKapp,\n  techBarKapp,\n}) =>\n  [\n    Utils.isKappManageable(queueKapp) &&\n      QueueApp.settingsRoute && {\n        label: `${queueKapp.name} Settings`,\n        to: `/kapps/${queueKapp.slug}${QueueApp.settingsRoute}`,\n      },\n    Utils.isKappManageable(servicesKapp) &&\n      ServicesApp.settingsRoute && {\n        label: `${servicesKapp.name} Settings`,\n        to: `/kapps/${servicesKapp.slug}${ServicesApp.settingsRoute}`,\n      },\n    Utils.isKappManageable(surveyKapp) &&\n      SurveyApp.settingsRoute && {\n        label: `${surveyKapp.name} Settings`,\n        to: `/kapps/${surveyKapp.slug}${SurveyApp.settingsRoute}`,\n      },\n    (Utils.isKappManageable(techBarKapp) ||\n      selectHasRoleSchedulerAdmin(profile) ||\n      selectHasRoleSchedulerManager(profile)) &&\n      TechBarApp.settingsRoute && {\n        label: `${techBarKapp.name} Settings`,\n        to: `/kapps/${techBarKapp.slug}${TechBarApp.settingsRoute}`,\n      },\n  ].filter(Boolean);\n\nconst SidebarComponent = props => {\n  const SidebarLink = useCallback(\n    ({ to, matchFn, matchParams = {}, matchExclude, icon, children }) => (\n      <Link\n        to={to}\n        className={classNames({\n          active:\n            (typeof matchFn === 'function'\n              ? matchFn(props.pathname)\n              : matchPath(props.pathname, { path: to, ...matchParams })) &&\n            (!matchExclude ||\n              !matchPath(props.pathname, {\n                path: matchExclude,\n                ...matchParams,\n              })),\n        })}\n        onClick={props.onSidebarAction}\n      >\n        <span className={icon} />\n        <span className=\"title\">{children}</span>\n      </Link>\n    ),\n    [props.pathname, props.onSidebarAction],\n  );\n\n  const kappSettingsList = buildKappSettingsList({\n    profile: props.profile,\n    queueKapp: props.queueKapp,\n    servicesKapp: props.servicesKapp,\n    surveyKapp: props.surveyKapp,\n    techBarKapp: props.techBarKapp,\n  });\n\n  return (\n    <>\n      <div className=\"app-sidebar__group app-sidebar__group--toggle\">\n        <button className=\"toggle\" onClick={props.toggleSidebar}>\n          <span\n            className={classNames('fa', {\n              'fa-bars': !props.mobile,\n              'fa-chevron-left': props.mobile,\n            })}\n          />\n        </button>\n      </div>\n\n      <div className=\"app-sidebar__group\">\n        <SidebarLink\n          to={`/kapps/vteams/home`}\n          icon=\"fa fa-home\"\n          matchExclude={`/kapps/${props.queueKapp.slug}${\n            QueueApp.settingsRoute\n          }`}\n        >\n          <I18n>Home</I18n>\n        </SidebarLink>\n\n        {isMemberOf(props.profile, 'vTeams') && (\n          <SidebarLink\n            to={`/kapps/vteams/clients`}\n            icon=\"fa fa-folder\"\n            matchExclude={`/kapps/${props.queueKapp.slug}${\n              QueueApp.settingsRoute\n            }`}\n          >\n            <I18n>Clients</I18n>\n          </SidebarLink>\n        )}\n\n        <SidebarLink\n          to={`/kapps/vteams/ticket`}\n          icon=\"fa fa-plus\"\n          matchExclude={`/kapps/${props.queueKapp.slug}${\n            QueueApp.settingsRoute\n          }`}\n        >\n          <I18n>New Ticket</I18n>\n        </SidebarLink>\n\n        {/* <SidebarLink to=\"/\" icon=\"fa fa-home\" matchParams={{ exact: true }}>\n          <I18n>Home</I18n>\n        </SidebarLink>\n        {Utils.isKappVisible(props.servicesKapp) && (\n          <SidebarLink\n            to={`/kapps/${props.servicesKapp.slug}/categories`}\n            icon=\"fa fa-files-o\"\n          >\n            <I18n>Service Catalog</I18n>\n          </SidebarLink>\n        )} */}\n\n        {/* {Utils.isKappVisible(props.queueKapp) && (\n          <SidebarLink\n            to={`/kapps/${props.queueKapp.slug}`}\n            icon=\"fa fa-tasks\"\n            matchExclude={`/kapps/${props.queueKapp.slug}${\n              QueueApp.settingsRoute\n            }`}\n          >\n            <I18n>Queue</I18n>\n          </SidebarLink>\n        )} */}\n\n        {/* {Utils.isKappVisible(props.techBarKapp) && (\n          <SidebarLink\n            to={`/kapps/${props.techBarKapp.slug}`}\n            icon=\"fa fa-clock-o\"\n            matchExclude={`/kapps/${props.techBarKapp.slug}${\n              TechBarApp.settingsRoute\n            }`}\n          >\n            <I18n>Tech Bar</I18n>\n          </SidebarLink>\n        )} */}\n      </div>\n      <div className=\"app-sidebar__group--divider\" />\n      <div className=\"app-sidebar__group\">\n        {/* {Utils.isKappVisible(props.servicesKapp) && (\n          <SidebarLink\n            to={`/kapps/${props.servicesKapp.slug}/requests`}\n            icon=\"fa fa-file-text-o\"\n          >\n            <I18n>My Requests</I18n>\n          </SidebarLink>\n        )}\n         */}\n        {Utils.isKappVisible(props.servicesKapp) &&\n          props.servicesFavoritesEnabled && (\n            <SidebarLink\n              to={`/kapps/${props.servicesKapp.slug}/favorites`}\n              icon=\"fa fa-star-o\"\n            >\n              <I18n>My Favorites</I18n>\n            </SidebarLink>\n          )}\n        {props.surveyKapp && (\n          <SidebarLink\n            to={`/kapps/${props.surveyKapp.slug}/my-surveys`}\n            icon=\"fa fa-pencil-square-o\"\n          >\n            <I18n>My Surveys</I18n>\n          </SidebarLink>\n        )}\n        {/* {props.discussionsEnabled && (\n          <SidebarLink to=\"/discussions\" icon=\"fa fa-comments-o\">\n            <I18n>My Discussions</I18n>\n          </SidebarLink>\n        )} */}\n      </div>\n      <div className=\"app-sidebar__group app-sidebar__group--static mt-auto\">\n        <div className=\"action-wrapper\">\n          <Link to=\"/settings\">\n            <span className=\"fa fa-cogs\" />\n            <span className=\"title\">Settings</span>\n          </Link>\n          {kappSettingsList.length > 0 && (\n            <UncontrolledDropdown\n              direction={props.isSmallLayout ? 'up' : 'right'}\n            >\n              <DropdownToggle className=\"dropdown-toggle\">\n                <span className={classNames('fa fa-angle-right')} />\n              </DropdownToggle>\n              <DropdownMenu>\n                {kappSettingsList.map(link => (\n                  <DropdownItem tag={Link} to={link.to} key={link.label}>\n                    <span className=\"title\">{link.label}</span>\n                  </DropdownItem>\n                ))}\n              </DropdownMenu>\n            </UncontrolledDropdown>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport const Sidebar = connect(state => ({\n  space: state.app.space,\n  profile: state.app.profile,\n  kapps: state.app.kapps,\n  queueKapp: selectQueueKapp(state),\n  servicesKapp: selectServicesKapp(state),\n  servicesFavoritesEnabled: Utils.hasProfileAttributeDefinition(\n    state.app.space,\n    'Services Favorites',\n  ),\n  surveyKapp: selectSurveyKapp(state),\n  techBarKapp: selectTechBarKapp(state),\n  pathname: state.router.location.pathname,\n  isSmallLayout: state.layout.size === 'small',\n  discussionsEnabled: selectDiscussionsEnabled(state),\n}))(SidebarComponent);\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout as DefaultLayout } from './Layout';\nimport { Header as DefaultHeader } from './Header';\nimport { Sidebar as DefaultSidebar } from './Sidebar';\nimport { EmptyMessage } from '@kineticdata/bundle-common';\nimport { actions } from '../../redux/modules/layout';\n\nconst INITIAL_ASIDE_WIDTH = 376;\nconst MIN_ASIDE_WIDTH = 320;\nconst MAX_ASIDE_BUFFER = 448;\nconst MIN_CONTENT_WIDTH = 1400;\n\nconst defineWidthAndOverlap = rawWidth => {\n  // Make sure width is between min and max values\n  const width = Math.max(\n    Math.min(rawWidth, document.body.clientWidth - MAX_ASIDE_BUFFER),\n    MIN_ASIDE_WIDTH,\n  );\n  return [\n    width,\n    // Calculate how much the aside will overlap the content\n    Math.min(\n      Math.max(MIN_CONTENT_WIDTH - (document.body.clientWidth - width), 0),\n      width,\n    ),\n  ];\n};\n\nexport default connect(\n  state => ({\n    sidebarOpen: state.layout.sidebarOpen,\n    authenticated: state.app.authenticated,\n  }),\n  { setSidebarOpen: actions.setSidebarOpen },\n)(props => {\n  const {\n    components: {\n      Layout = DefaultLayout,\n      Sidebar = DefaultSidebar,\n      Header = DefaultHeader,\n      Main,\n    } = {},\n    main: mainContent,\n    shouldHideHeader,\n    shouldHideSidebar,\n    shouldSuppressSidebar,\n    mobile,\n    sidebarOpen,\n    setSidebarOpen,\n    authenticated,\n  } = props;\n\n  // Sidebar state: 1 = open, 0 = closing, -1 = closed\n  // const [sidebarOpen, setSidebarOpen] = useState(\n  //   mobile || shouldSuppressSidebar ? -1 : 1,\n  // );\n  // Refs for main dom elements\n  const bodyRef = useRef(null);\n  const headerRef = useRef(null);\n  const sidebarRef = useRef(null);\n  const asideRef = useRef(null);\n  const asideX = useRef(null);\n  const [asideWidth, setAsideWidth] = useState(\n    defineWidthAndOverlap(INITIAL_ASIDE_WIDTH),\n  );\n\n  // Handle scroll event to show header at the top of the page whenever the user\n  // scrolls up\n  useEffect(() => {\n    if (\n      !headerRef.current ||\n      headerRef.current.classList.contains('app-header--sticky') ||\n      !bodyRef.current\n    ) {\n      return;\n    }\n\n    let previousScrollTop = 0;\n    const bodyEl = bodyRef.current,\n      headerEl = headerRef.current;\n\n    const handleBodyScroll = () => {\n      const scrollingUp = bodyEl.scrollTop < previousScrollTop;\n      if (scrollingUp) {\n        const headerRects = headerEl.getClientRects()[0];\n        // Add scrolled class to header if its floating below the top to add a drop-shadow\n        if (bodyEl.scrollTop > 0) {\n          headerEl.classList.add('scrolled');\n        } else {\n          headerEl.classList.remove('scrolled');\n        }\n        // If header isn't visible, move it into view\n        if (headerRects.bottom < 0) {\n          headerEl.style.top = `${Math.min(\n            previousScrollTop - headerRects.height,\n            bodyEl.scrollTop,\n          )}px`;\n        }\n        // If header is straddling the top, scroll with the page\n        else if (headerRects.top < 0) {\n          headerEl.style.top = `${headerEl.style.top + previousScrollTop}px`;\n        }\n        // If header is below the top, keep it locked at the top\n        else {\n          headerEl.style.top = `${bodyEl.scrollTop}px`;\n        }\n      }\n      previousScrollTop = bodyEl.scrollTop;\n    };\n\n    bodyEl.addEventListener('scroll', handleBodyScroll, {\n      passive: true,\n    });\n    return () => bodyEl.removeEventListener('scroll', handleBodyScroll);\n  }, []);\n\n  // Handle the resize event to make sidebar groups scrollable when needed,\n  // and also to resize aside when it's open and the window is resized.\n  useEffect(() => {\n    if (!sidebarRef.current && !asideRef.current) {\n      return;\n    }\n\n    const sidebarEl = sidebarRef.current;\n    const asideEl = asideRef.current;\n\n    const handleResize = () => {\n      // Check if any of the sidebar children overflow\n      if (sidebarEl) {\n        [...sidebarEl.children].forEach(el => {\n          if (el.scrollHeight > el.clientHeight) {\n            el.classList.add('scrollable');\n          } else {\n            el.classList.remove('scrollable');\n          }\n        });\n      }\n\n      // Check aside width to make sure it isn't too large due to the window resize\n      if (asideEl && asideEl.parentElement.classList.contains('aside--open')) {\n        setAsideWidth(w => defineWidthAndOverlap(w[0]));\n      }\n    };\n\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Handle changing the sidebar state to closed after it is set to closing,\n  // and setting the initial sidebar state\n  useEffect(\n    () => {\n      if (sidebarOpen === 0) {\n        if (mobile) {\n          setSidebarOpen(-1);\n        } else {\n          setTimeout(() => setSidebarOpen(-1), 300);\n        }\n      } else if (sidebarOpen === null) {\n        setSidebarOpen(mobile || shouldSuppressSidebar ? -1 : 1);\n      }\n    },\n    [sidebarOpen, setSidebarOpen, mobile, shouldSuppressSidebar],\n  );\n\n  // Handler for toggling the sidebar open or closed\n  const toggleSidebar = useCallback(\n    () => {\n      setSidebarOpen(sidebarOpen > 0 ? 0 : 1);\n    },\n    [sidebarOpen, setSidebarOpen],\n  );\n\n  // Handler for toggling sidebar after a link it it was clicked\n  const onSidebarAction = useCallback(\n    () => {\n      if (mobile) {\n        setSidebarOpen(-1);\n      } else if (sidebarOpen < 0) {\n        setSidebarOpen(0);\n      }\n    },\n    [mobile, sidebarOpen, setSidebarOpen],\n  );\n\n  //Event handler for mouseMove that sets the width of the aside\n  const onResizeAside = useCallback(\n    e => {\n      if (!asideRef.current) {\n        asideX.current = e.x;\n        return;\n      }\n\n      // Do not resize is mouse is outside min/max width\n      if (\n        e.x >= MAX_ASIDE_BUFFER &&\n        e.x <= document.body.clientWidth - MIN_ASIDE_WIDTH\n      ) {\n        const dx = asideX.current - e.x;\n        setAsideWidth(defineWidthAndOverlap(asideWidth[0] + dx));\n      }\n    },\n    [asideX, asideWidth, setAsideWidth],\n  );\n\n  // Event handler for mouseUp of mouseLeave for ending the aside resize\n  const onResizeAsideEnd = () => {\n    asideRef.current.parentElement.classList.remove('aside--resizing');\n    document.body.removeEventListener('mousemove', onResizeAside);\n  };\n\n  // Event handler for mouseDown for starting the aside resize\n  const resizeAside = e => {\n    if (\n      !asideRef.current.parentElement.classList.contains('aside--collapsed')\n    ) {\n      asideX.current = e.clientX;\n      asideRef.current.parentElement.classList.add('aside--resizing');\n      document.body.addEventListener('mousemove', onResizeAside);\n      document.body.addEventListener('mouseup', onResizeAsideEnd, {\n        once: true,\n      });\n    }\n  };\n\n  // Toggle collapsed state of the aside\n  const toggleAside = e => {\n    if (asideRef.current) {\n      if (\n        asideRef.current.parentElement.classList.contains('aside--collapsed')\n      ) {\n        asideRef.current.parentElement.classList.remove('aside--collapsed');\n      } else if (\n        asideRef.current.parentElement.classList.contains('aside--open')\n      ) {\n        asideRef.current.parentElement.classList.add('aside--collapsed');\n      }\n    }\n  };\n\n  // Header content to render\n  const header = !shouldHideHeader ? (\n    <Header\n      toggleSidebar={toggleSidebar}\n      mobile={mobile}\n      hideSidebarToggle={!!shouldHideSidebar}\n    />\n  ) : null;\n  // Sidebar content to render\n  const sidebar = !shouldHideSidebar ? (\n    <Sidebar\n      toggleSidebar={toggleSidebar}\n      onSidebarAction={onSidebarAction}\n      mobile={mobile}\n    />\n  ) : null;\n  // Main content to render\n  const main = Main ? (\n    <Main />\n  ) : (\n    mainContent || <EmptyMessage title=\"There's nothing here.\" />\n  );\n\n  return (\n    <Layout\n      authenticated={authenticated}\n      sidebar={sidebar}\n      header={header}\n      main={main}\n      classNames={props.classNames}\n      sidebarRef={sidebarRef}\n      headerRef={headerRef}\n      bodyRef={bodyRef}\n      asideRef={asideRef}\n      mobile={mobile}\n      sidebarOpen={sidebarOpen}\n      toggleSidebar={toggleSidebar}\n      resizeAside={resizeAside}\n      toggleAside={toggleAside}\n      asideWidth={asideWidth}\n    />\n  );\n});\n","import { connect } from 'react-redux';\nimport { compose, withProps } from 'recompose';\nimport {\n  PageTitle as CommonPageTitle,\n  selectCurrentKapp,\n} from '@kineticdata/bundle-common';\n\nexport const mapStateToProps = state => ({\n  space: state.app.space,\n  kapp: selectCurrentKapp(state),\n});\n\nexport const PageTitle = compose(\n  connect(mapStateToProps),\n  withProps(({ parts = [], ...props }) => ({\n    parts: parts.concat([\n      props.kapp && props.kapp.name,\n      props.space && props.space.name,\n    ]),\n  })),\n)(CommonPageTitle);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose, withHandlers, withProps } from 'recompose';\nimport { selectServicesKapp, ActivityFeed } from '@kineticdata/bundle-common';\nimport { searchSubmissions, defineKqlQuery } from '@kineticdata/react';\nimport { Constants, Utils, RequestCard } from '@kineticdata/bundle-services';\nimport { Link } from 'react-router-dom';\n\nconst buildSearch = username => {\n  const searcher = defineKqlQuery();\n  // Add static query parts\n  searcher.equals('type', 'type');\n  // Add value query parts\n  searcher\n    .or()\n    .equals(`values[${Constants.REQUESTED_FOR_FIELD}]`, 'username')\n    .equals(`values[${Constants.REQUESTED_BY_FIELD}]`, 'username')\n    .equals('submittedBy', 'username')\n    .equals('createdBy', 'username')\n    .end();\n  return {\n    q: searcher.end()({\n      type: Constants.SUBMISSION_FORM_TYPE,\n      username,\n    }),\n    include: [\n      'details',\n      'values',\n      'form',\n      'form.attributes',\n      'form.kapp',\n      'form.kapp.attributes',\n    ],\n  };\n};\n\nconst ServicesActivityComponent = ({ hidePaging = true, ...props }) => (\n  <ActivityFeed\n    feedKey={props.feedKey}\n    pageSize={props.pageSize || 5}\n    joinByDirection=\"DESC\"\n    joinBy=\"createdAt\"\n    dataSources={props.dataSources}\n    contentProps={{\n      hidePaging: hidePaging,\n      emptyMessage: {\n        title: 'No requests found.',\n        message: 'Submit a service and it will show up here!',\n      },\n    }}\n  />\n);\n\nexport const ServicesActivity = compose(\n  connect((state, props) => ({\n    kapp: selectServicesKapp(state),\n    username: state.app.profile.username,\n  })),\n  withHandlers({\n    buildRequestCard: props => record => (\n      <RequestCard\n        key={record.id}\n        submission={record}\n        path={Utils.getSubmissionPath(`/kapps/${props.kapp.slug}`, record)}\n        components={{ Link }}\n      />\n    ),\n  }),\n  withProps(props => ({\n    // The sources for the data shown in the activity feed\n    dataSources: {\n      requests: {\n        fn: searchSubmissions,\n        params: (prevParams, prevResult) =>\n          prevParams && prevResult\n            ? prevResult.nextPageToken\n              ? { ...prevParams, pageToken: prevResult.nextPageToken }\n              : null\n            : {\n                kapp: props.kapp && props.kapp.slug,\n                limit: props.chunkSize || 5,\n                search: buildSearch(props.username),\n              },\n        transform: result => ({\n          data: result.submissions,\n          nextPageToken: result.nextPageToken,\n        }),\n        component: props.buildRequestCard,\n      },\n    },\n  })),\n)(ServicesActivityComponent);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose, withHandlers, withProps } from 'recompose';\nimport { selectQueueKapp, ActivityFeed } from '@kineticdata/bundle-common';\nimport { searchSubmissions, defineKqlQuery } from '@kineticdata/react';\nimport { QueueCard } from '@kineticdata/bundle-queue';\nimport { Link } from 'react-router-dom';\n\nconst buildSearch = username => {\n  const searcher = defineKqlQuery();\n  searcher\n    .in('values[Status]', 'status')\n    .equals(`values[Assigned Individual]`, 'username')\n    .end();\n  return {\n    q: searcher.end()({\n      status: ['Open', 'Pending'],\n      username,\n    }),\n    include: ['details', 'values', 'form', 'form.kapp'],\n  };\n};\n\nconst QueueActivityComponent = ({ hidePaging = true, ...props }) => (\n  <ActivityFeed\n    feedKey={props.feedKey}\n    pageSize={props.pageSize || 5}\n    joinByDirection=\"DESC\"\n    joinBy=\"createdAt\"\n    dataSources={props.dataSources}\n    contentProps={{\n      hidePaging: hidePaging,\n      emptyMessage: {\n        title: 'No actions found.',\n        message: 'Actions assigned to you will appear here.',\n      },\n    }}\n  />\n);\n\nexport const QueueActivity = compose(\n  connect((state, props) => ({\n    kapp: selectQueueKapp(state),\n    username: state.app.profile.username,\n  })),\n  withHandlers({\n    buildActionCard: props => record => (\n      <QueueCard\n        key={record.id}\n        submission={record}\n        path={`/kapps/${props.kapp.slug}/list/Mine/item/${record.id}`}\n        components={{ Link }}\n      />\n    ),\n  }),\n  withProps(props => ({\n    // The sources for the data shown in the activity feed\n    dataSources: {\n      actions: {\n        fn: searchSubmissions,\n        params: (prevParams, prevResult) =>\n          prevParams && prevResult\n            ? prevResult.nextPageToken\n              ? { ...prevParams, pageToken: prevResult.nextPageToken }\n              : null\n            : {\n                kapp: props.kapp && props.kapp.slug,\n                limit: props.chunkSize || 5,\n                search: buildSearch(props.username),\n              },\n        transform: result => ({\n          data: result.submissions,\n          nextPageToken: result.nextPageToken,\n        }),\n        component: props.buildActionCard,\n      },\n    },\n  })),\n)(QueueActivityComponent);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose, lifecycle, withProps, withState } from 'recompose';\nimport { Link } from 'react-router-dom';\nimport { PageTitle } from '../shared/PageTitle';\nimport {\n  selectQueueKapp,\n  selectServicesKapp,\n  selectSurveyKapp,\n  selectTechBarKapp,\n  Card,\n  CardRow,\n  CardCol,\n} from '@kineticdata/bundle-common';\nimport { I18n } from '@kineticdata/react';\nimport { CategoryCard, CategoryHelper } from '@kineticdata/bundle-services';\nimport { ServicesActivity } from './ServicesActivity';\nimport { QueueActivity } from './QueueActivity';\n\nexport const HomeComponent = ({\n  space,\n  kapp,\n  forms,\n  visibleKapps,\n  profile,\n  pathname,\n  servicesKapp,\n  rootCategories,\n  featuredServices,\n  queueKapp,\n}) => (\n  <div className=\"page-container\">\n    <div className=\"page-panel\">\n      <PageTitle\n        parts={['Home']}\n        title=\"Welcome\"\n        subtitle=\"What can we help you with today?\"\n        hero={true}\n        image={true}\n        withCard={!!featuredServices}\n        center={true}\n      >\n        {!!featuredServices &&\n          featuredServices.map(form => (\n            <Card\n              key={form.slug}\n              to={`/kapps/${servicesKapp.slug}/forms/${form.slug}`}\n              color=\"white\"\n              style={{ maxHeight: '6rem' }}\n            >\n              <CardRow>\n                <CardCol type={['prepend', 'icon']}>\n                  <span\n                    className={`fa fa-${(form.icon || 'arrow-right').replace(\n                      /^fa-/i,\n                      '',\n                    )} fa-fw`}\n                  />\n                </CardCol>\n                <CardCol>\n                  <CardRow type=\"subtitle\">\n                    <I18n>{form.name}</I18n>\n                  </CardRow>\n                </CardCol>\n              </CardRow>\n            </Card>\n          ))}\n      </PageTitle>\n\n      <div className=\"column-container\">\n        <div className=\"column-panel column-panel--two-thirds\">\n          {!!servicesKapp && (\n            <>\n              <div className=\"section__title\">\n                <span className=\"title\">\n                  <I18n>Recent Requests</I18n>\n                </span>\n                <Link\n                  className=\"btn btn-link\"\n                  to={`/kapps/${servicesKapp.slug}/requests`}\n                >\n                  <I18n>View All</I18n>\n                </Link>\n              </div>\n              <div className=\"cards\">\n                <ServicesActivity />\n              </div>\n            </>\n          )}\n          {!!queueKapp && (\n            <>\n              <div className=\"section__title\">\n                <span className=\"title\">\n                  <I18n>Queue Actions</I18n>\n                </span>\n                <Link className=\"btn btn-link\" to={`/kapps/${queueKapp.slug}`}>\n                  <I18n>View All</I18n>\n                </Link>\n              </div>\n              <div className=\"cards\">\n                <QueueActivity />\n              </div>\n            </>\n          )}\n        </div>\n\n        {rootCategories && (\n          <div className=\"column-panel column-panel--thirds\">\n            <div className=\"section__title\">\n              <span className=\"title\">\n                <I18n>Categories</I18n>\n              </span>\n              <Link\n                className=\"btn btn-link\"\n                to={`/kapps/${servicesKapp.slug}/categories`}\n              >\n                <I18n>View All</I18n>\n              </Link>\n            </div>\n            <div className=\"cards\">\n              {rootCategories.map(category => (\n                <CategoryCard\n                  key={category.slug}\n                  category={category}\n                  path={`/kapps/${servicesKapp.slug}/categories/${\n                    category.slug\n                  }`}\n                  countOfMatchingForms={category.getTotalFormCount()}\n                  components={{ Link }}\n                />\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  </div>\n);\n\nexport const mapStateToProps = state => {\n  return {\n    space: state.app.space,\n    kapps: state.app.kapps,\n    queueKapp: selectQueueKapp(state),\n    servicesKapp: selectServicesKapp(state),\n    surveyKapp: selectSurveyKapp(state),\n    techBarKapp: selectTechBarKapp(state),\n    profile: state.app.profile,\n    pathname: state.router.location.pathname,\n  };\n};\n\nexport const Home = compose(\n  connect(mapStateToProps),\n  withState(\n    'servicesCategories',\n    'setServicesCategories',\n    props =>\n      props.servicesKapp\n        ? CategoryHelper(props.servicesKapp.categories, true)\n        : null,\n  ),\n  withProps(props => {\n    if (props.servicesCategories) {\n      const featuredCategory = props.servicesCategories.getCategory(\n        'featured-services',\n      );\n      return {\n        rootCategories: props.servicesCategories\n          .getRootCategories()\n          .filterNot(c => c.hidden || c.isEmpty()),\n        featuredServices:\n          featuredCategory && featuredCategory.allForms.size > 0\n            ? featuredCategory.allForms.slice(0, 2)\n            : null,\n      };\n    } else {\n      return {};\n    }\n  }),\n  lifecycle({\n    componentDidMount() {},\n    componentDidUpdate(prevProps) {\n      if (this.props.servicesKapp && !prevProps.servicesKapp) {\n        this.props.setServicesCategories(\n          CategoryHelper(this.props.servicesKapp.categories, true),\n        );\n      }\n    },\n  }),\n)(HomeComponent);\n","import React, { Fragment } from 'react';\nimport { PageTitle } from './shared/PageTitle';\nimport { SearchBar } from './layout/SearchBar';\nimport { I18n } from '@kineticdata/react';\n\nexport const SearchResults = props => {\n  const query = props.match.params.query;\n\n  return (\n    <Fragment>\n      <PageTitle parts={[query, 'Search']} />\n      <div className=\"page-container\">\n        <div className=\"page-panel\">\n          <h1>\n            <I18n>Search Results</I18n>\n            {query && <small className=\"ml-2\">({query})</small>}\n          </h1>\n          <section className=\"mt-3\">\n            <hr />\n            <SearchBar\n              inline={true}\n              value={query}\n              onChange={(value, method) => {\n                if (['type', 'escape'].includes(method)) {\n                  props.history.replace(`/search/${encodeURIComponent(value)}`);\n                }\n              }}\n            />\n          </section>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n","import React, { Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { push } from 'connected-react-router';\nimport { UncontrolledDropdown, DropdownToggle, DropdownMenu } from 'reactstrap';\nimport { compose, withState } from 'recompose';\nimport { ErrorMessage, TableComponents } from '@kineticdata/bundle-common';\nimport { PageTitle } from './shared/PageTitle';\nimport { I18n, FormTable } from '@kineticdata/react';\n\nconst TableNameCell = ({ row, value, tableOptions }) => (\n  <td>\n    <Link\n      to={`/kapps/${tableOptions.kappSlug}/forms/${row.get(\n        'slug',\n      )}/submissions`}\n    >\n      {value}\n    </Link>\n    <br />\n    <small>{row.get('slug')}</small>\n  </td>\n);\n\nconst TableActionsCell = ({ profile }) => ({ row, value, tableOptions }) => (\n  <td className=\"text-right\" style={{ width: '1%' }}>\n    <UncontrolledDropdown className=\"more-actions\">\n      <DropdownToggle tag=\"button\" className=\"btn btn-sm btn-link\">\n        <span className=\"sr-only\">More Actions</span>\n        <span className=\"fa fa-chevron-down fa-fw\" role=\"presentation\" />\n      </DropdownToggle>\n      <DropdownMenu right positionFixed>\n        <Link\n          to={`/kapps/${tableOptions.kappSlug}/forms/${row.get('slug')}`}\n          className=\"dropdown-item\"\n        >\n          <I18n>Create Submission</I18n>\n        </Link>\n        <Link\n          to={`/kapps/${tableOptions.kappSlug}/forms/${row.get(\n            'slug',\n          )}/submissions`}\n          className=\"dropdown-item\"\n        >\n          <I18n>View Submissions</I18n>\n        </Link>\n        {profile &&\n          profile.spaceAdmin && (\n            <a\n              href={`/app/builder/#/${tableOptions.kappSlug}/forms/${row.get(\n                'slug',\n              )}/builder`}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              className=\"dropdown-item\"\n            >\n              <I18n>Form Builder</I18n>\n            </a>\n          )}\n      </DropdownMenu>\n    </UncontrolledDropdown>\n  </td>\n);\n\nexport const KappComponent = ({\n  authenticated,\n  kappSlug,\n  kapp,\n  profile,\n  filterOpen,\n  setFilterOpen,\n}) => {\n  const EmptyBodyRow = TableComponents.generateEmptyBodyRow({\n    loadingMessage: 'Loading Forms...',\n    noSearchResultsMessage:\n      'No forms were found - please modify your search criteria',\n    noItemsMessage: 'There are no forms to display.',\n  });\n\n  const FilterFormLayout = TableComponents.generateFilterFormLayout({\n    isOpen: filterOpen,\n    toggle: () => setFilterOpen(open => !open),\n  });\n\n  return (\n    <Fragment>\n      <div className=\"page-container\">\n        <div className=\"page-panel\">\n          <PageTitle\n            parts={[(kapp && kapp.name) || kappSlug]}\n            title={(kapp && kapp.name) || kappSlug}\n            subtitle=\"Forms\"\n          />\n          {!!kapp ? (\n            <FormTable\n              key={`form-list-${kappSlug}`}\n              tableKey={`form-list-${kappSlug}`}\n              uncontrolled={true}\n              kappSlug={kapp.slug}\n              components={{\n                EmptyBodyRow,\n                FilterFormLayout,\n                FilterFormButtons: TableComponents.FilterFormButtons,\n              }}\n              columnSet={[\n                'name',\n                'description',\n                'type',\n                'updatedAt',\n                'createdAt',\n                'status',\n                'actions',\n              ]}\n              defaultSortColumn=\"name\"\n              defaultSortDirection=\"asc\"\n              addColumns={[\n                { value: 'description', title: 'Description', sortable: false },\n                {\n                  value: 'actions',\n                  title: ' ',\n                  sortable: false,\n                  components: {\n                    BodyCell: TableActionsCell({ profile }),\n                  },\n                  className: 'text-right',\n                },\n              ]}\n              alterColumns={{\n                updatedAt: {\n                  components: { BodyCell: TableComponents.TimeAgoCell },\n                },\n                createdAt: {\n                  components: { BodyCell: TableComponents.TimeAgoCell },\n                },\n                name: { components: { BodyCell: TableNameCell } },\n                status: {\n                  components: {\n                    BodyCell: TableComponents.StatusBadgeCell,\n                  },\n                },\n              }}\n              filterSet={['name', 'type', 'status']}\n              onSearch={() => () => setFilterOpen(false)}\n            >\n              {({\n                pagination,\n                table,\n                filter,\n                appliedFilters,\n                filterFormKey,\n              }) => {\n                return (\n                  <div>\n                    <div className=\"text-right mb-2\">{filter}</div>\n                    <TableComponents.FilterPills\n                      filterFormKey={filterFormKey}\n                      appliedFilters={appliedFilters}\n                    />\n                    <div className=\"scroll-wrapper-h\">{table}</div>\n                    {pagination}\n                  </div>\n                );\n              }}\n            </FormTable>\n          ) : (\n            <ErrorMessage\n              title=\"Kapp Not Found\"\n              message={`The kapp with slug '${kappSlug}' could not be found.`}\n            />\n          )}\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport const mapStateToProps = state => {\n  return {\n    kappSlug: state.app.kappSlug,\n    kapp: state.app.kapp,\n    authenticated: state.app.authenticated,\n    profile: state.app.profile,\n  };\n};\n\nexport const mapDispatchToProps = { push };\n\nconst enhance = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withState('filterOpen', 'setFilterOpen', false),\n);\n\nexport const Kapp = enhance(KappComponent);\n","import React, { Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { push } from 'connected-react-router';\nimport { UncontrolledDropdown, DropdownToggle, DropdownMenu } from 'reactstrap';\nimport { compose, lifecycle, withState } from 'recompose';\nimport {\n  ErrorMessage,\n  TableComponents,\n  TimeAgo,\n} from '@kineticdata/bundle-common';\nimport { PageTitle } from './shared/PageTitle';\nimport { I18n, SubmissionTable } from '@kineticdata/react';\nimport { actions } from '../redux/modules/forms';\n\nconst TableLabelCell = ({ row, value, tableOptions }) => (\n  <td>\n    <Link\n      to={`/kapps/${tableOptions.kappSlug}/forms/${\n        tableOptions.formSlug\n      }/submissions/${row.get('id')}`}\n    >\n      {value}\n    </Link>\n    <br />\n    <small>\n      {row.get('handle')} • {row.get('id')}\n    </small>\n  </td>\n);\n\nconst SubmittedCell = ({ row, value }) => (\n  <td>\n    {value ? (\n      <>\n        <TimeAgo timestamp={value} /> <I18n>by</I18n> {row.get('submittedBy')}\n      </>\n    ) : (\n      ''\n    )}\n  </td>\n);\n\nconst CreatedCell = ({ row, value }) => (\n  <td>\n    {value ? (\n      <>\n        <TimeAgo timestamp={value} /> <I18n>by</I18n> {row.get('createdBy')}\n      </>\n    ) : (\n      ''\n    )}\n  </td>\n);\n\nexport const SubmissionsComponent = ({\n  authenticated,\n  kappSlug,\n  kapp,\n  formSlug,\n  form,\n  formLoading,\n  filterOpen,\n  setFilterOpen,\n}) => {\n  const EmptyBodyRow = TableComponents.generateEmptyBodyRow({\n    loadingMessage: 'Loading Submissions...',\n    noSearchResultsMessage:\n      'No submissions were found - please modify your search criteria',\n    noItemsMessage: 'There are no submissions to display.',\n    errorMessage: (error, translate) => (\n      <>\n        <div>\n          {translate(\n            'There was a problem loading information from the server!',\n          )}\n        </div>\n        <code>{error.message}</code>\n      </>\n    ),\n  });\n\n  const FilterFormLayout = TableComponents.generateFilterFormLayout({\n    isOpen: filterOpen,\n    toggle: () => setFilterOpen(open => !open),\n    fieldsLayout: [\n      ['startDate', 'endDate'],\n      'coreState',\n      'submittedBy',\n      'values',\n    ],\n  });\n\n  return (\n    <Fragment>\n      <div className=\"page-container\">\n        <div className=\"page-panel\">\n          <PageTitle\n            parts={[\n              (form && form.name) || (!formLoading ? formSlug : ''),\n              (kapp && kapp.name) || kappSlug,\n            ]}\n            breadcrumbs={[\n              {\n                label: (kapp && kapp.name) || kappSlug,\n                to: `/kapps/${kappSlug}`,\n              },\n            ]}\n            title={(form && form.name) || (!formLoading ? formSlug : '')}\n            subtitle=\"Submissions\"\n            actions={[\n              {\n                label: 'Create Submission',\n                to: `/kapps/${kappSlug}/forms/${formSlug}`,\n              },\n              form &&\n                form.authorization &&\n                form.authorization.Modification && {\n                  label: 'Form Builder',\n                  href: `/app/builder/#/${kappSlug}/forms/${formSlug}/builder`,\n                  menu: true,\n                },\n            ]}\n          />\n          {!!kapp ? (\n            <SubmissionTable\n              tableKey={`submission-list-${kappSlug}-${formSlug}`}\n              uncontrolled={true}\n              kappSlug={kapp.slug}\n              formSlug={formSlug}\n              components={{\n                EmptyBodyRow,\n                FilterFormLayout,\n                FilterFormButtons: TableComponents.FilterFormButtons,\n              }}\n              columnSet={['label', 'coreState', 'submittedAt', 'createdAt']}\n              defaultSortColumn=\"createdAt\"\n              defaultSortDirection=\"desc\"\n              alterColumns={{\n                submittedAt: {\n                  title: 'Submitted',\n                  components: { BodyCell: SubmittedCell },\n                },\n                createdAt: {\n                  title: 'Created',\n                  components: { BodyCell: CreatedCell },\n                },\n                label: {\n                  title: 'Label • Handle • Id',\n                  components: { BodyCell: TableLabelCell },\n                },\n                coreState: {\n                  components: {\n                    BodyCell: TableComponents.CoreStateBadgeCell,\n                  },\n                },\n              }}\n              filterSet={[\n                'startDate',\n                'endDate',\n                'submittedBy',\n                'coreState',\n                'values',\n              ]}\n              onSearch={() => () => setFilterOpen(false)}\n            >\n              {({\n                pagination,\n                table,\n                filter,\n                appliedFilters,\n                filterFormKey,\n                ...rest\n              }) => {\n                return (\n                  <div>\n                    <div className=\"text-right mb-2\">{filter}</div>\n                    <TableComponents.FilterPills\n                      filterFormKey={filterFormKey}\n                      appliedFilters={appliedFilters}\n                    />\n                    <div className=\"scroll-wrapper-h\">{table}</div>\n                    {pagination}\n                  </div>\n                );\n              }}\n            </SubmissionTable>\n          ) : (\n            <ErrorMessage\n              title=\"Kapp Not Found\"\n              message={`The kapp with slug '${kappSlug}' could not be found.`}\n            />\n          )}\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport const mapStateToProps = (state, props) => {\n  return {\n    kappSlug: state.app.kappSlug,\n    kapp: state.app.kapp,\n    formSlug: props.match.params.formSlug,\n    form: state.forms.getIn([state.app.kappSlug, props.match.params.formSlug]),\n    formLoading:\n      state.forms.getIn([state.app.kappSlug, props.match.params.formSlug]) ===\n      null,\n    authenticated: state.app.authenticated,\n  };\n};\n\nexport const mapDispatchToProps = { push, fetchForm: actions.fetchFormRequest };\n\nconst enhance = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withState('filterOpen', 'setFilterOpen', false),\n  lifecycle({\n    componentDidMount() {\n      if (!this.props.form && !this.props.formLoading) {\n        this.props.fetchForm({\n          kappSlug: this.props.kappSlug,\n          formSlug: this.props.formSlug,\n        });\n      }\n    },\n    componentDidUpdate(prevProps) {\n      if (\n        this.props.formSlug !== prevProps.formSlug &&\n        !this.props.form &&\n        !this.props.formLoading\n      ) {\n        this.props.fetchForm({\n          kappSlug: this.props.kappSlug,\n          formSlug: this.props.formSlug,\n        });\n      }\n    },\n  }),\n);\n\nexport const Submissions = enhance(SubmissionsComponent);\n","import React, { Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { push } from 'connected-react-router';\nimport { compose, withHandlers } from 'recompose';\nimport { CoreForm } from '@kineticdata/react';\nimport { addToast } from '@kineticdata/bundle-common';\nimport { PageTitle } from './shared/PageTitle';\nimport { parse } from 'query-string';\n\nimport { I18n } from '@kineticdata/react';\n\nconst Layout = ({ authenticated, kapp, isPublic }) => ({\n  form,\n  submission,\n  content,\n}) => (\n  <>\n    {!isPublic && (\n      <PageTitle\n        parts={[form && form.name, kapp && kapp.name]}\n        breadcrumbs={[\n          kapp && {\n            label: kapp.name,\n            to: `/kapps/${kapp.slug}`,\n          },\n          kapp &&\n            form && {\n              label: `${form ? form.name : ''} Submissions`,\n              to: `/kapps/${kapp.slug}/forms/${form.slug}/submissions`,\n            },\n        ]}\n        title={form && form.name}\n        subtitle={submission && submission.label}\n      />\n    )}\n    {content}\n  </>\n);\n\nexport const FormComponent = ({\n  authenticated,\n  isPublic,\n  match: {\n    params: { formSlug, id },\n  },\n  handleCreated,\n  handleCompleted,\n  handleLoaded,\n  handleDelete,\n  values,\n  kappSlug,\n  Layout,\n}) => (\n  <Fragment>\n    <div className={!isPublic ? 'page-container' : ''}>\n      <div className={!isPublic ? 'page-panel' : ''}>\n        <PageTitle parts={['Form']} />\n        <I18n\n          context={`kapps.${kappSlug}.forms.${formSlug}`}\n          public={!authenticated}\n        >\n          <div className=\"embedded-core-form--wrapper\">\n            {id ? (\n              <CoreForm\n                submission={id}\n                loaded={handleLoaded}\n                completed={handleCompleted}\n                public={!authenticated}\n                layoutComponent={Layout}\n              />\n            ) : (\n              <CoreForm\n                kapp={kappSlug}\n                form={formSlug}\n                loaded={handleLoaded}\n                created={handleCreated}\n                completed={handleCompleted}\n                values={values}\n                public={!authenticated}\n                layoutComponent={Layout}\n              />\n            )}\n          </div>\n        </I18n>\n      </div>\n    </div>\n  </Fragment>\n);\n\nconst valuesFromQueryParams = queryParams => {\n  const params = parse(queryParams);\n  return Object.entries(params).reduce((values, [key, value]) => {\n    if (key.startsWith('values[')) {\n      const vk = key.match(/values\\[(.*?)\\]/)[1];\n      return { ...values, [vk]: value };\n    }\n    return values;\n  }, {});\n};\n\nexport const handleCompleted = props => response => {\n  if (props.authenticated) {\n    // Check if either currentPage is null (pre form consolidation) or\n    // displayedPage.type is not 'confirmation' (post form-consolidation)\n    // to determine that there is no confirmation page and we should redirect.\n    if (\n      !response.submission.currentPage ||\n      (response.submission.displayedPage &&\n        response.submission.displayedPage.type !== 'confirmation')\n    ) {\n      if (props.isPublic) {\n        props.push(`/kapps/${props.kappSlug}`);\n      } else {\n        props.push(\n          `/kapps/${props.kappSlug}/forms/${props.formSlug}/submissions`,\n        );\n      }\n      addToast('The form was submitted successfully');\n    }\n  }\n};\n\nexport const handleCreated = props => response => {\n  // Redirect to route with submission id if submission is not submitted or\n  // there is a confirmation page to render, defined as currentPage is set and\n  // displayedPage is undefined (pre form consolidation) or displayedPage.type\n  // is 'confirmation' (post form-consolidation).\n  if (\n    response.submission.coreState !== 'Submitted' ||\n    (response.submission.currentPage &&\n      (!response.submission.displayedPage ||\n        response.submission.displayedPage.type === 'confirmation'))\n  ) {\n    /*\n     * Only modify the route if the router location does not\n     * contain the embedded & cross_domain parameters. If these\n     * headers are present it is an indication that the form\n     * will implement it's own submitPage() callback function.\n     * This was necessary to support unauthenticated forms inside\n     * of iframes when using Safari. Safari will not send cookies\n     * to a server if they cookie did not originate in a main parent\n     * window request (third party cookies). This includes the\n     * JSESSIONID cookie which is used to validate the submitter\n     * access with an unauthenticated form.\n     */\n    if (\n      (props.authenticated || (!props.isEmbedded && !props.isCrossDomain)) &&\n      props.formSlug\n    ) {\n      props.push(\n        `/kapps/${props.kappSlug}/forms/${props.formSlug}/submissions/${\n          response.submission.id\n        }`,\n      );\n    }\n  }\n};\n\nexport const mapStateToProps = (state, props) => {\n  const search = parse(state.router.location.search);\n  return {\n    kappSlug: state.app.kappSlug,\n    kapp: state.app.kapp,\n    formSlug: props.match.params.formSlug,\n    authenticated: state.app.authenticated,\n    values: valuesFromQueryParams(state.router.location.search),\n    isPublic: search.public !== undefined,\n    isEmbedded: search.embedded !== undefined,\n    isCrossDomain: search.cross_domain !== undefined,\n  };\n};\n\nexport const mapDispatchToProps = { push };\n\nconst enhance = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withHandlers({ Layout, handleCompleted, handleCreated }),\n);\n\nexport const Form = enhance(FormComponent);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose, lifecycle, withProps } from 'recompose';\nimport { Link } from 'react-router-dom';\nimport {\n  CardRow,\n  EmptyMessage,\n  ErrorMessage,\n  LoadingMessage,\n  ProfileCard,\n  TeamCard,\n  Utils,\n} from '@kineticdata/bundle-common';\nimport { actions } from '../redux/modules/profile';\nimport { PageTitle } from './shared/PageTitle';\nimport { I18n } from '@kineticdata/react';\n\nconst ProfileComponent = ({\n  me,\n  profile,\n  error,\n  department,\n  departmentEnabled,\n  organization,\n  organizationEnabled,\n  site,\n  siteEnabled,\n  manager,\n  managerEnabled,\n}) => (\n  <div className=\"page-container\">\n    {!error && !profile && <LoadingMessage />}\n    {error && (\n      <ErrorMessage title=\"Could not load profile\" message={error.message} />\n    )}\n    {profile && (\n      <div className=\"page-panel\">\n        <PageTitle\n          parts={['Profile']}\n          breadcrumbs={[{ label: 'Home', to: '/' }]}\n          title=\"Profile\"\n          actions={[\n            profile.username === me.username && {\n              label: 'Edit Profile',\n              icon: 'pencil',\n              to: '/profile/edit',\n            },\n          ]}\n        />\n\n        <div className=\"cards\">\n          <ProfileCard user={profile} hideProfileLink={true} inline={true}>\n            <>\n              <CardRow type=\"multi\" className=\"py-3\">\n                {Utils.getRoles(profile).map(role => (\n                  <span\n                    className=\"badge badge-subtle badge-pill\"\n                    key={role.slug}\n                  >\n                    <I18n>{role.name.replace(/^Role::(.*?)/, '$1')}</I18n>\n                  </span>\n                ))}\n              </CardRow>\n              {(managerEnabled ||\n                siteEnabled ||\n                departmentEnabled ||\n                organizationEnabled) && (\n                <CardRow type=\"meta\">\n                  <dl>\n                    {managerEnabled && (\n                      <div>\n                        <dt>\n                          <I18n>Manager</I18n>\n                        </dt>\n                        <dd>\n                          {manager ? (\n                            <I18n>{manager}</I18n>\n                          ) : (\n                            <em className=\"text-muted\">\n                              <I18n>No Manager</I18n>\n                            </em>\n                          )}\n                        </dd>\n                      </div>\n                    )}\n                    {departmentEnabled && (\n                      <div>\n                        <dt>\n                          <I18n>Department</I18n>\n                        </dt>\n                        <dd>\n                          {department ? (\n                            <I18n>{department}</I18n>\n                          ) : (\n                            <em className=\"text-muted\">\n                              <I18n>No Department</I18n>\n                            </em>\n                          )}\n                        </dd>\n                      </div>\n                    )}\n                    {organizationEnabled && (\n                      <div>\n                        <dt>\n                          <I18n>Organization</I18n>\n                        </dt>\n                        <dd>\n                          {organization ? (\n                            <I18n>{organization}</I18n>\n                          ) : (\n                            <em className=\"text-muted\">\n                              <I18n>No Organization</I18n>\n                            </em>\n                          )}\n                        </dd>\n                      </div>\n                    )}\n                    {siteEnabled && (\n                      <div>\n                        <dt>\n                          <I18n>Site</I18n>\n                        </dt>\n                        <dd>\n                          {site ? (\n                            <I18n>{site}</I18n>\n                          ) : (\n                            <em className=\"text-muted\">\n                              <I18n>No Site</I18n>\n                            </em>\n                          )}\n                        </dd>\n                      </div>\n                    )}\n                  </dl>\n                </CardRow>\n              )}\n            </>\n          </ProfileCard>\n        </div>\n\n        <section>\n          <h2 className=\"section__title\">\n            <I18n>Teams</I18n>\n          </h2>\n          <div className=\"cards\">\n            {Utils.getTeams(profile).map(team => (\n              <TeamCard key={team.slug} team={team} components={{ Link }} />\n            ))}\n            {Utils.getTeams(profile).length === 0 && (\n              <EmptyMessage title=\"User is not a member of any teams\" />\n            )}\n          </div>\n        </section>\n      </div>\n    )}\n  </div>\n);\n\nconst selectAttributes = profile =>\n  profile\n    ? {\n        departmentEnabled: Utils.hasAttributeDefinition(\n          profile.space.userAttributeDefinitions,\n          'Department',\n        ),\n        department: Utils.getAttributeValue(profile, 'Department'),\n        managerEnabled: Utils.hasAttributeDefinition(\n          profile.space.userAttributeDefinitions,\n          'Manager',\n        ),\n        manager: Utils.getAttributeValue(profile, 'Manager'),\n        organizationEnabled: Utils.hasAttributeDefinition(\n          profile.space.userAttributeDefinitions,\n          'Organization',\n        ),\n        organization: Utils.getAttributeValue(profile, 'Organization'),\n        siteEnabled: Utils.hasAttributeDefinition(\n          profile.space.userAttributeDefinitions,\n          'Site',\n        ),\n        site: Utils.getAttributeValue(profile, 'Site'),\n      }\n    : {};\n\nexport const mapStateToProps = state => ({\n  me: state.app.profile,\n  profile: state.profile.data,\n  error: state.profile.error,\n  ...selectAttributes(state.profile.data),\n});\n\nexport const mapDispatchToProps = {\n  fetchProfileRequest: actions.fetchProfileRequest,\n};\n\nexport const Profile = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withProps(({ match: { params: { username } } }) => ({\n    username: decodeURIComponent(username),\n  })),\n  lifecycle({\n    componentDidMount() {\n      this.props.fetchProfileRequest(this.props.username);\n    },\n    componentDidUpdate(prevProps) {\n      if (this.props.username !== prevProps.username) {\n        this.props.fetchProfileRequest(this.props.username);\n      }\n    },\n  }),\n)(ProfileComponent);\n","import React, { Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { compose, lifecycle, withHandlers, withState } from 'recompose';\nimport { Link } from 'react-router-dom';\nimport {\n  Card,\n  CardRow,\n  TeamCard,\n  EmptyMessage,\n  ErrorMessage,\n  LoadingMessage,\n  Utils,\n  openModalForm,\n  selectVisibleKapps,\n} from '@kineticdata/bundle-common';\nimport { actions } from '../redux/modules/profile';\nimport { PageTitle } from './shared/PageTitle';\nimport { I18n } from '@kineticdata/react';\n\nexport const EditProfileComponent = ({\n  profile,\n  error,\n  editingPassword,\n  fieldValues,\n  department,\n  departmentEnabled,\n  organization,\n  organizationEnabled,\n  site,\n  siteEnabled,\n  defaultKappDisplayEnabled,\n  manager,\n  managerEnabled,\n  handleChangeManagerClick,\n  handleFieldChange,\n  handleSubmit,\n  handleTogglePassword,\n  visibleKapps,\n  locales,\n  timezones,\n}) => (\n  <div className=\"page-container\">\n    {!error && !profile && <LoadingMessage />}\n    {error && (\n      <ErrorMessage title=\"Could not load profile\" message={error.message} />\n    )}\n    {profile && (\n      <Fragment>\n        <div className=\"page-panel\">\n          <PageTitle\n            parts={['Edit Profile']}\n            breadcrumbs={[\n              { label: 'Home', to: '/' },\n              {\n                label: 'Profile',\n                to: `/profile/${encodeURIComponent(profile.username)}`,\n              },\n            ]}\n            title=\"Edit Profile\"\n          />\n          <section>\n            <h2 className=\"section__title\">\n              <span className=\"title\">\n                <I18n>General</I18n>\n              </span>\n            </h2>\n            <form onSubmit={handleSubmit} className=\"form-unstyled\">\n              <div className=\"form-group required\">\n                <label htmlFor=\"displayName\">\n                  <I18n>Display Name</I18n>\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"displayName\"\n                  name=\"displayName\"\n                  onChange={handleFieldChange}\n                  value={fieldValues.displayName}\n                />\n              </div>\n              <div className=\"profile-input-container row\">\n                <div className=\"form-group required col-md-6\">\n                  <label htmlFor=\"email\">\n                    <I18n>Email</I18n>\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"email\"\n                    name=\"email\"\n                    onChange={handleFieldChange}\n                    value={fieldValues.email}\n                  />\n                </div>\n                <div className=\"form-group col-md-6\">\n                  <label htmlFor=\"phoneNumber\">\n                    <I18n>Phone Number</I18n>\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"phoneNumber\"\n                    name=\"phoneNumber\"\n                    onChange={handleFieldChange}\n                    value={fieldValues.phoneNumber}\n                  />\n                </div>\n                <div className=\"form-group col-md-6\">\n                  <label htmlFor=\"preferredLocale\">Preferred Locale</label>\n                  <select\n                    type=\"text\"\n                    id=\"preferredLocale\"\n                    name=\"preferredLocale\"\n                    className=\"form-control\"\n                    onChange={handleFieldChange}\n                    value={fieldValues.preferredLocale}\n                  >\n                    <option value=\"\">None Selected</option>\n                    {locales.map(locale => (\n                      <option\n                        value={locale.code}\n                        key={`${locale.code}+${locale.name}`}\n                      >\n                        {locale.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <div className=\"form-group col-md-6\">\n                  <label htmlFor=\"timezone\">Timezone</label>\n                  <select\n                    type=\"text\"\n                    id=\"timezone\"\n                    name=\"timezone\"\n                    className=\"form-control\"\n                    onChange={handleFieldChange}\n                    value={fieldValues.timezone}\n                  >\n                    <option value=\"\">None Selected</option>\n                    {timezones.map(timezone => (\n                      <option value={timezone.id} key={timezone.id}>\n                        {timezone.name} ({timezone.id})\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                {defaultKappDisplayEnabled && (\n                  <div className=\"form-group col-md-6\">\n                    <label htmlFor=\"defaultKappDisplay\">\n                      <I18n>Default Kapp Display</I18n>\n                    </label>\n                    <I18n\n                      render={translate => (\n                        <select\n                          className=\"form-control\"\n                          type=\"kapp\"\n                          id=\"defaultKappDisplay\"\n                          name=\"defaultKappDisplay\"\n                          onChange={handleFieldChange}\n                          value={fieldValues.defaultKappDisplay}\n                        >\n                          <option value=\"\" />\n                          <option value=\"discussions\">\n                            {translate('Discussions')}\n                          </option>\n                          {visibleKapps.map(k => (\n                            <option key={k.slug} value={k.slug}>\n                              {translate(k.name)}\n                            </option>\n                          ))}\n                        </select>\n                      )}\n                    />\n                  </div>\n                )}\n              </div>\n              {editingPassword ? (\n                <div>\n                  <hr />\n                  <div className=\"profile-input-container row\">\n                    <div className=\"form-group col\">\n                      <label htmlFor=\"newPassword\" className=\"required\">\n                        <I18n>New Password</I18n>\n                      </label>\n                      <input\n                        type=\"password\"\n                        id=\"newPassword\"\n                        name=\"newPassword\"\n                        onChange={handleFieldChange}\n                        value={fieldValues.newPassword}\n                      />\n                    </div>\n                    <div className=\"form-group col\">\n                      <label htmlFor=\"confirmPassword\" className=\"required\">\n                        <I18n>Password Confirmation</I18n>\n                      </label>\n                      <input\n                        type=\"password\"\n                        id=\"confirmPassword\"\n                        name=\"confirmPassword\"\n                        onChange={handleFieldChange}\n                        value={fieldValues.confirmPassword}\n                      />\n                    </div>\n                  </div>\n                  {fieldValues.newPassword !== fieldValues.confirmPassword && (\n                    <p className=\"form-alert\">\n                      <I18n>Passwords Must Match</I18n>\n                    </p>\n                  )}\n                  <div>\n                    <button\n                      type=\"button\"\n                      onClick={handleTogglePassword}\n                      className=\"btn btn-secondary btn-sm\"\n                    >\n                      <I18n>Cancel Password Change</I18n>\n                    </button>\n                  </div>\n                  <hr />\n                </div>\n              ) : (\n                <div>\n                  <button\n                    type=\"button\"\n                    onClick={handleTogglePassword}\n                    className=\"change-password btn btn-secondary btn-sm\"\n                  >\n                    <I18n>Change Password</I18n>\n                  </button>\n                  <hr />\n                </div>\n              )}\n              <div className=\"text-right\">\n                <button\n                  type=\"submit\"\n                  disabled={!fieldValuesValid(fieldValues)}\n                  className=\"btn btn-primary\"\n                >\n                  {/* // TODO: Disable until a change is made. Save Changes */}\n                  <I18n>Save Changes</I18n>\n                </button>\n              </div>\n            </form>\n          </section>\n\n          {(managerEnabled ||\n            siteEnabled ||\n            departmentEnabled ||\n            organizationEnabled) && (\n            <section className=\"mt-5\">\n              <h2 className=\"section__title\">\n                <span className=\"title\">\n                  <I18n>User Attributes</I18n>\n                </span>\n              </h2>\n              <div className=\"user-attributes-wrapper\">\n                <table className=\"table table--user-attributes\">\n                  <tbody>\n                    {managerEnabled && (\n                      <tr>\n                        <td className=\"name\">\n                          <I18n>Manager</I18n>\n                        </td>\n                        <td>\n                          {manager || (\n                            <em>\n                              <I18n>No Manager</I18n>\n                            </em>\n                          )}\n                          <button\n                            className=\"btn btn-link btn-sm\"\n                            onClick={handleChangeManagerClick}\n                          >\n                            <I18n>Change Manager</I18n>\n                          </button>\n                        </td>\n                      </tr>\n                    )}\n                    {departmentEnabled && (\n                      <tr>\n                        <td className=\"name\">\n                          <I18n>Department</I18n>\n                        </td>\n                        <td>\n                          {department || (\n                            <em>\n                              <I18n>No Department</I18n>\n                            </em>\n                          )}\n                        </td>\n                      </tr>\n                    )}\n                    {organizationEnabled && (\n                      <tr>\n                        <td className=\"name\">\n                          <I18n>Organization</I18n>\n                        </td>\n                        <td>\n                          {organization || (\n                            <em>\n                              <I18n>No Organization</I18n>\n                            </em>\n                          )}\n                        </td>\n                      </tr>\n                    )}\n                    {siteEnabled && (\n                      <tr>\n                        <td className=\"name\">\n                          <I18n>Site</I18n>\n                        </td>\n                        <td>\n                          {site || (\n                            <em>\n                              <I18n>No Site</I18n>\n                            </em>\n                          )}\n                        </td>\n                      </tr>\n                    )}\n                  </tbody>\n                </table>\n              </div>\n            </section>\n          )}\n\n          <section className=\"mt-5\">\n            <h2 className=\"section__title\">\n              <span className=\"title\">\n                <I18n>Roles</I18n>\n              </span>\n            </h2>\n            <div className=\"cards cards--fourths\">\n              {Utils.getRoles(profile).length > 0 ? (\n                Utils.getRoles(profile).map(role => (\n                  <Card key={role.slug} color=\"subtle\">\n                    <CardRow className=\"py-1\">\n                      <strong>\n                        <I18n>{role.name}</I18n>\n                      </strong>\n                    </CardRow>\n                  </Card>\n                ))\n              ) : (\n                <EmptyMessage title=\"No Roles Assigned\" />\n              )}\n            </div>\n          </section>\n          <section>\n            <h2 className=\"section__title\">\n              <span className=\"title\">\n                <I18n>Teams</I18n>\n              </span>\n            </h2>\n            <div className=\"cards\">\n              {Utils.getTeams(profile).length > 0 ? (\n                Utils.getTeams(profile).map(team => (\n                  <TeamCard key={team.slug} team={team} components={{ Link }} />\n                ))\n              ) : (\n                <EmptyMessage title=\"No Teams Assigned\" />\n              )}\n            </div>\n          </section>\n        </div>\n      </Fragment>\n    )}\n  </div>\n);\n\nconst fieldValuesValid = fieldValues =>\n  fieldValues.displayName &&\n  fieldValues.email &&\n  fieldValues.newPassword === fieldValues.confirmPassword;\n\nconst buildProfile = (fieldValues, profile) => {\n  const profileAttributesMap = {};\n  profileAttributesMap['Phone Number'] = fieldValues.phoneNumber\n    ? [fieldValues.phoneNumber]\n    : [];\n  profileAttributesMap['Default Kapp Display'] = fieldValues.defaultKappDisplay\n    ? [fieldValues.defaultKappDisplay]\n    : [];\n  return {\n    ...profile,\n    displayName: fieldValues.displayName,\n    email: fieldValues.email,\n    preferredLocale: fieldValues.preferredLocale,\n    timezone: fieldValues.timezone,\n    profileAttributesMap,\n  };\n};\n\nconst translateProfileToFieldValues = profile => ({\n  displayName: profile.displayName || '',\n  email: profile.email || '',\n  preferredLocale: profile.preferredLocale || '',\n  timezone: profile.timezone || '',\n  newPassword: '',\n  confirmPassword: '',\n  phoneNumber: Utils.getProfileAttributeValue(profile, 'Phone Number', ''),\n  defaultKappDisplay: Utils.getProfileAttributeValue(\n    profile,\n    'Default Kapp Display',\n    '',\n  ),\n});\n\nconst translateFieldValuesToProfile = (fieldValues, profile) => {\n  const updatedProfile = buildProfile(fieldValues, profile);\n  const result = {\n    displayName: updatedProfile.displayName,\n    email: updatedProfile.email,\n    preferredLocale:\n      updatedProfile.preferredLocale === ''\n        ? null\n        : updatedProfile.preferredLocale,\n    timezone: updatedProfile.timezone === '' ? null : updatedProfile.timezone,\n    profileAttributesMap: updatedProfile.profileAttributesMap,\n  };\n  if (fieldValues.newPassword !== '') {\n    result.password = fieldValues.newPassword;\n  }\n  return result;\n};\n\nconst openChangeManagerForm = ({\n  adminKappSlug,\n  changeManagerFormSlug,\n}) => config => {\n  openModalForm({\n    kappSlug: adminKappSlug,\n    formSlug: changeManagerFormSlug,\n    title: 'Change Manager',\n    confirmationMessage: 'Your request has been submitted.',\n  });\n};\n\nconst selectAttributes = profile =>\n  profile\n    ? {\n        departmentEnabled: Utils.hasAttributeDefinition(\n          profile.space.userAttributeDefinitions,\n          'Department',\n        ),\n        department: Utils.getAttributeValue(profile, 'Department'),\n        managerEnabled: Utils.hasAttributeDefinition(\n          profile.space.userAttributeDefinitions,\n          'Manager',\n        ),\n        manager: Utils.getAttributeValue(profile, 'Manager'),\n        organizationEnabled: Utils.hasAttributeDefinition(\n          profile.space.userAttributeDefinitions,\n          'Organization',\n        ),\n        organization: Utils.getAttributeValue(profile, 'Organization'),\n        siteEnabled: Utils.hasAttributeDefinition(\n          profile.space.userAttributeDefinitions,\n          'Site',\n        ),\n        site: Utils.getAttributeValue(profile, 'Site'),\n        defaultKappDisplayEnabled: Utils.hasAttributeDefinition(\n          profile.space.userProfileAttributeDefinitions,\n          'Default Kapp Display',\n        ),\n        defaultKappDisplay: Utils.getAttributeValue(\n          { attributes: profile.profileAttributes },\n          'Default Kapp Display',\n        ),\n      }\n    : {};\n\nconst mapStateToProps = state => ({\n  visibleKapps: selectVisibleKapps(state),\n  locales: state.app.locales,\n  timezones: state.app.timezones,\n  profile: state.profile.data,\n  error: state.profile.error,\n  ...selectAttributes(state.profile.data),\n  adminKappSlug: Utils.getAttributeValue(\n    state.app.space,\n    'Admin Kapp Slug',\n    'admin',\n  ),\n  changeManagerFormSlug: Utils.getAttributeValue(\n    state.app.space,\n    'Change Manager Form Slug',\n    'change-manager-request',\n  ),\n});\n\nconst mapDispatchToProps = {\n  fetchProfileRequest: actions.fetchProfileRequest,\n  updateProfileRequest: actions.updateProfileRequest,\n};\n\nexport const EditProfile = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withState('editingPassword', 'setEditingPassword', false),\n  withState('fieldValues', 'setFieldValues', translateProfileToFieldValues({})),\n  withHandlers({\n    handleChangeManagerClick: openChangeManagerForm,\n    handleFieldChange: props => ({ target: { name, value } }) => {\n      name && props.setFieldValues({ ...props.fieldValues, [name]: value });\n    },\n    handleTogglePassword: props => event => {\n      props.setEditingPassword(!props.editingPassword);\n      props.setFieldValues({\n        ...props.fieldValues,\n        newPassword: '',\n        confirmPassword: '',\n      });\n    },\n    handleSubmit: props => event => {\n      event.preventDefault();\n      props.updateProfileRequest(\n        translateFieldValuesToProfile(props.fieldValues, props.profile),\n      );\n    },\n  }),\n  lifecycle({\n    componentDidMount() {\n      this.props.fetchProfileRequest();\n    },\n    componentDidUpdate(prevProps) {\n      if (this.props.profile && prevProps.profile !== this.props.profile) {\n        this.props.setFieldValues({\n          ...prevProps.fieldValues,\n          ...translateProfileToFieldValues(this.props.profile),\n        });\n      }\n    },\n  }),\n)(EditProfileComponent);\n","import React, { Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { compose, withHandlers, withProps, withState } from 'recompose';\nimport { Link } from 'react-router-dom';\nimport {\n  openModalForm,\n  Card,\n  CardCol,\n  CardRow,\n  AvatarList,\n  DiscussionsPanel,\n  ErrorMessage,\n  LoadingMessage,\n  TeamCard,\n  Utils,\n  ViewDiscussionsModal,\n} from '@kineticdata/bundle-common';\nimport { PageTitle } from './shared/PageTitle';\nimport { I18n } from '@kineticdata/react';\n\nconst CreationForm = ({ onChange, values, errors }) => (\n  <div className=\"form-group\">\n    <label htmlFor=\"title\">Title</label>\n    <input\n      id=\"title\"\n      name=\"title\"\n      type=\"text\"\n      value={values.title}\n      onChange={onChange}\n    />\n    {errors.title && (\n      <small className=\"form-text text-danger\">{errors.title}</small>\n    )}\n  </div>\n);\n\nconst TeamComponent = ({\n  teams,\n  error,\n  team,\n  parent,\n  subteams,\n  creationFields,\n  openDiscussions,\n  closeDiscussions,\n  viewDiscussionsModal,\n  isSmallLayout,\n  me,\n  userIsMember,\n  openRequestToJoinForm,\n  openRequestToLeaveForm,\n}) => (\n  <div className=\"page-container page-container--panels page-container--space-team\">\n    <PageTitle parts={[team && team.name, 'Teams']} />\n    {error && <ErrorMessage />}\n    {!error && !teams && <LoadingMessage />}\n    {!error && teams && !team && <ErrorMessage title=\"Team not found\" />}\n    {team && (\n      <Fragment>\n        <div className={`page-panel page-panel--three-fifths`}>\n          <div className=\"page-title\">\n            <div\n              role=\"navigation\"\n              aria-label=\"breadcrumbs\"\n              className=\"page-title__breadcrumbs\"\n            >\n              <span className=\"breadcrumb-item\">\n                <Link to=\"/teams\">\n                  <I18n>teams</I18n>\n                </Link>{' '}\n              </span>\n              <span aria-hidden=\"true\">/ </span>\n              <h1>\n                <I18n>Team Profile</I18n>\n              </h1>\n            </div>\n            {me.spaceAdmin && (\n              <Link\n                to={`/settings/teams/${team.slug}`}\n                className=\"btn btn-secondary\"\n              >\n                <I18n>Edit Team</I18n>\n              </Link>\n            )}\n          </div>\n          {userIsMember && (\n            <button\n              onClick={openDiscussions}\n              className=\"btn btn-inverse btn-block mb-3 d-md-none d-lg-none d-xl-none\"\n            >\n              <span className=\"fa fa-comments fa-fw icon\" />\n              <I18n>View Discussions</I18n>\n            </button>\n          )}\n          <div className=\"cards\">\n            <Card\n              bar={true}\n              barColor=\"primary\"\n              barIcon={Utils.getIcon(team, 'users')}\n            >\n              <CardCol center={true}>\n                <CardRow type=\"title\">\n                  <I18n>{team.name}</I18n>\n                </CardRow>\n                <CardRow>\n                  <I18n>{team.description}</I18n>\n                </CardRow>\n                <CardRow>\n                  {userIsMember ? (\n                    <button\n                      onClick={openRequestToLeaveForm}\n                      className=\"btn btn-primary btn-sm\"\n                    >\n                      <I18n>Request to Leave</I18n>\n                    </button>\n                  ) : (\n                    <button\n                      onClick={openRequestToJoinForm}\n                      className=\"btn btn-primary btn-sm\"\n                    >\n                      <I18n>Request to Join</I18n>\n                    </button>\n                  )}\n                </CardRow>\n              </CardCol>\n              <CardCol center={true}>\n                {team.memberships.length === 0 ? (\n                  <CardRow className=\"text-muted\">\n                    <I18n>No members</I18n>\n                  </CardRow>\n                ) : (\n                  <CardRow>\n                    <AvatarList\n                      users={team.memberships.map(m => m.user)}\n                      className=\"justify-content-center\"\n                      all={true}\n                    />\n                  </CardRow>\n                )}\n              </CardCol>\n            </Card>\n          </div>\n\n          {parent && (\n            <section>\n              <h3 className=\"section__title\">\n                <I18n>Parent Team</I18n>\n              </h3>\n              <div className=\"cards\">\n                <TeamCard\n                  key={parent.slug}\n                  team={parent}\n                  components={{ Link }}\n                />\n              </div>\n            </section>\n          )}\n          {subteams.size > 0 && (\n            <section>\n              <h3 className=\"section__title\">\n                <I18n>Subteams</I18n>\n              </h3>\n              <div className=\"cards\">\n                {subteams.map(subteam => (\n                  <TeamCard\n                    key={subteam.slug}\n                    team={subteam}\n                    components={{ Link }}\n                  />\n                ))}\n              </div>\n            </section>\n          )}\n        </div>\n        <Fragment>\n          {viewDiscussionsModal &&\n            isSmallLayout && (\n              <ViewDiscussionsModal\n                close={closeDiscussions}\n                itemType=\"Team\"\n                itemKey={team.slug}\n                creationFields={creationFields}\n                CreationForm={CreationForm}\n                me={me}\n              />\n            )}\n          {!isSmallLayout && (\n            <DiscussionsPanel\n              itemType=\"Team\"\n              itemKey={team.slug}\n              creationFields={creationFields}\n              CreationForm={CreationForm}\n              me={me}\n            />\n          )}\n        </Fragment>\n      </Fragment>\n    )}\n  </div>\n);\n\nconst mapStateToProps = (state, props) => {\n  const teams = state.teams.data;\n  const team = state.teams.data\n    ? state.teams.data.find(t => t.slug === props.match.params.teamSlug)\n    : null;\n  const heirarchy = Utils.buildTeamHierarchy((team && team.name) || '');\n  const teamsMap = teams\n    ? teams.reduce((memo, item) => {\n        memo[item.name] = item;\n        return memo;\n      }, {})\n    : {};\n  return {\n    error: state.teams.error,\n    teams,\n    team,\n    space: state.app.space,\n    me: state.app.profile,\n    adminKappSlug: Utils.getAttributeValue(\n      state.app.space,\n      'Admin Kapp Slug',\n      'admin',\n    ),\n    userIsMember: team ? Utils.isMemberOf(state.app.profile, team.name) : false,\n    parent: heirarchy.parent && teamsMap[heirarchy.parent.name],\n    subteams:\n      team &&\n      teams.filter(\n        t =>\n          t.name !== team.name && t.name.replace(/::[^:]+$/, '') === team.name,\n      ),\n    isSmallLayout: state.layout.size === 'small',\n  };\n};\n\nconst openRequestToJoinForm = ({ space, adminKappSlug, team }) => config =>\n  openModalForm({\n    kappSlug: adminKappSlug,\n    formSlug: 'join-team-request',\n    title: 'Request to Join',\n    confirmationMessage: 'Your request has been submitted.',\n    values: {\n      'Team Name': team.name,\n    },\n  });\n\nconst openRequestToLeaveForm = ({ space, adminKappSlug, team }) => config =>\n  openModalForm({\n    kappSlug: adminKappSlug,\n    formSlug: 'leave-team-request',\n    title: 'Request to Leave',\n    confirmationMessage: 'Your request has been submitted.',\n    values: {\n      'Team Name': team.name,\n    },\n  });\n\nconst openDiscussions = props => () => props.setViewDiscussionsModal(true);\n\nconst closeDiscussions = props => () => props.setViewDiscussionsModal(false);\n\nexport const Team = compose(\n  connect(mapStateToProps),\n  withState('viewDiscussionsModal', 'setViewDiscussionsModal', false),\n  withHandlers({\n    openRequestToJoinForm,\n    openRequestToLeaveForm,\n    openDiscussions,\n    closeDiscussions,\n  }),\n  withProps(\n    props =>\n      props.team && {\n        creationFields: {\n          title: props.team.name || 'Team Discussion',\n          description: props.team.name || '',\n          owningTeams: [{ name: props.team.name }],\n        },\n      },\n  ),\n)(TeamComponent);\n","import React from 'react';\nimport { compose, lifecycle, withHandlers } from 'recompose';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {\n  openModalForm,\n  ErrorNotFound,\n  StateListWrapper,\n  TeamCard,\n  Utils,\n} from '@kineticdata/bundle-common';\nimport { actions } from '../redux/modules/teams';\nimport { PageTitle } from './shared/PageTitle';\nimport { Team } from './Team';\n\nexport const TeamsNavigation = compose(\n  connect(\n    null,\n    { fetchTeamsRequest: actions.fetchTeamsRequest },\n  ),\n  lifecycle({\n    componentWillMount() {\n      this.props.fetchTeamsRequest();\n    },\n  }),\n)(() => (\n  <Switch>\n    <Route exact path=\"/teams/:teamSlug\" component={Team} />\n    <Route exact path=\"/teams\" component={Teams} />\n    <Route component={ErrorNotFound} />\n  </Switch>\n));\n\nconst TeamsComponent = ({ error, teams, me, openRequestNewTeam }) => (\n  <div className=\"page-container\">\n    <div className=\"page-panel\">\n      <PageTitle\n        parts={['Teams']}\n        breadcrumbs={[{ label: 'Home', to: '/' }]}\n        title=\"Teams\"\n        actions={[\n          me.spaceAdmin && {\n            label: 'Manage Teams',\n            to: '/settings/teams',\n          },\n          !me.spaceAdmin && {\n            label: 'Request New Team',\n            onClick: openRequestNewTeam,\n          },\n        ]}\n      />\n\n      <StateListWrapper\n        data={teams}\n        error={error}\n        emptyTitle=\"There are no teams\"\n        emptyMessage=\"\"\n      >\n        {data => (\n          <div className=\"cards\">\n            {teams.map(team => {\n              return (\n                <TeamCard key={team.slug} team={team} components={{ Link }} />\n              );\n            })}\n          </div>\n        )}\n      </StateListWrapper>\n    </div>\n  </div>\n);\n\nconst mapStateToProps = state => ({\n  me: state.app.profile,\n  teams: state.teams.data,\n  error: state.teams.error,\n  adminKappSlug: Utils.getAttributeValue(\n    state.app.space,\n    'Admin Kapp Slug',\n    'admin',\n  ),\n});\n\nconst openRequestNewTeam = ({ space, adminKappSlug, team }) => config =>\n  openModalForm({\n    kappSlug: adminKappSlug,\n    formSlug: 'new-team-request',\n    title: 'Request New Team',\n    confirmationMessage: 'Your request has been submitted.',\n  });\n\nexport const Teams = compose(\n  connect(mapStateToProps),\n  withHandlers({\n    openRequestNewTeam,\n  }),\n)(TeamsComponent);\n","import React from 'react';\nimport { compose, lifecycle } from 'recompose';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Avatar, TimeAgo } from '@kineticdata/bundle-common';\nimport { actions } from '../redux/modules/about';\nimport { I18n } from '@kineticdata/react';\nimport { PageTitle } from './shared/PageTitle';\n\nconst AboutComponent = ({ space, users, teams, loading }) => (\n  <div className=\"page-container\">\n    {!loading && (\n      <div className=\"page-panel\">\n        <PageTitle\n          parts={['About']}\n          breadcrumbs={[{ label: 'Home', to: '/' }]}\n          title=\"About My Space\"\n        />\n        <div className=\"page-content\">\n          <section>\n            <h2 className=\"section__title\">\n              <span className=\"title\">\n                <I18n>General</I18n>\n              </span>\n            </h2>\n            <div className=\"data-list-row\">\n              <dl className=\"data-list-row__col\">\n                <dt>\n                  <I18n>Space Name</I18n>\n                </dt>\n                <dd>{space.name}</dd>\n              </dl>\n\n              <dl className=\"data-list-row__col\">\n                <dt>\n                  <I18n>User Base</I18n>\n                </dt>\n                <dd>\n                  {users && (\n                    <I18n\n                      render={translate =>\n                        `${users.length} ${translate('users')}`\n                      }\n                    />\n                  )}\n                  {users &&\n                    teams && (\n                      <I18n render={translate => ` ${translate('in')} `} />\n                    )}\n                  {teams && (\n                    <I18n\n                      render={translate =>\n                        `${teams.length} ${translate('teams')}`\n                      }\n                    />\n                  )}\n                </dd>\n              </dl>\n\n              <dl className=\"data-list-row__col\">\n                <dt>\n                  <I18n>Created At</I18n>\n                </dt>\n                <dd>\n                  <TimeAgo timestamp={space.createdAt} id={space.slug} />\n                </dd>\n              </dl>\n            </div>\n          </section>\n          {users && (\n            <section className=\"mt-4\">\n              <h2 className=\"section__title\">\n                <span className=\"title\">\n                  <I18n>Space Admins</I18n>\n                </span>\n              </h2>\n\n              <table className=\"table table-responsive-sm\">\n                <thead>\n                  <tr>\n                    <th />\n                    <th scope=\"col\">\n                      <I18n>Display Name</I18n>\n                    </th>\n                    <th scope=\"col\">\n                      <I18n>Email</I18n>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {users.filter(u => u.spaceAdmin).map(user => (\n                    <tr key={user.username}>\n                      <td>\n                        <Avatar username={user.username} />\n                      </td>\n                      <td>\n                        <Link\n                          to={`/profile/${encodeURIComponent(user.username)}`}\n                        >\n                          {user.displayName || user.username}\n                        </Link>\n                      </td>\n                      <td>{user.email}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </section>\n          )}\n        </div>\n      </div>\n    )}\n  </div>\n);\n\nconst mapStateToProps = state => ({\n  space: state.app.space,\n  loading: state.about.loading,\n  teams: state.about.teams,\n  users: state.about.users,\n});\n\nconst mapDispatchToProps = {\n  fetchAboutRequest: actions.fetchAboutRequest,\n};\n\nexport const About = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  lifecycle({\n    componentWillMount() {\n      this.props.fetchAboutRequest();\n    },\n  }),\n)(AboutComponent);\n","import React from 'react';\nimport { Popover, PopoverHeader, PopoverBody } from 'reactstrap';\nimport { I18n } from '@kineticdata/react';\n\nexport const PopConfirm = props => (\n  <Popover\n    placement={props.placement}\n    isOpen={props.isOpen}\n    target={props.target}\n    toggle={props.toggle}\n  >\n    <PopoverHeader>\n      <I18n>{props.title}</I18n>\n    </PopoverHeader>\n    <PopoverBody>{props.children}</PopoverBody>\n  </Popover>\n);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose, withState, withHandlers } from 'recompose';\nimport { Link } from 'react-router-dom';\nimport { PopConfirm } from '../shared/PopConfirm';\nimport { Button } from 'reactstrap';\nimport { I18n } from '@kineticdata/react';\nimport { actions } from '../../redux/modules/alerts';\n\nconst AlertRowComponent = ({\n  alert,\n  canEdit,\n  openDeleteConfirm,\n  toggleDeleteConfirm,\n  deleteAlertRequest,\n}) => (\n  <tr>\n    {alert.values.URL ? (\n      <td>\n        <a href={alert.values.URL} target=\"_blank\" rel=\"noopener noreferrer\">\n          <I18n>{alert.values.Title}</I18n>\n          <i className=\"fa fa-fw fa-external-link \" />\n        </a>\n      </td>\n    ) : (\n      <td>\n        <I18n>{alert.values.Title}</I18n>\n      </td>\n    )}\n    <I18n\n      render={translate => (\n        <td\n          dangerouslySetInnerHTML={{ __html: translate(alert.values.Content) }}\n        />\n      )}\n    />\n    {canEdit && (\n      <td>\n        <div className=\"btn-group btn-group-sm\">\n          <button\n            id={`alert-confirm-${alert.id}`}\n            className=\"btn btn-danger\"\n            onClick={toggleDeleteConfirm(alert.id)}\n          >\n            <span className=\"sr-only\">Delete Alert</span>\n            <span className=\"fa fa-fw fa-times\" />\n          </button>\n          <Link className=\"btn btn-primary\" to={`/alerts/${alert.id}`}>\n            <span className=\"sr-only\">Edit Alert</span>{' '}\n            <span className=\"fa fa-fw fa-pencil\" />\n          </Link>\n        </div>\n        <PopConfirm\n          target={`alert-confirm-${alert.id}`}\n          placement=\"left\"\n          isOpen={alert.id === openDeleteConfirm}\n          toggle={toggleDeleteConfirm()}\n        >\n          <p>\n            <I18n>Remove Alert?</I18n>\n          </p>\n          <Button color=\"danger\" onClick={() => deleteAlertRequest(alert.id)}>\n            <I18n>Yes</I18n>\n          </Button>\n          <Button color=\"link\" onClick={toggleDeleteConfirm()}>\n            <I18n>No</I18n>\n          </Button>\n        </PopConfirm>\n      </td>\n    )}\n  </tr>\n);\n\nexport const mapStateToProps = state => ({\n  canEdit: state.app.profile.spaceAdmin ? true : false,\n});\n\nexport const mapDispatchToProps = {\n  deleteAlertRequest: actions.deleteAlertRequest,\n};\n\nexport const AlertRow = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withState('openDeleteConfirm', 'setOpenDeleteConfirm', null),\n  withHandlers({\n    toggleDeleteConfirm: ({\n      openDeleteConfirm,\n      setOpenDeleteConfirm,\n    }) => alertId => () => {\n      if (openDeleteConfirm) {\n        setOpenDeleteConfirm(null);\n      } else {\n        setOpenDeleteConfirm(alertId);\n      }\n    },\n  }),\n)(AlertRowComponent);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose, lifecycle } from 'recompose';\nimport { List } from 'immutable';\nimport moment from 'moment';\nimport { AlertRow } from './AlertRow';\nimport { I18n } from '@kineticdata/react';\nimport { actions } from '../../redux/modules/alerts';\nimport { PageTitle } from '../shared/PageTitle';\n\nconst WallyEmptyMessage = ({ canEdit }) => {\n  return (\n    <div className=\"empty-state empty-state--wally\">\n      <div className=\"empty-state__title\">\n        <I18n>No Alerts Right Now...</I18n>\n      </div>\n      {canEdit && (\n        <div className=\"empty-state__message\">\n          <I18n>Add an alert by hitting the new button!</I18n>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst AlertsComponent = ({\n  alerts,\n  spaceAdminAlerts,\n  loading,\n  match,\n  error,\n  canEdit,\n  id,\n}) => {\n  const selectedAlert = id;\n  return (\n    <div className=\"page-container page-container--space-alerts\">\n      {!loading && (\n        <div className=\"page-panel page-panel--space-alerts\">\n          <PageTitle\n            parts={['Alerts']}\n            breadcrumbs={[{ label: 'Home', to: '/' }]}\n            title=\"Alerts\"\n            actions={[\n              canEdit && {\n                label: 'Create Alert',\n                icon: 'plus',\n                to: 'alerts/new',\n              },\n            ]}\n          />\n\n          {error && (\n            <h3>\n              <I18n>There was a problem loading the alerts.</I18n>\n            </h3>\n          )}\n          <div className=\"page-content  page-content--space-alerts\">\n            {!error &&\n              ((canEdit && spaceAdminAlerts.size <= 0) ||\n                (!canEdit && alerts.size <= 0)) && (\n                <WallyEmptyMessage canEdit={canEdit} />\n              )}\n            {!error &&\n              ((canEdit && spaceAdminAlerts.size > 0) ||\n                (!canEdit && alerts.size > 0)) && (\n                <table className=\"table table--alerts\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">\n                        <I18n>Title</I18n>\n                      </th>\n                      <th scope=\"col\" width=\"50%\">\n                        <I18n>Description</I18n>\n                      </th>\n                      {canEdit && <th width=\"10%\" />}\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {canEdit\n                      ? spaceAdminAlerts.map(alert => (\n                          <AlertRow\n                            key={alert.id}\n                            alert={alert}\n                            active={alert.id === selectedAlert}\n                          />\n                        ))\n                      : alerts.map(alert => (\n                          <AlertRow\n                            key={alert.id}\n                            alert={alert}\n                            active={alert.id === selectedAlert}\n                          />\n                        ))}\n                  </tbody>\n                </table>\n              )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport const mapStateToProps = state => ({\n  loading: state.app.loading,\n  spaceAdminAlerts: List(state.alerts.data)\n    .sortBy(alert =>\n      moment(alert.values['Start Date Time'] || alert.createdAt).unix(),\n    )\n    .reverse(),\n  alerts: List(state.alerts.data)\n    .filter(\n      alert =>\n        !alert.values['End Date Time'] ||\n        moment(alert.values['End Date Time']).isAfter(),\n    )\n    .filter(\n      alert =>\n        !alert.values['Start Date Time'] ||\n        moment(alert.values['Start Date Time']).isBefore(),\n    )\n    .sortBy(alert =>\n      moment(alert.values['Start Date Time'] || alert.createdAt).unix(),\n    )\n    .reverse(),\n  error: state.alerts.error,\n  canEdit: state.app.profile.spaceAdmin ? true : false,\n});\n\nexport const mapDispatchToProps = {\n  fetchAlertsRequest: actions.fetchAlertsRequest,\n};\n\nexport const Alerts = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  lifecycle({\n    componentWillMount() {\n      this.props.fetchAlertsRequest();\n    },\n  }),\n)(AlertsComponent);\n","import React from 'react';\nimport { CoreForm } from '@kineticdata/react';\nimport { Utils } from '@kineticdata/bundle-common';\nimport { connect } from 'react-redux';\nimport { push } from 'connected-react-router';\nimport { compose, withHandlers } from 'recompose';\nimport { I18n } from '@kineticdata/react';\nimport { actions } from '../../redux/modules/alerts';\nimport { PageTitle } from '../shared/PageTitle';\n\nconst AlertComponent = ({\n  match: {\n    params: { id },\n  },\n  alertsFormSlug,\n  handleCreateOrUpdate,\n  values,\n}) => {\n  const editing = id !== 'new';\n  const submissionId = id;\n  return (\n    <div className=\"page-container page-container--space-alerts-form\">\n      <div className=\"page-panel page-panel--space-alerts-form\">\n        <PageTitle\n          parts={[editing ? 'Edit Alert' : 'New Alert', 'Alerts']}\n          breadcrumbs={[\n            { label: 'Home', to: '/' },\n            { label: 'Alerts', to: '/alerts' },\n          ]}\n          title={`${editing ? 'Edit' : 'New'} Alert`}\n        />\n\n        <I18n context={`kapps.datastore.forms.${alertsFormSlug}`}>\n          {editing ? (\n            <div>\n              <CoreForm\n                submission={submissionId}\n                updated={handleCreateOrUpdate}\n              />\n            </div>\n          ) : (\n            <div>\n              <CoreForm\n                kapp=\"datastore\"\n                form={alertsFormSlug}\n                created={handleCreateOrUpdate}\n                updated={handleCreateOrUpdate}\n                values={values}\n              />\n            </div>\n          )}\n        </I18n>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  spaceName: state.app.space.name,\n  alertsFormSlug: Utils.getAttributeValue(\n    state.app.space,\n    'Alerts Form Slug',\n    'alerts',\n  ),\n});\n\nconst handleCreateOrUpdate = props => response => {\n  props.fetchAlertsRequest();\n  props.push(`/alerts`);\n};\n\nconst mapDispatchToProps = {\n  push,\n  fetchAlertsRequest: actions.fetchAlertsRequest,\n};\n\nexport const Alert = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withHandlers({ handleCreateOrUpdate }),\n)(AlertComponent);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport {\n  CommonProvider,\n  ErrorMessage,\n  LoadingMessage,\n  ModalFormContainer,\n  ToastsContainer,\n} from '@kineticdata/bundle-common';\nimport { parse } from 'query-string';\nimport { I18n } from '@kineticdata/react';\n\nimport { PageTitle } from './components/shared/PageTitle';\nimport { Home } from './components/home/Home';\nimport { SearchResults } from './components/SearchResults';\nimport { Kapp } from './components/Kapp';\nimport { Submissions } from './components/Submissions';\nimport { Form } from './components/Form';\nimport { Profile } from './components/Profile';\nimport { EditProfile } from './components/EditProfile';\nimport { TeamsNavigation } from './components/Teams';\nimport { About } from './components/About';\nimport { Alerts } from './components/alerts/Alerts';\nimport { Alert } from './components/alerts/Alert';\nimport SettingsApp from '@kineticdata/bundle-settings';\n\nconst AppComponent = props => {\n  return props.render({\n    main:\n      props.errors.size > 0 ? (\n        <ErrorMessage\n          title=\"Unexpected Error\"\n          message=\"Sorry, an unexpected error has occurred!\"\n        />\n      ) : props.loading ? (\n        <LoadingMessage />\n      ) : (\n        <I18n>\n          <main className={`package-layout package-layout--app`}>\n            <PageTitle parts={['Loading...']} />\n            <Switch>\n              <Redirect path=\"/\" to=\"/kapps/vteams/\" exact />\n              <Route exact path=\"/kapps/:kappSlug\" component={Kapp} />\n              <Route\n                exact\n                path=\"/kapps/:kappSlug/forms/:formSlug\"\n                component={Form}\n              />\n              <Route\n                exact\n                path=\"/kapps/:kappSlug/forms/:formSlug/submissions/:id\"\n                component={Form}\n              />\n              <Route\n                exact\n                path=\"/kapps/:kappSlug/forms/:formSlug/submissions\"\n                component={Submissions}\n              />\n\n              <Route exact path=\"/search/:query?\" component={SearchResults} />\n              <Route exact path=\"/profile/edit\" component={EditProfile} />\n              <Route exact path=\"/profile/:username?\" component={Profile} />\n              <Route path=\"/teams\" component={TeamsNavigation} />\n              <Route exact path=\"/about\" component={About} />\n              <Route exact path=\"/alerts/:id\" component={Alert} />\n              <Route exact path=\"/alerts\" component={Alerts} />\n              <Redirect\n                path=\"/datastore/forms/:formSlug/submissions/:id\"\n                to={`${SettingsApp.location}/datastore/:formSlug/:id`}\n              />\n              <Redirect\n                path=\"/datastore/forms/:formSlug\"\n                to={`${SettingsApp.location}/datastore/:formSlug/new`}\n              />\n              <Redirect\n                path=\"/forms/:formSlug/submissions/:id\"\n                to={`${SettingsApp.location}/datastore/:formSlug/:id`}\n              />\n              <Redirect\n                path=\"/forms/:formSlug\"\n                to={`${SettingsApp.location}/datastore/:formSlug/new`}\n              />\n              <Route default component={Home} />\n            </Switch>\n          </main>\n        </I18n>\n      ),\n  });\n};\n\nconst PublicAppComponent = props => {\n  return props.render({\n    main: (\n      <I18n>\n        <main className={`package-layout package-layout--app`}>\n          <PageTitle parts={['Loading...']} />\n          <Switch>\n            {props.kapp && (\n              <Route\n                exact\n                path=\"/kapps/:kappSlug/forms/:formSlug\"\n                component={Form}\n              />\n            )}\n            {props.kapp && (\n              <Route\n                exact\n                path=\"/kapps/:kappSlug/forms/:formSlug/submissions/:id\"\n                component={Form}\n              />\n            )}\n            <Redirect path=\"/\" to={props.authRoute} />\n          </Switch>\n        </main>\n      </I18n>\n    ),\n  });\n};\n\nconst mapStateToProps = (state, props) => ({\n  loading: state.app.loading,\n  errors: state.app.errors,\n  kapp: state.app.kapp,\n  authRoute: state.app.authRoute,\n  location: state.router.location,\n});\n\nexport const App = connect(mapStateToProps)(AppComponent);\nexport const PublicApp = connect(mapStateToProps)(PublicAppComponent);\n\nexport class AppProvider extends Component {\n  render() {\n    return (\n      <CommonProvider>\n        <ToastsContainer duration={5000} />\n        <ModalFormContainer />\n        {this.props.appState.authenticated ? (\n          <App\n            render={this.props.render}\n            path={`${this.props.appState.location}/*`}\n          />\n        ) : (\n          <PublicApp\n            render={this.props.render}\n            path={`${this.props.appState.location}/*`}\n          />\n        )}\n      </CommonProvider>\n    );\n  }\n\n  // Used for matching pathname to display this App\n  // Not used if package is set as Bundle Package of a Kapp\n  static location = '/';\n\n  static hasPublicRoutes = true;\n\n  static shouldHideHeader = ({ location }) =>\n    parse(location.search).public !== undefined;\n\n  static shouldHideSidebar = ({ location }) =>\n    parse(location.search).public !== undefined;\n}\n","import { store } from '../store';\n\nexport const types = {\n  SYNC_APP_STATE: 'SYNC_APP_STATE',\n};\n\nexport const reducer = (state = {}, action) => {\n  let newState = { ...state };\n  if (action.type === types.SYNC_APP_STATE) {\n    newState[action.payload.key] = action.payload.value;\n  }\n  if (\n    newState.space &&\n    newState.kapp &&\n    (newState.profile || newState.authenticated === false) &&\n    newState.layoutSize\n  ) {\n    newState.ready = true;\n  } else {\n    newState.ready = false;\n  }\n  return newState;\n};\n\nexport const syncAppState = ([key, value]) => {\n  store.dispatch({ type: types.SYNC_APP_STATE, payload: { key, value } });\n};\n","import { List, Record } from 'immutable';\nimport isarray from 'isarray';\nimport isobject from 'isobject';\n\nexport const Profile = Record({\n  displayName: '',\n  username: '',\n  email: '',\n});\n\nexport const VALID_STATUSES = List([\n  'Open',\n  'Pending',\n  'Cancelled',\n  'Complete',\n]);\n\nexport const VALID_SORT_OPTIONS = List([\n  'createdAt',\n  'updatedAt',\n  'closedAt',\n  'Due Date',\n]);\n\nexport const VALID_SORT_DIRECTION_OPTIONS = List(['ASC', 'DESC']);\n\nexport const isActiveStatus = status =>\n  status !== 'Complete' && status !== 'Cancelled';\n\nexport const VALID_ASSIGNMENT_OPTIONS = List(['mine', 'unassigned']);\n\n// Deprecated\nexport const AssignmentCriteria = Record({\n  mine: false,\n  teammates: false,\n  unassigned: false,\n});\n// Maps the deprecated AssignmentCriteria object to a valid assignment option\nconst assignmentCriteriaMapper = assignments => {\n  const assignmentCriteria = AssignmentCriteria(assignments);\n  if (\n    assignmentCriteria.teammates ||\n    (assignmentCriteria.mine && assignmentCriteria.unassigned)\n  ) {\n    return '';\n  } else if (assignmentCriteria.mine) {\n    return 'mine';\n  } else if (assignmentCriteria.unassigned) {\n    return 'unassigned';\n  } else {\n    return '';\n  }\n};\n\nexport const DateRangeCriteria = Record({\n  // createdAt, updatedAt, closedAt\n  timeline: 'createdAt',\n  // 7days, 30days, 60days, 90days\n  preset: '',\n  custom: false,\n  start: '',\n  end: '',\n});\n\nexport const Filter = Record({\n  name: '',\n  slug: '',\n  icon: '',\n  // Valid types are: default, team, custom, and adhoc.\n  type: 'default',\n\n  // Filter sort order: createdAt, updatedAt, closedAt, values[Due Date]\n  sortBy: 'createdAt',\n  sortDirection: 'ASC',\n\n  // Search Criteria.\n  status: VALID_STATUSES.filter(isActiveStatus),\n  teams: List(),\n  assignments: '',\n  dateRange: DateRangeCriteria(),\n  createdByMe: false,\n});\n\nexport const filterReviver = filterJSON => {\n  try {\n    let filter = filterJSON;\n    if (typeof filterJSON === 'string') {\n      filter = JSON.parse(filterJSON);\n    }\n    if (!filter.name) {\n      return null;\n    }\n    const sortBy = VALID_SORT_OPTIONS.includes(filter.sortBy)\n      ? filter.sortBy\n      : undefined;\n    const sortDirection = VALID_SORT_DIRECTION_OPTIONS.includes(\n      filter.sortDirection,\n    )\n      ? filter.sortDirection\n      : VALID_SORT_DIRECTION_OPTIONS.get(0);\n    const status = isarray(filter.status) ? List(filter.status) : undefined;\n    const teams = isarray(filter.teams) ? List(filter.teams) : undefined;\n    const assignments = isobject(filter.assignments)\n      ? assignmentCriteriaMapper(filter.assignments)\n      : VALID_ASSIGNMENT_OPTIONS.includes(filter.assignments)\n        ? filter.assignments\n        : '';\n    const dateRange = isobject(filter.dateRange)\n      ? DateRangeCriteria(filter.dateRange)\n      : undefined;\n\n    return Filter({\n      name: filter.name,\n      slug: filter.slug,\n      icon: filter.icon,\n      type: filter.type,\n      sortBy,\n      sortDirection,\n      status,\n      teams,\n      assignments,\n      dateRange,\n      createdByMe: filter.createdByMe === true,\n    });\n  } catch (e) {\n    return null;\n  }\n};\n","import { Record, List, Set } from 'immutable';\nimport matchPath from 'rudy-match-path';\nimport { Utils } from '@kineticdata/bundle-common';\nimport { Filter, filterReviver } from '../../records';\nconst { withPayload, noPayload, getAttributeValue } = Utils;\nconst ns = Utils.namespaceBuilder('queue/app');\n\nexport const types = {\n  FETCH_APP_DATA_REQUEST: ns('FETCH_APP_DATA_REQUEST'),\n  FETCH_APP_DATA_SUCCESS: ns('FETCH_APP_DATA_SUCCESS'),\n  FETCH_APP_DATA_FAILURE: ns('FETCH_APP_DATA_FAILURE'),\n  ADD_PERSONAL_FILTER: ns('ADD_PERSONAL_FILTER'),\n  UPDATE_PERSONAL_FILTER: ns('UPDATE_PERSONAL_FILTER'),\n  REMOVE_PERSONAL_FILTER: ns('REMOVE_PERSONAL_FILTER'),\n};\n\nexport const actions = {\n  fetchAppDataRequest: noPayload(types.FETCH_APP_DATA_REQUEST),\n  fetchAppDataSuccess: withPayload(types.FETCH_APP_DATA_SUCCESS),\n  addPersonalFilter: withPayload(types.ADD_PERSONAL_FILTER),\n  updatePersonalFilter: withPayload(types.UPDATE_PERSONAL_FILTER),\n  removePersonalFilter: withPayload(types.REMOVE_PERSONAL_FILTER),\n};\n\nconst ADHOC_PATH = { path: '*/adhoc', exact: false };\nconst DEFAULT_LIST_PATH = { path: '*/list/:name', exact: false };\nconst TEAM_LIST_PATH = { path: '*/team/:name', exact: false };\nconst CUSTOM_LIST_PATH = { path: '*/custom/:name', exact: false };\n\nexport const getFilterByPath = (state, pathname) => {\n  const findByName = name => filter => filter.name === name;\n  const adhocMatch = matchPath(pathname, ADHOC_PATH);\n  const defaultListMatch = matchPath(pathname, DEFAULT_LIST_PATH);\n  const teamListMatch = matchPath(pathname, TEAM_LIST_PATH);\n  const customListMatch = matchPath(pathname, CUSTOM_LIST_PATH);\n  if (adhocMatch) {\n    return state.queue.adhocFilter;\n  } else if (defaultListMatch) {\n    return state.queueApp.filters.find(\n      findByName(defaultListMatch.params.name),\n    );\n  } else if (teamListMatch) {\n    let filterName = teamListMatch.params.name;\n    try {\n      filterName = decodeURIComponent(teamListMatch.params.name);\n    } catch (e) {}\n    return state.queueApp.teamFilters.find(findByName(filterName));\n  } else if (customListMatch) {\n    let filterName = customListMatch.params.name;\n    try {\n      filterName = decodeURIComponent(customListMatch.params.name);\n    } catch (e) {}\n    return state.queueApp.myFilters.find(findByName(filterName));\n  }\n};\n\nexport const selectMyTeamForms = state =>\n  state.queueApp.forms.filter(f => {\n    const owningTeam = f.attributes['Owning Team'];\n    return owningTeam\n      ? state.queueApp.myTeams\n          .map(t => t.name)\n          .toSet()\n          .intersect(new Set(owningTeam)).size > 0\n      : true;\n  });\n\nexport const selectAssignmentTeams = (allTeams, form, queueItem) => {\n  // Filter out any teams without members\n  const filteredTeams = allTeams.filter(t => t.memberships.length > 0);\n  const disallowReassignment =\n    !!form &&\n    !!queueItem &&\n    ['No', 'False'].includes(\n      Utils.getAttributeValue(form, 'Allow Reassignment', 'Yes'),\n    );\n  const assignableTeams = form\n    ? Utils.getAttributeValues(form, 'Assignable Teams', [])\n    : [];\n\n  const availableTeams =\n    queueItem && disallowReassignment\n      ? // If queue item exists and doesn't allow reassignment,\n        // only allow reassignment to users in current Assigned Team\n        filteredTeams.filter(t => t.name === queueItem.values['Assigned Team'])\n      : // Otherwise see if form defines which teams it can be assigned to\n        assignableTeams.length > 0\n        ? // If Assignable Teams attribute isn't empty,\n          //only allow reassignment to the listed fields\n          filteredTeams.filter(t => assignableTeams.includes(t.name))\n        : // Otherwise allow reassignment to any team\n          filteredTeams;\n\n  return availableTeams;\n};\n\nexport const mapTeamsToAssignments = teams => {\n  return teams.flatMap(t =>\n    t.memberships\n      .map(m => {\n        const user = m.user;\n        user.team = t.name;\n        return user;\n      })\n      .concat([\n        {\n          username: null,\n          displayName: 'Unassigned',\n          team: t.name,\n        },\n      ]),\n  );\n};\n\nexport const selectAssignments = (...args) => {\n  return mapTeamsToAssignments(selectAssignmentTeams(...args));\n};\n\n/*\n *\n * Mine (only assigned to me)\n * Unassigned (assigned to one of my teams but not to an individual)\n */\n\nexport const State = Record({\n  filters: List([\n    Filter({\n      name: 'Mine',\n      assignments: 'mine',\n    }),\n    Filter({\n      name: 'Unassigned',\n      assignments: 'unassigned',\n    }),\n    Filter({\n      name: 'Created By Me',\n      createdByMe: true,\n    }),\n  ]),\n  allTeams: List(),\n  myTeams: List(),\n  teamFilters: List(),\n  myFilters: List(),\n  forms: List(),\n  bulkWorkEnabled: false,\n  loading: true,\n  error: null,\n});\n\nexport const reducer = (state = State(), { type, payload }) => {\n  switch (type) {\n    case types.FETCH_APP_DATA_REQUEST:\n      return state.set('loading', true).set('error', null);\n    case types.FETCH_APP_DATA_SUCCESS:\n      return state\n        .set('allTeams', List(payload.allTeams))\n        .set('myTeams', List(payload.myTeams))\n        .set(\n          'teamFilters',\n          List(payload.myTeams)\n            .map(team => {\n              const filter = filterReviver(\n                getAttributeValue(team, 'Default Queue Filter'),\n              );\n              if (filter) {\n                return filter\n                  .set('type', 'team')\n                  .update('name', name => name || team.name)\n                  .update('icon', icon => icon || Utils.getIcon(team, 'users'))\n                  .update(\n                    'teams',\n                    teams =>\n                      teams.includes(team.name) ? teams : teams.push(team.name),\n                  );\n              } else {\n                return Filter({\n                  name: team.name,\n                  type: 'team',\n                  icon: Utils.getIcon(team, 'users'),\n                  teams: List([team.name]),\n                });\n              }\n            })\n            .sortBy(filter => filter.name),\n        )\n        .set('myFilters', List(payload.myFilters))\n        .set(\n          'forms',\n          payload.forms.filter(\n            f => f.status === 'Active' || f.status === 'New',\n          ),\n        )\n        .set(\n          'bulkWorkEnabled',\n          payload.forms\n            .filter(f => f.status === 'Active' || f.status === 'New')\n            .some(f => f.fields.some(field => field.name === 'Bulk Action')),\n        )\n        .set('loading', false);\n    case types.FETCH_APP_DATA_FAILURE:\n      return state.set('error', payload).set('loading', false);\n    case types.ADD_PERSONAL_FILTER:\n      return state.update('myFilters', filters => filters.push(payload));\n    case types.UPDATE_PERSONAL_FILTER:\n      return state.update('myFilters', filters =>\n        filters.set(filters.findIndex(f => f.name === payload.name), payload),\n      );\n    case types.REMOVE_PERSONAL_FILTER:\n      return state.update('myFilters', myFilters =>\n        myFilters.filterNot(f => f.name === payload.name),\n      );\n    default:\n      return state;\n  }\n};\n","import { Record, Map, List, OrderedMap, is } from 'immutable';\nimport { Utils } from '@kineticdata/bundle-common';\nimport { Filter } from '../../records';\nconst { withPayload, noPayload } = Utils;\nconst ns = Utils.namespaceBuilder('queue/list');\n\nexport const types = {\n  FETCH_LIST_REQUEST: ns('FETCH_LIST_REQUEST'),\n  FETCH_LIST_SUCCESS: ns('FETCH_LIST_SUCCESS'),\n  FETCH_LIST_FAILURE: ns('FETCH_LIST_FAILURE'),\n  FETCH_LIST_PREVIOUS: ns('FETCH_LIST_PREVIOUS'),\n  FETCH_LIST_NEXT: ns('FETCH_LIST_NEXT'),\n  FETCH_LIST_RESET: ns('FETCH_LIST_RESET'),\n  UPDATE_LIST_LIMIT: ns('UPDATE_LIST_LIMIT'),\n\n  FETCH_LIST_COUNT_REQUEST: ns('FETCH_LIST_COUNT_REQUEST'),\n  FETCH_LIST_COUNT_SUCCESS: ns('FETCH_LIST_COUNT_SUCCESS'),\n\n  FETCH_CURRENT_ITEM: ns('FETCH_CURRENT_ITEM'),\n  SET_CURRENT_ITEM: ns('SET_CURRENT_ITEM'),\n  UPDATE_QUEUE_ITEM: ns('UPDATE_QUEUE_ITEM'),\n\n  SET_ADHOC_FILTER: ns('SET_ADHOC_FILTER'),\n\n  OPEN_NEW_MENU: ns('OPEN_NEW_MENU'),\n  CLOSE_NEW_MENU: ns('CLOSE_NEW_MENU'),\n\n  TOGGLE_SELECTION_MODE: ns('TOGGLE_SELECTION_MODE'),\n  TOGGLE_SELECTED_ITEM: ns('TOGGLE_SELECTED_ITEM'),\n  BULK_ASSIGN_REQUEST: ns('BULK_ASSIGN_REQUEST'),\n  BULK_ASSIGN_COMPLETE: ns('BULK_ASSIGN_COMPLETE'),\n  BULK_WORK_REQUEST: ns('BULK_WORK_REQUEST'),\n  BULK_WORK_COMPLETE: ns('BULK_WORK_COMPLETE'),\n  BULK_STATUS_UPDATE: ns('BULK_STATUS_UPDATE'),\n  BULK_STATUS_RESET: ns('BULK_STATUS_RESET'),\n};\n\nexport const actions = {\n  fetchListRequest: withPayload(types.FETCH_LIST_REQUEST),\n  fetchListSuccess: withPayload(types.FETCH_LIST_SUCCESS),\n  fetchListFailure: withPayload(types.FETCH_LIST_FAILURE),\n  fetchListPrevious: withPayload(types.FETCH_LIST_PREVIOUS),\n  fetchListNext: withPayload(types.FETCH_LIST_NEXT),\n  fetchListReset: withPayload(types.FETCH_LIST_RESET),\n  updateListLimit: withPayload(types.UPDATE_LIST_LIMIT),\n\n  fetchListCountRequest: withPayload(types.FETCH_LIST_COUNT_REQUEST),\n  fetchListCountSuccess: withPayload(types.FETCH_LIST_COUNT_SUCCESS),\n\n  fetchCurrentItem: withPayload(types.FETCH_CURRENT_ITEM),\n  setCurrentItem: withPayload(types.SET_CURRENT_ITEM),\n  updateQueueItem: withPayload(types.UPDATE_QUEUE_ITEM),\n\n  setAdhocFilter: withPayload(types.SET_ADHOC_FILTER),\n\n  openNewItemMenu: withPayload(types.OPEN_NEW_MENU),\n  closeNewItemMenu: noPayload(types.CLOSE_NEW_MENU),\n\n  toggleSelectionMode: withPayload(\n    types.TOGGLE_SELECTION_MODE,\n    'open',\n    'items',\n  ),\n  toggleSelectedItem: withPayload(types.TOGGLE_SELECTED_ITEM, 'item', 'shift'),\n  bulkAssignRequest: withPayload(types.BULK_ASSIGN_REQUEST),\n  bulkAssignComplete: noPayload(types.BULK_ASSIGN_COMPLETE),\n  bulkWorkRequest: withPayload(types.BULK_WORK_REQUEST),\n  bulkWorkComplete: noPayload(types.BULK_WORK_COMPLETE),\n  bulkStatusUpdate: withPayload(types.BULK_STATUS_UPDATE),\n  bulkStatusReset: noPayload(types.BULK_STATUS_RESET),\n};\n\nexport const State = Record({\n  currentFilter: null,\n  loading: true,\n  paging: false,\n  data: null,\n  error: null,\n  pageToken: null,\n  nextPageToken: null,\n  previousPageTokens: List(),\n  hasPreviousPage: false,\n  hasNextPage: false,\n  pageIndexStart: 0,\n  pageIndexEnd: 0,\n  limit: 10,\n  counts: Map(),\n\n  currentItem: null,\n  currentItemLoading: false,\n\n  adhocFilter: Filter({\n    type: 'adhoc',\n    assignments: 'mine',\n  }),\n\n  newItemMenuOpen: false,\n  newItemMenuOptions: Map(),\n\n  selectedList: null,\n  bulkStatus: {},\n});\n\nconst updatePageMetadata = state =>\n  state\n    .set('hasPreviousPage', state.previousPageTokens.size > 0)\n    .set('hasNextPage', !!state.nextPageToken)\n    .set(\n      'pageIndexStart',\n      state.previousPageTokens.size * state.limit +\n        (state.data && state.data.size > 0 ? 1 : 0),\n    )\n    .set(\n      'pageIndexEnd',\n      state.previousPageTokens.size * state.limit +\n        (state.data ? state.data.size : 0),\n    );\n\nexport const reducer = (state = State(), { type, payload }) => {\n  switch (type) {\n    case types.FETCH_LIST_REQUEST:\n      return (!payload && state.currentFilter) ||\n        is(payload, state.currentFilter)\n        ? // If a payload isn't provided while a currentFilter is set or\n          // currentFilter doesn't change, don't change state and just refresh\n          // the current page data.\n          state\n        : state\n            .set('currentFilter', payload)\n            .set('loading', true)\n            .set('paging', false)\n            .set('data', null)\n            .set('error', null)\n            .set('pageToken', null)\n            .set('nextPageToken', null)\n            .set('previousPageTokens', List())\n            .update(updatePageMetadata)\n            // Clear selection mode when filter changes\n            .set('selectedList', null);\n    case types.FETCH_LIST_SUCCESS:\n      return state\n        .set('loading', false)\n        .set('paging', false)\n        .set('data', List(payload.submissions))\n        .set('nextPageToken', payload.nextPageToken)\n        .update(updatePageMetadata);\n    case types.FETCH_LIST_FAILURE:\n      return state\n        .set('loading', false)\n        .set('paging', false)\n        .set('error', payload);\n    case types.FETCH_LIST_PREVIOUS:\n      return state\n        .set('nextPageToken', null)\n        .set('pageToken', state.previousPageTokens.last())\n        .update('previousPageTokens', t => t.pop())\n        .set('paging', true);\n    case types.FETCH_LIST_NEXT:\n      return state\n        .update('previousPageTokens', t => t.push(state.pageToken))\n        .set('pageToken', state.nextPageToken)\n        .set('nextPageToken', null)\n        .set('paging', true);\n    case types.FETCH_LIST_RESET:\n      return (\n        state\n          .set('currentFilter', payload || null)\n          .set('loading', true)\n          .set('paging', false)\n          .set('data', null)\n          .set('error', null)\n          .set('pageToken', null)\n          .set('nextPageToken', null)\n          .set('previousPageTokens', List())\n          .update(updatePageMetadata)\n          // Clear selection mode when filter changes\n          .update(\n            'selectedList',\n            selectedList =>\n              !payload || !is(payload, state.currentFilter)\n                ? null\n                : selectedList,\n          )\n      );\n    case types.UPDATE_LIST_LIMIT:\n      return typeof payload === 'number'\n        ? state\n            .set('limit', payload)\n            .set('loading', true)\n            .set('paging', false)\n            .set('data', null)\n            .set('error', null)\n            .set('pageToken', null)\n            .set('nextPageToken', null)\n            .set('previousPageTokens', List())\n            .update(updatePageMetadata)\n        : state;\n\n    case types.FETCH_LIST_COUNT_SUCCESS:\n      return payload.filter\n        ? state.setIn(['counts', payload.filter], payload.count)\n        : state;\n\n    case types.SET_ADHOC_FILTER:\n      return state.set(\n        'adhocFilter',\n        payload\n          .set(\n            'name',\n            payload.name &&\n            (payload.type === 'custom' ||\n              is(\n                payload.delete('sortDirection'),\n                state.currentFilter.delete('sortDirection'),\n              ))\n              ? payload.name\n              : '',\n          )\n          .set('type', 'adhoc'),\n      );\n\n    case types.FETCH_CURRENT_ITEM:\n      return state.set('currentItemLoading', true);\n    case types.SET_CURRENT_ITEM:\n      return state.set('currentItemLoading', false).set('currentItem', payload);\n\n    case types.OPEN_NEW_MENU:\n      return state\n        .set('newItemMenuOpen', true)\n        .set('newItemMenuOptions', Map(payload));\n    case types.CLOSE_NEW_MENU:\n      return state.set('newItemMenuOpen', false).remove('newItemMenuOptions');\n\n    case types.TOGGLE_SELECTION_MODE:\n      return state.update(\n        'selectedList',\n        selectedList =>\n          typeof payload.open === 'boolean'\n            ? payload.open\n              ? Array.isArray(payload.items)\n                ? payload.items.reduce(\n                    (map, item) => map.set(item.id, item),\n                    OrderedMap(),\n                  )\n                : OrderedMap()\n              : null\n            : selectedList === null\n              ? OrderedMap()\n              : null,\n      );\n    case types.TOGGLE_SELECTED_ITEM:\n      return (\n        state\n          .update('selectedList', updateSelectedItems(payload, state.data))\n          // Set the last item clicked as an extra property on the OrderedMap\n          // for use when an item is shift clicked\n          .update('selectedList', selectedList => {\n            selectedList._lastSelectedItem = payload.item;\n            return selectedList;\n          })\n      );\n    case types.BULK_ASSIGN_REQUEST:\n    case types.BULK_WORK_REQUEST:\n      return state.set('bulkStatus', {\n        type: type === types.BULK_ASSIGN_REQUEST ? 'assign' : 'work',\n        open: true,\n        completed: false,\n        count: state.selectedList.size,\n        items: state.selectedList.toList().toJS(),\n        success: [],\n        error: [],\n      });\n    case types.BULK_ASSIGN_COMPLETE:\n    case types.BULK_WORK_COMPLETE:\n      return state.setIn(['bulkStatus', 'completed'], true);\n    case types.BULK_STATUS_UPDATE:\n      return state.updateIn(['bulkStatus', payload.status], list => [\n        ...list,\n        payload.data,\n      ]);\n    case types.BULK_STATUS_RESET:\n      return state.set('bulkStatus', {});\n\n    default:\n      return state;\n  }\n};\n\nconst updateSelectedItems = ({ item, shift }, data) => selectedList => {\n  if (selectedList) {\n    // If shift key is pressed when an item is clicked, select or deselect all\n    // items between the current one and the last one clicked\n    if (shift) {\n      // Get last item and index of last item in current data set\n      const lastItem = selectedList._lastSelectedItem;\n      const lastIndex = lastItem\n        ? data.findIndex(d => d.id === lastItem.id)\n        : -1;\n      // Get index of the current clicked item\n      const currentIndex = data.findIndex(d => d.id === item.id);\n      // Check is the currently clicked item is being added or removed, and\n      // replicate the same action for all items in the range\n      const isAdd = !selectedList.has(item.id);\n\n      if (currentIndex >= 0 && lastIndex >= 0 && currentIndex !== lastIndex) {\n        // Create a range between the two items and fill it with the indexes of\n        // all the items in that range\n        return Array(Math.abs(currentIndex - lastIndex) + 1)\n          .fill()\n          .map((v, i) => i + Math.min(currentIndex, lastIndex))\n          .reduce((list, index) => {\n            // Reduce the list of indexes and update the selected list by adding\n            //or removing the relevant items\n            const dataItem = data.get(index);\n            if (isAdd && !list.has(dataItem.id)) {\n              return list.set(dataItem.id, dataItem);\n            } else if (!isAdd && list.has(dataItem.id)) {\n              return list.delete(dataItem.id);\n            }\n            return list;\n          }, selectedList);\n      }\n    }\n\n    // If only a single item was clicked (without shift), add or remove it\n    if (selectedList.has(item.id)) {\n      return selectedList.delete(item.id);\n    } else {\n      return selectedList.set(item.id, item);\n    }\n  }\n\n  // Return the initial list if none of the above cases apply\n  return selectedList;\n};\n","import { Map } from 'immutable';\n\nexport const types = {\n  OPEN: '@kd/queue/filterMenu/OPEN',\n  CLOSE: '@kd/queue/filterMenu/CLOSE',\n  RESET: '@kd/queue/filterMenu/RESET',\n  SET_FILTER_NAME: '@kd/queue/filterMenu/SET_FILTER_NAME',\n  SHOW_SECTION: '@kd/queue/filterMenu/SHOW_SECTION',\n  TOGGLE_ASSIGNMENT: '@kd/queue/filterMenu/TOGGLE_ASSIGNMENT',\n  TOGGLE_CREATED_BY_ME: '@kd/queue/filterMenu/TOGGLE_CREATED_BY_ME',\n  TOGGLE_TEAM: '@kd/queue/filterMenu/TOGGLE_TEAM',\n  TOGGLE_STATUS: '@kd/queue/filterMenu/TOGGLE_STATUS',\n  SET_DATE_RANGE_TIMELINE: '@kd/queue/filterMenu/SET_DATE_RANGE_TIMELINE',\n  SET_DATE_RANGE: '@kd/queue/filterMenu/SET_DATE_RANGE',\n  SET_SORTED_BY: '@kd/queue/filterMenu/SET_SORTED_BY',\n  SET_DIRECTION: '@kd/queue/filterMenu/SET_DIRECTION',\n};\n\nexport const actions = {\n  open: initialFilter => ({ type: types.OPEN, payload: initialFilter }),\n  close: () => ({ type: types.CLOSE }),\n\n  reset: () => ({ type: types.RESET }),\n  setFilterName: filterName => ({\n    type: types.SET_FILTER_NAME,\n    payload: filterName,\n  }),\n  showSection: section => ({ type: types.SHOW_SECTION, payload: section }),\n  toggleAssignment: payload => ({ type: types.TOGGLE_ASSIGNMENT, payload }),\n  toggleCreatedByMe: payload => ({ type: types.TOGGLE_CREATED_BY_ME, payload }),\n  toggleTeam: payload => ({ type: types.TOGGLE_TEAM, payload }),\n  toggleStatus: payload => ({ type: types.TOGGLE_STATUS, payload }),\n  setDateRangeTimeline: payload => ({\n    type: types.SET_DATE_RANGE_TIMELINE,\n    payload,\n  }),\n  setDateRange: payload => ({ type: types.SET_DATE_RANGE, payload }),\n  setSortedBy: payload => ({ type: types.SET_SORTED_BY, payload }),\n  setDirection: payload => ({ type: types.SET_DIRECTION, payload }),\n};\n\nexport const defaultState = Map({\n  isOpen: false,\n  initialFilter: null,\n  currentFilter: null,\n  activeSection: null,\n  filterName: '',\n});\n\nexport const reducer = (state = defaultState, { type, payload }) => {\n  switch (type) {\n    case types.OPEN:\n      return Map({\n        isOpen: true,\n        initialFilter: payload,\n        currentFilter: payload,\n        activeSection: null,\n        filterName: payload.type === 'custom' ? payload.name : '',\n      });\n    case types.CLOSE:\n      return defaultState;\n    case types.RESET:\n      return state.set('currentFilter', state.get('initialFilter'));\n    case types.SET_FILTER_NAME:\n      return state\n        .set('filterName', payload)\n        .setIn(['currentFilter', 'name'], payload);\n    case types.SHOW_SECTION:\n      return state.set('activeSection', payload);\n    case types.TOGGLE_ASSIGNMENT:\n      return state.setIn(['currentFilter', 'assignments'], payload);\n    case types.TOGGLE_CREATED_BY_ME:\n      return state.setIn(['currentFilter', 'createdByMe'], payload);\n    case types.TOGGLE_TEAM:\n      return state.updateIn(['currentFilter', 'teams'], teams => {\n        const i = teams.indexOf(payload);\n        return i > -1 ? teams.delete(i) : teams.push(payload);\n      });\n    case types.TOGGLE_STATUS:\n      return state.updateIn(\n        ['currentFilter', 'status'],\n        statuses =>\n          statuses.includes(payload)\n            ? statuses.delete(statuses.indexOf(payload))\n            : statuses.push(payload),\n      );\n    case types.SET_DATE_RANGE_TIMELINE:\n      return (\n        state\n          .setIn(['currentFilter', 'dateRange', 'timeline'], payload)\n          // If dateRange timeline is changed and dateRange filter has a value,\n          // set sortBy to the dateRange timeline\n          .updateIn(\n            ['currentFilter', 'sortBy'],\n            sortBy =>\n              !!state.getIn(['currentFilter', 'dateRange', 'preset']) ||\n              !!state.getIn(['currentFilter', 'dateRange', 'custom'])\n                ? payload\n                : sortBy,\n          )\n      );\n    case types.SET_DATE_RANGE:\n      const custom = typeof payload === 'object';\n      return (\n        state\n          .mergeIn(['currentFilter', 'dateRange'], {\n            preset: !custom ? payload : '',\n            custom,\n            start: custom ? payload.start : '',\n            end: custom ? payload.end : '',\n          })\n          // If dataRange filter has a value, set sortBy to dateRange timeline\n          .updateIn(\n            ['currentFilter', 'sortBy'],\n            sortBy =>\n              !!payload\n                ? state.getIn(['currentFilter', 'dateRange', 'timeline'])\n                : sortBy,\n          )\n      );\n    case types.SET_SORTED_BY:\n      return state.setIn(['currentFilter', 'sortBy'], payload);\n    case types.SET_DIRECTION:\n      return state.setIn(['currentFilter', 'sortDirection'], payload);\n    default:\n      return state;\n  }\n};\n","import { Record } from 'immutable';\nimport { Utils } from '@kineticdata/bundle-common';\nconst { namespace, noPayload } = Utils;\n\nexport const types = {\n  OPEN_WORK_MENU: namespace('workMenu', 'OPEN_WORK_MENU'),\n  CLOSE_WORK_MENU: namespace('workMenu', 'CLOSE_WORK_MENU'),\n};\n\nexport const actions = {\n  openWorkMenu: (queueItem, onWorked) => ({\n    type: types.OPEN_WORK_MENU,\n    payload: { queueItem, onWorked },\n  }),\n  closeWorkMenu: noPayload(types.CLOSE_WORK_MENU),\n};\n\nexport const State = Record({\n  queueItem: null,\n  onWorked: null,\n});\n\nexport const reducer = (state = State(), { type, payload }) => {\n  switch (type) {\n    case types.OPEN_WORK_MENU:\n      return State(payload);\n    case types.CLOSE_WORK_MENU:\n      return State();\n    default:\n      return state;\n  }\n};\n","import { Record } from 'immutable';\nimport { Utils } from '@kineticdata/bundle-common';\nconst { namespace, withPayload } = Utils;\n\nexport const types = {\n  UPDATE_QUEUE_SETTINGS: namespace('queueSettings', 'UPDATE_QUEUE_SETTINGS'),\n  UPDATE_QUEUE_SETTINGS_ERROR: namespace(\n    'queueSettings',\n    'UPDATE_QUEUE_SETTINGS_ERROR',\n  ),\n  FETCH_QUEUE_SETTINGS: namespace('queueSettings', 'FETCH_QUEUE_SETTINGS'),\n  FETCH_QUEUE_SETTINGS_SPACE: namespace(\n    'queueSettings',\n    'FETCH_QUEUE_SETTINGS_SPACE',\n  ),\n  FETCH_QUEUE_SETTINGS_TEAMS: namespace(\n    'queueSettings',\n    'FETCH_QUEUE_SETTINGS_TEAMS',\n  ),\n  SET_QUEUE_SETTINGS: namespace('queueSettings', 'SET_QUEUE_SETTINGS'),\n  SET_QUEUE_SETTINGS_SPACE: namespace(\n    'queueSettings',\n    'SET_QUEUE_SETTINGS_SPACE',\n  ),\n  SET_QUEUE_SETTINGS_TEAMS: namespace(\n    'queueSettings',\n    'SET_QUEUE_SETTINGS_TEAMS',\n  ),\n  FETCH_QUEUE_SETTINGS_USERS: namespace(\n    'queueSettings',\n    'FETCH_QUEUE_SETTINGS_USERS',\n  ),\n  SET_QUEUE_SETTINGS_USERS: namespace(\n    'queueSettings',\n    'SET_QUEUE_SETTINGS_USERS',\n  ),\n  FETCH_NOTIFICATIONS: namespace('queueSettings', 'FETCH_NOTIFICATIONS'),\n  SET_NOTIFICATIONS: namespace('queueSettings', 'SET_NOTIFICATIONS'),\n  FETCH_FORM: namespace('queueSettings', 'FETCH_FORM'),\n  SET_FORM: namespace('queueSettings', 'SET_FORM'),\n};\n\nexport const actions = {\n  updateQueueSettings: withPayload(types.UPDATE_QUEUE_SETTINGS),\n  updateQueueSettingsError: withPayload(types.UPDATE_QUEUE_SETTINGS_ERROR),\n  fetchQueueSettings: withPayload(types.FETCH_QUEUE_SETTINGS),\n  fetchQueueSettingsSpace: withPayload(types.FETCH_QUEUE_SETTINGS_SPACE),\n  fetchQueueSettingsTeams: withPayload(types.FETCH_QUEUE_SETTINGS_TEAMS),\n  fetchQueueSettingsUsers: withPayload(types.FETCH_QUEUE_SETTINGS_USERS),\n  setQueueSettings: withPayload(types.SET_QUEUE_SETTINGS),\n  setQueueSettingsSpace: withPayload(types.SET_QUEUE_SETTINGS_SPACE),\n  setQueueSettingsTeams: withPayload(types.SET_QUEUE_SETTINGS_TEAMS),\n  setQueueSettingsUsers: withPayload(types.SET_QUEUE_SETTINGS_USERS),\n  fetchNotifications: withPayload(types.FETCH_NOTIFICATIONS),\n  setNotifications: withPayload(types.SET_NOTIFICATIONS),\n  fetchForm: withPayload(types.FETCH_FORM),\n  setForm: withPayload(types.SET_FORM),\n};\n\nexport const State = Record({\n  loading: true,\n  teams: null,\n  users: null,\n  error: null,\n  queueSettingsKapp: null,\n  loadingTeams: true,\n  loadingUsers: true,\n  loadingSpace: true,\n  loadingForm: true,\n  spaceKapps: null,\n  notifications: null,\n  notificationsLoading: true,\n  form: null,\n});\n\nexport const reducer = (state = State(), { type, payload }) => {\n  switch (type) {\n    case types.FETCH_QUEUE_SETTINGS:\n      return state.set('loading', true);\n    case types.FETCH_QUEUE_SETTINGS_TEAMS:\n      return state.set('loadingTeams', true);\n    case types.FETCH_QUEUE_SETTINGS_USERS:\n      return state.set('loadingUsers', true);\n    case types.FETCH_QUEUE_SETTINGS_SPACE:\n      return state.set('loadingSpace', true);\n    case types.SET_QUEUE_SETTINGS:\n      return state\n        .set('queueSettingsKapp', payload)\n        .set('loading', false)\n        .set('error', null);\n    case types.SET_QUEUE_SETTINGS_TEAMS:\n      return state\n        .set('teams', payload)\n        .set('loadingTeams', false)\n        .set('error', null);\n    case types.SET_QUEUE_SETTINGS_USERS:\n      return state\n        .set('users', payload)\n        .set('loadingUsers', false)\n        .set('error', null);\n    case types.SET_QUEUE_SETTINGS_SPACE:\n      return state\n        .set('spaceKapps', payload)\n        .set('loadingTeams', false)\n        .set('error', null);\n    case types.UPDATE_QUEUE_SETTINGS_ERROR:\n      return state\n        .set('queueSettings', null)\n        .set('loading', false)\n        .set('error', payload);\n    case types.UPDATE_QUEUE_SETTINGS:\n      return state.set('loading', false);\n    case types.FETCH_NOTIFICATIONS:\n      return state.set('notificationsLoading', true);\n    case types.SET_NOTIFICATIONS:\n      return state\n        .set('notificationsLoading', false)\n        .set('notifications', payload);\n    case types.FETCH_FORM:\n      return state.set('loadingForm', true);\n    case types.SET_FORM:\n      return state.set('loadingForm', false).set('form', payload);\n    default:\n      return state;\n  }\n};\n","import { List, Map, Record } from 'immutable';\nimport { Utils } from '@kineticdata/bundle-common';\nimport isobject from 'isobject';\n\nconst { namespace, noPayload, withPayload } = Utils;\n\nexport const FORMS_INCLUDES = 'details,attributes';\nexport const FORM_INCLUDES =\n  'details,fields,attributesMap,categorizations,kapp';\nexport const FORM_FULL_INCLUDES =\n  'details,fields,bridgedResources,customHeadContent,pages,securityPolicies,attributesMap,categorizations,kapp';\nexport const SUBMISSION_INCLUDES =\n  'details,values,form,form.kapp,form.fields,activities,activities.details';\n\n// Used to define form configurations\nexport const FormConfig = Record({\n  // columns config\n  columns: List(),\n});\n\n// Used to define a single table column\nexport const ColumnConfig = Record({\n  // name of the column\n  name: '',\n  // label of the column displayed in table\n  label: '',\n  // Valid types are: system, value.\n  type: '',\n  // if the column is displayable in the table\n  visible: false,\n});\n\nexport const SUBMISSION_SYSTEM_PROPS = [\n  ColumnConfig({\n    label: 'Handle',\n    name: 'handle',\n    type: 'system',\n    visible: true,\n  }),\n  ColumnConfig({\n    label: 'Label',\n    name: 'label',\n    type: 'system',\n    visible: true,\n  }),\n  ColumnConfig({ label: 'State', name: 'coreState', type: 'system' }),\n  ColumnConfig({ label: 'Created At', name: 'createdAt', type: 'system' }),\n  ColumnConfig({ label: 'Created By', name: 'createdBy', type: 'system' }),\n  ColumnConfig({ label: 'Updated At', name: 'updatedAt', type: 'system' }),\n  ColumnConfig({ label: 'Updated By', name: 'updatedBy', type: 'system' }),\n  ColumnConfig({ label: 'Id', name: 'id', type: 'system' }),\n];\n\nexport const types = {\n  FETCH_FORM: namespace('settingsQueueForms', 'FETCH_FORM'),\n  FETCH_FORM_REQUEST: namespace('settingsQueueForms', 'FETCH_FORM_REQUEST'),\n  FETCH_FORM_SUCCESS: namespace('settingsQueueForms', 'FETCH_FORM_SUCCESS'),\n  FETCH_FORM_FAILURE: namespace('settingsQueueForms', 'FETCH_FORM_FAILURE'),\n  SET_QUEUE_FORM: namespace('settingsQueueForms', 'SET_QUEUE_FORM'),\n  UPDATE_QUEUE_FORM: namespace('settingsQueueForms', 'UPDATE_QUEUE_FORM'),\n  CREATE_FORM: namespace('settingsQueueForms', 'CREATE_FORM'),\n  FETCH_FORM_SUBMISSIONS: namespace(\n    'settingsQueueForms',\n    'FETCH_FORM_SUBMISSIONS',\n  ),\n  SET_FORM_SUBMISSIONS: namespace('settingsQueueForms', 'SET_FORM_SUBMISSIONS'),\n  FETCH_FORM_SUBMISSION: namespace(\n    'settingsQueueForms',\n    'FETCH_FORM_SUBMISSION',\n  ),\n  SET_FORM_SUBMISSION: namespace('settingsQueueForms', 'SET_FORM_SUBMISSION'),\n  FETCH_KAPP: namespace('settingsQueueForms', 'FETCH_KAPP'),\n  SET_KAPP: namespace('settingsQueueForms', 'SET_KAPP'),\n  SET_FORMS_ERROR: namespace('settingsQueueForms', 'SET_FORMS_ERROR'),\n  FETCH_NOTIFICATIONS: namespace('settingsQueueForms', 'FETCH_NOTIFICATIONS'),\n  SET_NOTIFICATIONS: namespace('settingsQueueForms', 'SET_NOTIFICATIONS'),\n  SET_CLIENT_SORT_INFO: namespace('settingsQueueForms', 'SET_CLIENT_SORT_INFO'),\n  FETCH_ALL_SUBMISSIONS: namespace(\n    'settingsQueueForms',\n    'FETCH_ALL_SUBMISSIONS',\n  ),\n  SET_EXPORT_SUBMISSIONS: namespace(\n    'settingsQueueForms',\n    'SET_EXPORT_SUBMISSIONS',\n  ),\n  SET_EXPORT_COUNT: namespace('settingsQueueForms', 'SET_EXPORT_COUNT'),\n  OPEN_MODAL: namespace('settingsQueueForms', 'OPEN_MODAL'),\n  CLOSE_MODAL: namespace('settingsQueueForms', 'CLOSE_MODAL'),\n  SET_DOWNLOADED: namespace('settingsQueueForms', 'SET_DOWNLOADED'),\n  DELETE_FORM_REQUEST: namespace('settingsQueueForms', 'DELETE_FORM_REQUEST'),\n  DELETE_FORM_COMPLETE: namespace('settingsQueueForms', 'DELETE_FORM_COMPLETE'),\n  CLONE_FORM_REQUEST: namespace('settingsQueueForms', 'CLONE_FORM_REQUEST'),\n  CLONE_FORM_COMPLETE: namespace('settingsQueueForms', 'CLONE_FORM_COMPLETE'),\n};\n\nexport const actions = {\n  fetchForm: withPayload(types.FETCH_FORM),\n  fetchFormRequest: withPayload(types.FETCH_FORM_REQUEST),\n  fetchFormSuccess: withPayload(types.FETCH_FORM_SUCCESS),\n  fetchFormFailure: withPayload(types.FETCH_FORM_FAILURE),\n  setForm: withPayload(types.SET_QUEUE_FORM),\n  updateForm: withPayload(types.UPDATE_QUEUE_FORM),\n  createForm: withPayload(types.CREATE_FORM),\n  fetchFormSubmissions: withPayload(types.FETCH_FORM_SUBMISSIONS),\n  setFormSubmissions: withPayload(types.SET_FORM_SUBMISSIONS),\n  fetchFormSubmission: withPayload(types.FETCH_FORM_SUBMISSION),\n  setFormSubmission: withPayload(types.SET_FORM_SUBMISSION),\n  fetchKapp: withPayload(types.FETCH_KAPP),\n  setKapp: withPayload(types.SET_KAPP),\n  setFormsError: withPayload(types.SET_FORMS_ERROR),\n  fetchNotifications: withPayload(types.FETCH_NOTIFICATIONS),\n  setNotifications: withPayload(types.SET_NOTIFICATIONS),\n  setClientSortInfo: withPayload(types.SET_CLIENT_SORT_INFO),\n  fetchAllSubmissions: withPayload(types.FETCH_ALL_SUBMISSIONS),\n  setExportSubmissions: withPayload(types.SET_EXPORT_SUBMISSIONS),\n  setExportCount: withPayload(types.SET_EXPORT_COUNT),\n  openModal: withPayload(types.OPEN_MODAL),\n  closeModal: noPayload(types.CLOSE_MODAL),\n  setDownloaded: withPayload(types.SET_DOWNLOADED),\n  deleteFormRequest: withPayload(types.DELETE_FORM_REQUEST), // new\n  deleteFormComplete: withPayload(types.DELETE_FORM_COMPLETE), // new\n  cloneFormRequest: withPayload(types.CLONE_FORM_REQUEST), // new\n  cloneFormComplete: withPayload(types.CLONE_FORM_COMPLETE), // new\n};\n\nexport const parseFormConfigurationJson = json => {\n  try {\n    const parsed = JSON.parse(json);\n    if (isobject(parsed)) {\n      return FormConfig(parsed).update('columns', c => List(c));\n    } else {\n      return FormConfig();\n    }\n  } catch (e) {\n    return FormConfig();\n  }\n};\n\nexport const buildFormConfigurationObject = form => {\n  // Parse Form Attribute for Configuration Values\n  const parsedConfig = parseFormConfigurationJson(\n    form.attributesMap['Form Configuration'] &&\n      form.attributesMap['Form Configuration'][0],\n  );\n  // Build a list of all current column properties\n  let defaultColumnConfig = List(\n    form.fields\n      .map(f => ColumnConfig({ name: f.name, label: f.name, type: 'value' }))\n      .concat(SUBMISSION_SYSTEM_PROPS),\n  ).sort((a, b) => {\n    var indexA = parsedConfig.columns.findIndex(\n      sc => sc.name === a.name && sc.type === a.type,\n    );\n    var indexB = parsedConfig.columns.findIndex(\n      sc => sc.name === b.name && sc.type === b.type,\n    );\n    if (indexA === indexB) {\n      return 0;\n    } else if (indexA >= 0 && (indexA < indexB || indexB === -1)) {\n      return -1;\n    } else {\n      return 1;\n    }\n  });\n  // If there are saved column configs, apply them\n  if (parsedConfig.columns.size > 0) {\n    return parsedConfig.merge({\n      columns: List(\n        defaultColumnConfig.map(dc => {\n          const saved = parsedConfig.columns.find(\n            sc => sc.name === dc.name && sc.type === dc.type,\n          );\n          if (saved) {\n            return ColumnConfig({\n              ...saved,\n              name: dc.name,\n              type: dc.type,\n              label: dc.label,\n            });\n          } else {\n            return dc;\n          }\n        }),\n      ),\n    });\n  } else {\n    return parsedConfig.merge({\n      columns: List(defaultColumnConfig),\n    });\n  }\n};\n\nconst sortSubmissions = (submissions, sortInfo) => {\n  if (sortInfo) {\n    return submissions.sortBy(\n      submission =>\n        (sortInfo.type === 'value'\n          ? submission.values[sortInfo.name]\n          : submission[sortInfo.name]) || '',\n      (a, b) => a.localeCompare(b) * (sortInfo.direction === 'DESC' ? -1 : 1),\n    );\n  } else {\n    return submissions;\n  }\n};\n\nexport const selectCurrentForm = state => state.settingsForms.currentForm;\nexport const selectCurrentFormChanges = state =>\n  state.settingsForms.currentFormChanges;\nexport const selectFormBySlug = (state, formSlug) =>\n  state.forms.find(form => form.slug === formSlug);\n\nexport const State = Record({\n  loading: true,\n  errors: [],\n  currentForm: null,\n  currentFormChanges: null,\n  queueKapp: null,\n  kappLoading: true,\n  notificationsLoading: true,\n  notifications: null,\n  currentFormSubmissions: null,\n  nextPageToken: null,\n  submissionsLoading: true,\n  submissionLoading: true,\n  formSubmission: null,\n  // Columns form configuration data\n  submissionColumns: new List(),\n  // Client Side Sorting\n  clientSortInfo: null,\n  modalIsOpen: false,\n  modalName: '',\n  exportSubmissions: [],\n  exportCount: 0,\n  downloaded: false,\n  processing: Map(),\n});\n\nexport const reducer = (state = State(), { type, payload }) => {\n  switch (type) {\n    case types.FETCH_FORM:\n      return state; //.set('loading', true);\n    case types.FETCH_FORM_REQUEST:\n      return state\n        .update(\n          'currentForm',\n          form => (form && form.slug === payload.formSlug ? form : null),\n        )\n        .set('errors', null);\n    case types.FETCH_FORM_SUCCESS:\n      return state.set('currentForm', payload);\n    case types.FETCH_FORM_FAILURE:\n      return state.set('errors', payload);\n    case types.SET_QUEUE_FORM:\n      const config = buildFormConfigurationObject(payload);\n      const newForm =\n        state.currentForm && state.currentForm.slug !== payload.slug;\n      return state\n        .set('loading', false)\n        .set('currentForm', payload)\n        .set('submissionColumns', config.columns)\n        .set('clientSortInfo', newForm ? null : state.clientSortInfo);\n    case types.FETCH_FORM_SUBMISSIONS:\n      return state.set('submissionsLoading', true);\n    case types.SET_FORM_SUBMISSIONS:\n      return state\n        .set('submissionsLoading', false)\n        .set(\n          'currentFormSubmissions',\n          sortSubmissions(List(payload.submissions), state.clientSortInfo),\n        )\n        .set('nextPageToken', payload.nextPageToken);\n    case types.FETCH_FORM_SUBMISSION:\n      return state.set('submissionLoading', true);\n    case types.SET_FORM_SUBMISSION:\n      return state\n        .set('submissionLoading', false)\n        .set('formSubmission', payload);\n    case types.FETCH_KAPP:\n      return state.set('kappLoading', true);\n    case types.SET_KAPP:\n      return state.set('kappLoading', false).set('queueKapp', payload);\n    case types.FETCH_NOTIFICATIONS:\n      return state.set('notificationsLoading', true);\n    case types.SET_NOTIFICATIONS:\n      return state\n        .set('notificationsLoading', false)\n        .set('notifications', payload);\n    case types.SET_FORMS_ERROR:\n      return state.set('loading', false).set('errors', payload);\n    case types.SET_CLIENT_SORT_INFO:\n      return state\n        .set('clientSortInfo', payload)\n        .set(\n          'currentFormSubmissions',\n          sortSubmissions(state.currentFormSubmissions, payload),\n        );\n    case types.FETCH_ALL_SUBMISSIONS:\n      return state.set('fetchingAll', true);\n    case types.SET_EXPORT_SUBMISSIONS:\n      return state.set('exportSubmissions', payload).set('fetchingAll', false);\n    case types.SET_EXPORT_COUNT:\n      return state.set('exportCount', payload);\n    case types.OPEN_MODAL:\n      return state.set('modalIsOpen', true).set('modalName', payload);\n    case types.CLOSE_MODAL:\n      return state.set('modalIsOpen', false).set('modalName', '');\n    case types.SET_DOWNLOADED:\n      return state.set('downloaded', payload);\n    case types.DELETE_FORM_REQUEST:\n      return state.setIn(['processing', payload.formSlug], true);\n    case types.DELETE_FORM_COMPLETE:\n      return state.deleteIn(['processing', payload.formSlug]);\n    case types.CLONE_FORM_REQUEST:\n      return state.setIn(['processing', payload.cloneFormSlug], true);\n    case types.CLONE_FORM_COMPLETE:\n      return state.deleteIn(['processing', payload.cloneFormSlug]);\n    default:\n      return state;\n  }\n};\n","import { Utils } from '@kineticdata/bundle-common';\nimport * as constants from './constants';\n\nexport const Form = object => ({\n  name: object.name,\n  slug: object.slug,\n  description: object.description,\n  icon: Utils.getAttributeValue(\n    object,\n    constants.ATTRIBUTE_ICON,\n    constants.DEFAULT_FORM_ICON,\n  ),\n  categories:\n    object.categorizations && object.categorizations.map(c => c.category.slug),\n  type: object.type,\n  status: object.status,\n  createdAt: object.createdAt,\n  updatedAt: object.updatedAt,\n  kapp: object.kapp,\n});\n","import { List } from 'immutable';\nimport { Form } from '../../models';\nimport { Utils } from '@kineticdata/bundle-common';\nconst { withPayload, noPayload } = Utils;\nconst ns = Utils.namespaceBuilder('queue/forms');\n\nexport const types = {\n  FETCH_FORMS_REQUEST: ns('FETCH_FORMS_REQUEST'),\n  FETCH_FORMS_SUCCESS: ns('FETCH_FORMS_SUCCESS'),\n  FETCH_FORMS_FAILURE: ns('FETCH_FORMS_FAILURE'),\n};\n\nexport const actions = {\n  fetchFormsRequest: noPayload(types.FETCH_FORMS_REQUEST),\n  fetchFormsSuccess: withPayload(types.FETCH_FORMS_SUCCESS),\n  fetchFormsFailure: withPayload(types.FETCH_FORMS_FAILURE),\n};\n\nexport const defaultState = {\n  loading: true,\n  error: null,\n  data: List(),\n};\n\nexport const reducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case types.FETCH_FORMS_REQUEST:\n      return { ...state, loading: true, error: null };\n    case types.FETCH_FORMS_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        error: null,\n        data: List(action.payload).map(Form),\n      };\n    case types.FETCH_FORMS_FAILURE:\n      return { ...state, loading: false, error: action.payload };\n    default:\n      return state;\n  }\n};\n","import { reducer as app } from './modules/app';\nimport { reducer as queueApp } from './modules/queueApp';\nimport { reducer as queue } from './modules/queue';\nimport { reducer as filterMenu } from './modules/filterMenu';\nimport { reducer as workMenu } from './modules/workMenu';\nimport { reducer as queueSettings } from './modules/settingsQueue';\nimport { reducer as settingsForms } from './modules/settingsForms';\nimport { reducer as forms } from './modules/forms';\n\nexport default {\n  app,\n  queueApp,\n  queue,\n  filterMenu,\n  workMenu,\n  queueSettings,\n  settingsForms,\n  forms,\n};\n","import { takeEvery } from 'redux-saga/effects';\nimport { types } from '../modules/app';\n\nfunction* syncAppState(action) {\n  // console.log('sync app state saga called...', action);\n}\n\nexport function* watchApp() {\n  yield takeEvery(types.SYNC_APP_STATE, syncAppState);\n}\n","import {\n  all,\n  call,\n  put,\n  select,\n  takeLatest,\n  takeEvery,\n} from 'redux-saga/effects';\nimport { List } from 'immutable';\nimport { fetchForms, fetchTeams, updateProfile } from '@kineticdata/react';\nimport { Utils, addToast } from '@kineticdata/bundle-common';\nimport { actions, types } from '../modules/queueApp';\nimport { filterReviver } from '../../records';\n\n// We'll implicitly believe teams to be assignable.\nexport const isAssignable = team => {\n  if (!team.attributes) {\n    return true;\n  }\n\n  // Fetch the assignable attribute and determine if it is false.\n  if (team.attributes instanceof Array) {\n    // When we're dealing with sub-elements they're not \"translated\" for us.\n    const assignable = team.attributes.find(a => a.name === 'Assignable');\n    if (assignable && assignable.values[0].toUpperCase() === 'FALSE') {\n      return false;\n    }\n  } else if (\n    team.attributes.Assignable &&\n    team.attributes.Assignable[0].toUpperCase() === 'FALSE'\n  ) {\n    return false;\n  }\n\n  return true;\n};\n\nexport function* fetchAppSettingsTask() {\n  const kappSlug = yield select(state => state.app.kappSlug);\n  const profile = yield select(state => state.app.profile);\n\n  const {\n    forms: { forms, error: formsError },\n    teams: { teams, error: teamsError },\n  } = yield all({\n    forms: call(fetchForms, {\n      kappSlug,\n      include: 'details,attributes,fields,fields.details,kapp',\n    }),\n    teams: call(fetchTeams, {\n      include:\n        'details,attributes,memberships,memberships.user,memberships.user.details',\n    }),\n  });\n\n  if (formsError || teamsError) {\n    yield put(\n      actions.fetchAppDataFailure(\n        List([formsError, teamsError]).filter(e => e),\n      ),\n    );\n  } else {\n    const allTeams = teams.filter(isAssignable);\n    const myTeams = List(\n      profile.memberships\n        .map(membership => membership.team)\n        .filter(isAssignable),\n    ).sortBy(team => team.name);\n\n    const myFilters = Utils.getProfileAttributeValues(\n      profile,\n      'Queue Personal Filters',\n    )\n      .map(filterReviver)\n      .filter(f => f);\n\n    const appSettings = {\n      myTeams,\n      myFilters,\n      forms,\n      allTeams,\n    };\n\n    yield put(actions.fetchAppDataSuccess(appSettings));\n  }\n}\n\nexport function* updatePersonalFilterTask(action) {\n  const myFilters = yield select(state => state.queueApp.myFilters);\n\n  const { error } = yield call(updateProfile, {\n    profile: {\n      profileAttributesMap: {\n        'Queue Personal Filters': myFilters\n          .toJS()\n          .map(filter => JSON.stringify(filter)),\n      },\n    },\n  });\n\n  if (error) {\n    const actionText =\n      action.type === types.REMOVE_PERSONAL_FILTER ? 'deleting' : 'saving';\n    addToast({ severity: 'danger', message: `Error ${actionText} filter.` });\n  } else {\n    const actionText =\n      action.type === types.REMOVE_PERSONAL_FILTER ? 'deleted' : 'saved';\n    addToast(`Filter ${actionText} successfully.`);\n  }\n}\n\nexport function* watchApp() {\n  yield takeEvery(types.FETCH_APP_DATA_REQUEST, fetchAppSettingsTask);\n  yield takeLatest(\n    [\n      types.ADD_PERSONAL_FILTER,\n      types.REMOVE_PERSONAL_FILTER,\n      types.UPDATE_PERSONAL_FILTER,\n    ],\n    updatePersonalFilterTask,\n  );\n}\n","import { delay } from 'redux-saga';\nimport {\n  all,\n  select,\n  call,\n  put,\n  takeEvery,\n  takeLatest,\n} from 'redux-saga/effects';\nimport moment from 'moment';\nimport {\n  defineKqlQuery,\n  searchSubmissions,\n  fetchSubmission,\n  updateSubmission,\n  submitSubmission,\n} from '@kineticdata/react';\nimport isFunction from 'is-function';\nimport { addToastAlert } from '@kineticdata/bundle-common';\nimport { types, actions } from '../modules/queue';\n\nexport const ERROR_STATUS_STRING = 'There was a problem retrieving items.';\n\nexport const SUBMISSION_INCLUDES =\n  'details,values,attributes,form,form.kapp,children,children.details,children.form,children.form.kapp,children.values,form.attributes,parent,parent.details,parent.values,parent.form,parent.form.kapp';\nexport const SUBMISSION_LIST_INCLUDES = [\n  'details',\n  'form',\n  'form.kapp',\n  'form.attributes',\n  'form.fields',\n  'form.fields.details',\n  'values',\n];\n\nconst calculateTeams = (myTeams, teams) =>\n  teams.isEmpty()\n    ? myTeams.map(t => t.name)\n    : teams.toSet().intersect(myTeams.map(t => t.name));\n\nexport const buildSearch = (filter, appSettings, profile) => {\n  const searcher = defineKqlQuery();\n  const searcherParams = {};\n\n  // Make sure there is a valid assignment in the searcher\n  let invalidAssignment = true;\n\n  if (filter.createdByMe) {\n    searcher.equals('createdBy', 'username');\n    searcherParams.username = profile.username;\n    invalidAssignment = false;\n  }\n\n  if (filter.assignments === 'mine') {\n    searcher.equals('values[Assigned Individual]', 'username');\n    searcherParams.username = profile.username;\n    invalidAssignment = false;\n  } else if (\n    filter.assignments === 'unassigned' &&\n    (appSettings.myTeams.size > 0 || filter.createdByMe)\n  ) {\n    searcher.equals('values[Assigned Individual]', 'null', true);\n    searcherParams.null = null;\n  }\n\n  if (\n    appSettings.myTeams.size > 0 &&\n    (filter.teams.size > 0 ||\n      (filter.assignments !== 'mine' && !filter.createdByMe))\n  ) {\n    searcher.in('values[Assigned Team]', 'teams');\n    searcherParams.teams = calculateTeams(\n      appSettings.myTeams,\n      filter.teams,\n    ).toJS();\n    invalidAssignment = false;\n  }\n\n  if (filter.status.size > 0) {\n    if (filter.status.size === 1) {\n      searcher.equals('values[Status]', 'status');\n      searcherParams.status = filter.status.first();\n    } else {\n      searcher.in('values[Status]', 'status');\n      searcherParams.status = filter.status.toJS();\n    }\n  }\n\n  if (filter.dateRange.custom) {\n    searcher.between(\n      filter.dateRange.timeline === 'completedAt'\n        ? 'closedAt'\n        : filter.dateRange.timeline,\n      'start',\n      'end',\n    );\n    searcherParams.start = moment(filter.dateRange.start).toISOString();\n    searcherParams.end = moment(filter.dateRange.end)\n      .add(1, 'day')\n      .toISOString();\n  } else if (filter.dateRange.preset !== '') {\n    // Compute the number of days specified in the preset date range, just use\n    // regex to get the number. If the string does not match the pattern log a\n    // warning and default to 7.\n    const match = filter.dateRange.preset.match(/^(\\d+)days$/);\n    const numberOfDays = match ? parseInt(match[1], 10) : 7;\n    if (!match) {\n      window.console.warn(\n        `Invalid date range filter preset: ${filter.dateRange.preset}`,\n      );\n    }\n    searcher.greaterThan(\n      filter.dateRange.timeline === 'completedAt'\n        ? 'closedAt'\n        : filter.dateRange.timeline,\n      'start',\n    );\n    searcherParams.start = moment()\n      .startOf('day')\n      .subtract(numberOfDays, 'days')\n      .toISOString();\n  }\n\n  return {\n    search: {\n      q: searcher.end()(searcherParams),\n      orderBy: filter.sortBy,\n      direction: filter.sortDirection,\n      include: SUBMISSION_LIST_INCLUDES,\n    },\n    invalidAssignment,\n  };\n};\n\nexport function* fetchListTask(action) {\n  try {\n    const filter = yield select(state => state.queue.currentFilter);\n    if (filter) {\n      const appSettings = yield select(state => state.queueApp);\n      const profile = yield select(state => state.app.profile);\n      const kappSlug = yield select(state => state.app.kappSlug);\n      const { search, invalidAssignment } = yield call(\n        buildSearch,\n        filter,\n        appSettings,\n        profile,\n      );\n      const pageToken = yield select(state => state.queue.pageToken);\n      const limit = yield select(state => state.queue.limit);\n      const hasPreviousPage = yield select(\n        state => state.queue.hasPreviousPage,\n      );\n\n      // If invalidAssignment is true, then there is a problem with the query\n      // and we should immediately yield an empty list.\n      if (invalidAssignment) {\n        yield put(actions.setListItems(filter, []));\n        yield put(\n          actions.fetchListSuccess({ submissions: [], nextPageToken: null }),\n        );\n      } else {\n        const {\n          submissions,\n          nextPageToken,\n          error,\n          count,\n          countPageToken,\n        } = yield call(searchSubmissions, {\n          kapp: kappSlug,\n          search,\n          limit,\n          pageToken,\n          count: !pageToken,\n        });\n\n        if (error) {\n          yield put(actions.fetchListFailure(error));\n        } else if (\n          (!submissions || submissions.length === 0) &&\n          hasPreviousPage\n        ) {\n          // If there are no submissions but there are previous pages, fetch the\n          // previous page. This can occur if the last item on a page was updated\n          // to no longer match the current filter criteria.\n          yield put(actions.fetchListPrevious());\n        } else {\n          yield put(actions.fetchListSuccess({ submissions, nextPageToken }));\n\n          // Update count if it was fetched\n          if (typeof count !== 'undefined') {\n            yield put(\n              actions.fetchListCountSuccess({\n                filter,\n                count: countPageToken ? `${count}+` : count,\n              }),\n            );\n          }\n\n          // Call the callback if provided\n          if (typeof action.payload === 'function') {\n            action.payload(submissions);\n          }\n        }\n      }\n    }\n  } catch (e) {\n    console.error('There was a problem fetching queue list items:', e);\n  }\n}\n\nexport function* fetchListCountTask(action) {\n  try {\n    const filter = action.payload;\n    if (filter) {\n      const appSettings = yield select(state => state.queueApp);\n      const profile = yield select(state => state.app.profile);\n      const kappSlug = yield select(state => state.app.kappSlug);\n      const { search, invalidAssignment } = yield call(\n        buildSearch,\n        filter,\n        appSettings,\n        profile,\n      );\n\n      // If invalidAssignment is true, then there is a problem with the query\n      // and we should immediately yield an empty list.\n      if (invalidAssignment) {\n        yield put(actions.fetchListSuccess([], null));\n      } else {\n        const { error, count, countPageToken } = yield call(searchSubmissions, {\n          kapp: kappSlug,\n          search,\n          count: true,\n          limit: 0,\n        });\n\n        if (!error && typeof count !== 'undefined') {\n          yield put(\n            actions.fetchListCountSuccess({\n              filter,\n              count: countPageToken ? `${count}+` : count,\n            }),\n          );\n        }\n      }\n    }\n  } catch (e) {\n    console.error('There was a problem fetching queue list counts:', e);\n  }\n}\n\nexport function* fetchCurrentItemTask(action) {\n  const { submission, error } = yield call(fetchSubmission, {\n    id: action.payload,\n    include: SUBMISSION_INCLUDES,\n  });\n\n  if (!error) {\n    yield put(actions.setCurrentItem(submission));\n  } else {\n    yield put(addToastAlert('Failed to retrieve item!'));\n  }\n}\n\nexport function* updateQueueItemTask(action) {\n  const { submission } = yield call(updateSubmission, {\n    id: action.payload.id,\n    values: action.payload.values,\n    include: SUBMISSION_INCLUDES,\n  });\n\n  if (submission) {\n    if (isFunction(action.payload.onSuccess)) {\n      action.payload.onSuccess(submission);\n    }\n  } else {\n    yield put(addToastAlert('Failed to update item!'));\n  }\n}\n\nexport function* bulkAssignTask(action) {\n  const submissions = yield select(state => state.queue.selectedList);\n  const assignment = action.payload.assignment;\n\n  if (!submissions || !assignment) {\n    return;\n  }\n\n  yield all(\n    submissions\n      .toList()\n      .map((submission, i) =>\n        call(updateBulkSubmission, {\n          id: submission.id,\n          values: { ...submission.values, ...assignment },\n          include: SUBMISSION_LIST_INCLUDES.join(','),\n        }),\n      )\n      .toJS(),\n  );\n\n  // Delay to make the UI less jumpy\n  yield delay(500);\n  yield put(actions.bulkAssignComplete());\n}\n\nfunction* updateBulkSubmission(params) {\n  const { submission, error } = yield call(updateSubmission, params);\n\n  if (error) {\n    yield put(\n      actions.bulkStatusUpdate({\n        status: 'error',\n        data: { ...error, submissionId: params.id },\n      }),\n    );\n  } else {\n    yield put(\n      actions.bulkStatusUpdate({ status: 'success', data: submission }),\n    );\n  }\n}\n\nexport function* bulkWorkTask(action) {\n  const submissions = yield select(state => state.queue.selectedList);\n  const profile = yield select(state => state.app.profile);\n  // Override the assigned individual to be the current user in case someone\n  // grabbed this ticket while the bulk action was being taken\n  const assignment = {\n    'Assigned Individual': profile.username,\n    'Assigned Individual Display Name': profile.displayName || profile.username,\n  };\n  const values = action.payload.values;\n\n  if (!submissions || !values) {\n    return;\n  }\n\n  yield all(\n    submissions\n      .toList()\n      .map((submission, i) =>\n        call(submitBulkSubmission, {\n          id: submission.id,\n          page: submission.currentPage,\n          values: { ...submission.values, ...assignment, ...values },\n          include: SUBMISSION_LIST_INCLUDES.join(','),\n        }),\n      )\n      .toJS(),\n  );\n\n  // Delay to make the UI less jumpy\n  yield delay(500);\n  yield put(actions.bulkWorkComplete());\n}\n\nfunction* submitBulkSubmission(params) {\n  const { submission, error } = yield call(submitSubmission, params);\n\n  if (error) {\n    yield put(\n      actions.bulkStatusUpdate({\n        status: 'error',\n        data: { ...error, submissionId: params.id },\n      }),\n    );\n  } else {\n    yield put(\n      actions.bulkStatusUpdate({ status: 'success', data: submission }),\n    );\n  }\n}\n\nexport function* watchQueue() {\n  yield takeLatest(\n    [\n      types.FETCH_LIST_REQUEST,\n      types.FETCH_LIST_PREVIOUS,\n      types.FETCH_LIST_NEXT,\n      types.FETCH_LIST_RESET,\n      types.UPDATE_LIST_LIMIT,\n    ],\n    fetchListTask,\n  );\n  yield takeEvery(types.FETCH_LIST_COUNT_REQUEST, fetchListCountTask);\n  yield takeEvery(types.FETCH_CURRENT_ITEM, fetchCurrentItemTask);\n  yield takeEvery(types.UPDATE_QUEUE_ITEM, updateQueueItemTask);\n  yield takeEvery(types.BULK_ASSIGN_REQUEST, bulkAssignTask);\n  yield takeEvery(types.BULK_WORK_REQUEST, bulkWorkTask);\n}\n","import { call, put, takeEvery, select } from 'redux-saga/effects';\nimport { fetchForms } from '@kineticdata/react';\n\nimport { actions, types } from '../modules/forms';\n\nexport function* fetchFormsSaga() {\n  const kappSlug = yield select(state => state.app.kappSlug);\n  const { forms, error } = yield call(fetchForms, {\n    kappSlug,\n    include: 'details,categorizations,attributes,kapp',\n  });\n\n  if (error) {\n    yield put(actions.fetchFormsFailure(error));\n  } else {\n    yield put(actions.fetchFormsSuccess(forms));\n  }\n}\n\nexport function* watchForms() {\n  yield takeEvery(types.FETCH_FORMS_REQUEST, fetchFormsSaga);\n}\n","import { Map } from 'immutable';\nimport { all, takeEvery, call, put, select } from 'redux-saga/effects';\nimport { actions, types } from '../modules/settingsQueue';\nimport { addSuccess, addError } from '@kineticdata/bundle-common';\nimport {\n  fetchKapp,\n  fetchForms,\n  fetchForm,\n  fetchTeams,\n  fetchUsers,\n  fetchSpace,\n  updateKapp,\n  searchSubmissions,\n  SubmissionSearch,\n} from '@kineticdata/react';\n\nconst QUEUE_SETTING_INCLUDES = 'formTypes,attributesMap,forms,forms.details';\nconst TEAMS_SETTING_INCLUDES = 'teams';\nconst SPACE_SETTING_INCLUDES = 'kapps,kapps.forms,attributesMap';\nconst FORM_INCLUDES = 'details,fields,attributesMap,categorizations,kapp';\n\nexport function* fetchQueueSettingsSaga() {\n  const [{ error, kapp }, manageableForms] = yield all([\n    call(fetchKapp, {\n      include: QUEUE_SETTING_INCLUDES,\n      kappSlug: 'queue',\n    }),\n    call(fetchForms, {\n      kappSlug: 'queue',\n      manage: 'true',\n    }),\n  ]);\n\n  if (error) {\n    yield put(actions.updateQueueSettingsError(error));\n  } else {\n    const manageableFormsSlugs = (manageableForms.forms || []).map(\n      form => form.slug,\n    );\n    yield put(\n      actions.setQueueSettings({\n        ...kapp,\n        forms: (kapp.forms || []).map(form => ({\n          ...form,\n          canManage: manageableFormsSlugs.includes(form.slug),\n        })),\n      }),\n    );\n  }\n}\n\nexport function* fetchTeamsSaga({ payload }) {\n  const { error, teams } = yield call(fetchTeams, {\n    include: TEAMS_SETTING_INCLUDES,\n    teams: payload,\n  });\n\n  if (error) {\n    yield put(actions.updateQueueSettingsError(error));\n  } else {\n    yield put(actions.setQueueSettingsTeams(teams));\n  }\n}\n\nexport function* fetchUsersSaga() {\n  const { error, users } = yield call(fetchUsers, {\n    include: 'details',\n  });\n\n  if (error) {\n    yield put(actions.updateQueueSettingsError(error));\n  } else {\n    yield put(actions.setQueueSettingsUsers(users));\n  }\n}\n\nexport function* fetchSpaceSaga({ payload }) {\n  const { error, space } = yield call(fetchSpace, {\n    include: SPACE_SETTING_INCLUDES,\n    space: payload,\n  });\n\n  if (error) {\n    yield put(actions.updateQueueSettingsError(error));\n  } else {\n    yield put(actions.setQueueSettingsSpace(space));\n  }\n}\n\nexport function* updateQueueSettingsSaga({ payload }) {\n  const attributes = Map(payload)\n    .filter(value => value)\n    .map(value => (value.constructor === Array ? value : [value]))\n    .toJS();\n\n  const { error } = yield call(updateKapp, {\n    include: QUEUE_SETTING_INCLUDES,\n    kapp: {\n      attributesMap: attributes,\n    },\n    kappSlug: 'queue',\n  });\n\n  if (error) {\n    yield put(addError('Failed to update settings.', 'Update Settings'));\n    yield put(actions.updateServicesSettingsError(error));\n  } else {\n    yield put(addSuccess('Updated settings successfully.', 'Update Settings'));\n    const appActions = yield select(state => state.app.actions);\n    yield put(appActions.refreshApp());\n  }\n}\n\nexport function* fetchNotificationsSaga() {\n  const search = new SubmissionSearch(true)\n    .index('values[Name]')\n    .includes(['details', 'values'])\n    .build();\n\n  const { error, submissions } = yield call(searchSubmissions, {\n    search,\n    form: 'notification-data',\n    datastore: true,\n  });\n\n  if (error) {\n    yield put(actions.updateQueueSettingsError(error));\n  } else {\n    yield put(actions.setNotifications(submissions));\n  }\n}\n\nexport function* fetchFormSaga(action) {\n  const { error, form } = yield call(fetchForm, {\n    kappSlug: action.payload.kappSlug,\n    formSlug: action.payload.formSlug,\n    include: FORM_INCLUDES,\n  });\n\n  if (error) {\n    yield put(actions.updateQueueSettingsError(error));\n  } else {\n    yield put(actions.setForm(form));\n  }\n}\n\nexport function* watchSettingsQueue() {\n  yield takeEvery(types.FETCH_QUEUE_SETTINGS, fetchQueueSettingsSaga);\n  yield takeEvery(types.FETCH_QUEUE_SETTINGS_TEAMS, fetchTeamsSaga);\n  yield takeEvery(types.FETCH_QUEUE_SETTINGS_USERS, fetchUsersSaga);\n  yield takeEvery(types.FETCH_QUEUE_SETTINGS_SPACE, fetchSpaceSaga);\n  yield takeEvery(types.UPDATE_QUEUE_SETTINGS, updateQueueSettingsSaga);\n  yield takeEvery(types.FETCH_NOTIFICATIONS, fetchNotificationsSaga);\n  yield takeEvery(types.FETCH_FORM, fetchFormSaga);\n}\n","import { call, put, takeEvery, select } from 'redux-saga/effects';\nimport {\n  bundle,\n  fetchForm,\n  SubmissionSearch,\n  searchSubmissions,\n  fetchSubmission,\n  fetchKapp,\n  updateForm,\n  createForm,\n  deleteForm,\n} from '@kineticdata/react';\nimport {\n  addToast,\n  addToastAlert,\n  addSuccess,\n  addError,\n} from '@kineticdata/bundle-common';\nimport axios from 'axios';\nimport {\n  actions,\n  types,\n  FORM_INCLUDES,\n  FORM_FULL_INCLUDES,\n  SUBMISSION_INCLUDES,\n} from '../modules/settingsForms';\n\nexport function* fetchFormSaga(action) {\n  const { error, form } = yield call(fetchForm, {\n    kappSlug: action.payload.kappSlug,\n    formSlug: action.payload.formSlug,\n    include: FORM_INCLUDES,\n  });\n\n  if (error) {\n    yield put(actions.setFormsError(error));\n  } else {\n    yield put(actions.setForm(form));\n  }\n}\n\nexport function* fetchFormRequestSaga({ payload }) {\n  const { error, form } = yield call(fetchForm, {\n    kappSlug: payload.kappSlug,\n    formSlug: payload.formSlug,\n    include: FORM_INCLUDES,\n  });\n\n  if (error) {\n    yield put(actions.fetchFormFailure(error));\n  } else {\n    yield put(actions.fetchFormSuccess(form));\n  }\n}\n\nexport function* cloneFormSaga({ payload }) {\n  const { error: cloneError, form: cloneForm } = yield call(fetchForm, {\n    kappSlug: payload.kappSlug,\n    formSlug: payload.cloneFormSlug,\n    include: FORM_FULL_INCLUDES,\n  });\n\n  if (cloneError) {\n    addToastAlert({\n      title: 'Error Cloning Form',\n      message: 'Could not find form to clone.',\n    });\n    yield put(actions.cloneFormComplete(payload));\n  } else {\n    const { error, form } = yield call(updateForm, {\n      kappSlug: payload.kappSlug,\n      formSlug: payload.formSlug,\n      form: {\n        bridgedResources: cloneForm.bridgedResources,\n        customHeadContent: cloneForm.customHeadContent,\n        pages: cloneForm.pages,\n        securityPolicies: cloneForm.securityPolicies,\n        attributesMap: cloneForm.attributesMap,\n        categorizations: cloneForm.categorizations,\n      },\n    });\n\n    if (error) {\n      addToastAlert({\n        title: 'Error Cloning Form',\n        message: error.message,\n      });\n      yield put(actions.cloneFormComplete(payload));\n    }\n\n    addToast(`${form.name} cloned successfully from ${cloneForm.name}`);\n    if (typeof payload.callback === 'function') {\n      payload.callback(form);\n    }\n    yield put(actions.cloneFormComplete(payload));\n  }\n}\n\nexport function* fetchFormSubmissionsSaga(action) {\n  const kappSlug = action.payload.kappSlug;\n  const pageToken = action.payload.pageToken;\n  const formSlug = action.payload.formSlug;\n  const q = action.payload.q;\n  const searchBuilder = new SubmissionSearch().includes([\n    'details',\n    'values',\n    'form',\n    'form.kapp',\n  ]);\n  // Add some of the optional parameters to the search\n  if (pageToken) searchBuilder.pageToken(pageToken);\n  // Loop over items in q and append them as \"eq\"\n  // to search build\n  if (q) {\n    for (const key in q) {\n      searchBuilder.eq(key, q[key]);\n    }\n  }\n  searchBuilder.end();\n  const search = searchBuilder.build();\n\n  const { submissions, nextPageToken, error } = yield call(searchSubmissions, {\n    search,\n    kapp: kappSlug,\n    form: formSlug,\n  });\n\n  if (error) {\n    yield put(actions.setFormsError(error));\n  } else {\n    yield put(actions.setFormSubmissions({ submissions, nextPageToken }));\n  }\n}\n\nexport function* fetchFormSubmissionSaga(action) {\n  const id = action.payload.id;\n  const { submission, error } = yield call(fetchSubmission, {\n    id,\n    include: SUBMISSION_INCLUDES,\n  });\n  if (error) {\n    yield put(actions.setFormsError(error));\n  } else {\n    yield put(actions.setFormSubmission(submission));\n  }\n}\n\nexport function* fetchKappSaga(action) {\n  const { error, kapp } = yield call(fetchKapp, {\n    kappSlug: action.payload,\n    include: 'formTypes, categories, formAttributeDefinitions',\n  });\n\n  if (error) {\n    yield put(actions.setFormsError(error));\n  } else {\n    const me = yield select(state => state.app.profile);\n    if (\n      me.spaceAdmin &&\n      !kapp.formAttributeDefinitions.find(d => d.name === 'Form Configuration')\n    ) {\n      // Create Form Configuration Definition if it doesn't exist\n      yield call(axios.request, {\n        method: 'post',\n        url: `${bundle.apiLocation()}/kapps/${\n          kapp.slug\n        }/formAttributeDefinitions`,\n        data: {\n          name: 'Form Configuration',\n          allowsMultiple: false,\n        },\n      });\n    }\n\n    yield put(actions.setKapp(kapp));\n  }\n}\n\nexport function* updateFormSaga(action) {\n  const currentForm = action.payload.form;\n  const currentFormChanges = action.payload.inputs;\n  const formContent = {\n    attributesMap: {\n      'Permitted Subtasks': currentFormChanges['Permitted Subtasks']\n        ? [currentFormChanges['Permitted Subtasks'].join(',')]\n        : [],\n      'Prohibit Subtasks': currentFormChanges['Prohibit Subtasks']\n        ? [currentFormChanges['Prohibit Subtasks']]\n        : [],\n      'Allow Reassignment': currentFormChanges['Allow Reassignment']\n        ? [currentFormChanges['Allow Reassignment']]\n        : [],\n      'Assignable Teams': currentFormChanges['Assignable Teams']\n        ? currentFormChanges['Assignable Teams']\n        : [],\n      'Notification Template Name - Create': currentFormChanges[\n        'Notification Template Name - Create'\n      ]\n        ? [currentFormChanges['Notification Template Name - Create']]\n        : [],\n      'Notification Template Name - Complete': currentFormChanges[\n        'Notification Template Name - Complete'\n      ]\n        ? [currentFormChanges['Notification Template Name - Complete']]\n        : [],\n      'Owning Team': currentFormChanges['Owning Team']\n        ? currentFormChanges['Owning Team']\n        : [],\n      'Form Configuration': [\n        JSON.stringify({\n          columns: currentFormChanges.columns.toJS(),\n        }),\n      ],\n    },\n    status: currentFormChanges.status,\n    type: currentFormChanges.type,\n    description: currentFormChanges.description,\n    categorizations: currentFormChanges.categories,\n  };\n  const { error } = yield call(updateForm, {\n    kappSlug: action.payload.kappSlug,\n    formSlug: currentForm.slug,\n    form: formContent,\n    include: FORM_INCLUDES,\n  });\n  if (!error) {\n    yield put(\n      addSuccess('The form was successfully updated.', 'Update Successful'),\n    );\n    yield put(\n      actions.fetchForm({\n        kappSlug: action.payload.kappSlug,\n        formSlug: currentForm.slug,\n      }),\n    );\n  }\n}\n\nexport function* fetchNotificationsSaga() {\n  const search = new SubmissionSearch(true)\n    .index('values[Name]')\n    .includes(['details', 'values'])\n    .build();\n\n  const { error, submissions } = yield call(searchSubmissions, {\n    search,\n    form: 'notification-data',\n    datastore: true,\n  });\n\n  if (error) {\n    yield put(actions.setFormsError(error));\n  } else {\n    yield put(actions.setNotifications(submissions));\n  }\n}\n\nexport function* createFormSaga(action) {\n  const { error, form } = yield call(fetchForm, {\n    kappSlug: action.payload.kappSlug,\n    formSlug: action.payload.inputs['Template to Clone'],\n    include: FORM_FULL_INCLUDES,\n  });\n\n  if (error) {\n    yield put(actions.setFormsError(error));\n  }\n\n  const formContent = {\n    ...form,\n    slug: action.payload.inputs.Slug,\n    name: action.payload.inputs.Name,\n    description: action.payload.inputs.Description,\n    status: action.payload.inputs.Status,\n    type: action.payload.inputs.Type,\n    attributesMap: {\n      ...form.attributesMap,\n      'Owning Team': action.payload.inputs['Owning Team'],\n    },\n  };\n\n  const createdForm = yield call(createForm, {\n    kappSlug: action.payload.kappSlug,\n    form: formContent,\n    include: FORM_FULL_INCLUDES,\n  });\n  if (createdForm.error) {\n    yield put(addError(createdForm.error.message));\n  } else {\n    if (typeof action.payload.callback === 'function') {\n      action.payload.callback(createdForm.form.slug);\n    }\n  }\n}\n\nexport function* fetchAllSubmissionsSaga(action) {\n  const {\n    pageToken,\n    accumulator,\n    formSlug,\n    kappSlug,\n    createdAt,\n    coreState,\n    q,\n  } = action.payload;\n  const searcher = new SubmissionSearch(false); // changed to false!\n\n  if (q) {\n    for (const key in q) {\n      searcher.eq(key, q[key]);\n    }\n  }\n  if (createdAt) {\n    createdAt['startDate'] && searcher.startDate(createdAt['startDate']);\n    createdAt['endDate'] && searcher.endDate(createdAt['endDate']);\n  }\n  if (coreState) {\n    searcher.coreState(coreState);\n  }\n  searcher.include('values,form,form.kapp');\n  searcher.limit(1000);\n  if (pageToken) {\n    searcher.pageToken(pageToken);\n  }\n\n  const { submissions, nextPageToken = null, error } = yield call(\n    searchSubmissions,\n    {\n      search: searcher.build(),\n      form: formSlug,\n      kapp: kappSlug,\n    },\n  );\n\n  // Update the action with the new results\n  action = {\n    ...action,\n    payload: {\n      ...action.payload,\n      accumulator: [...accumulator, ...submissions],\n      pageToken: nextPageToken,\n    },\n  };\n\n  yield put(actions.setExportCount(action.payload.accumulator.length));\n\n  if (nextPageToken) {\n    yield call(fetchAllSubmissionsSaga, action);\n  } else {\n    if (error) {\n      // What should we do?\n      console.log(error);\n    } else {\n      yield put(actions.setExportSubmissions(action.payload.accumulator));\n    }\n  }\n}\n\nexport function* deleteFormSaga({ payload }) {\n  const { form, error } = yield call(deleteForm, {\n    kappSlug: payload.kappSlug,\n    formSlug: payload.formSlug,\n  });\n  if (form) {\n    if (typeof payload.onSuccess === 'function') {\n      yield call(payload.onSuccess, form);\n    }\n    yield put(actions.deleteFormComplete(payload));\n    addToast('Form deleted successfully.');\n  } else {\n    addToastAlert({ title: 'Error Deleting Form', message: error.message });\n  }\n}\n\nexport function* watchSettingsForms() {\n  yield takeEvery(types.FETCH_FORM, fetchFormSaga);\n  yield takeEvery(types.FETCH_FORM_REQUEST, fetchFormRequestSaga);\n  yield takeEvery(types.FETCH_KAPP, fetchKappSaga);\n  yield takeEvery(types.UPDATE_QUEUE_FORM, updateFormSaga);\n  yield takeEvery(types.CREATE_FORM, createFormSaga);\n  yield takeEvery(types.CLONE_FORM_REQUEST, cloneFormSaga);\n  yield takeEvery(types.FETCH_NOTIFICATIONS, fetchNotificationsSaga);\n  yield takeEvery(types.FETCH_FORM_SUBMISSIONS, fetchFormSubmissionsSaga);\n  yield takeEvery(types.FETCH_FORM_SUBMISSION, fetchFormSubmissionSaga);\n  yield takeEvery(types.FETCH_ALL_SUBMISSIONS, fetchAllSubmissionsSaga);\n  yield takeEvery(types.DELETE_FORM_REQUEST, deleteFormSaga);\n}\n","import { all } from 'redux-saga/effects';\nimport { watchApp } from './sagas/app';\nimport { watchApp as watchQueueApp } from './sagas/queueApp';\nimport { watchQueue } from './sagas/queue';\nimport { watchForms } from './sagas/forms';\nimport { watchSettingsQueue } from './sagas/settingsQueue';\nimport { watchSettingsForms } from './sagas/settingsForms';\n\nexport default function* sagas() {\n  yield all([\n    watchApp(),\n    watchQueueApp(),\n    watchQueue(),\n    watchForms(),\n    watchSettingsQueue(),\n    watchSettingsForms(),\n  ]);\n}\n","import { createContext } from 'react';\nimport { connect as connectRedux } from 'react-redux';\nimport { applyMiddleware, combineReducers, compose, createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { createReduxHistoryContext, reachify } from 'redux-first-history';\nimport { history } from '@kineticdata/react';\nimport reducers from './reducers';\nimport sagas from './sagas';\n\nconsole.log('Configuring queue package redux store');\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({ name: 'QUEUE' })\n  : compose;\n\nconst sagaMiddlware = createSagaMiddleware();\n\nconst {\n  createReduxHistory,\n  routerMiddleware,\n  routerReducer,\n} = createReduxHistoryContext({ history });\n\nexport const store = createStore(\n  combineReducers({\n    ...reducers,\n    router: routerReducer,\n  }),\n  composeEnhancers(applyMiddleware(routerMiddleware, sagaMiddlware)),\n);\n\nexport const connectedHistory = reachify(createReduxHistory(store));\n\nsagaMiddlware.run(sagas);\n\nexport const context = createContext(null);\n\nexport const connect = (\n  mapStateToProps = null,\n  mapDispatchToProps = null,\n  mergeProps = null,\n  options = {},\n) =>\n  connectRedux(mapStateToProps, mapDispatchToProps, mergeProps, {\n    ...options,\n    context,\n  });\n","import React from 'react';\nimport { Link } from '@reach/router';\nimport { connect } from '../../redux/store';\nimport { compose, withProps } from 'recompose';\nimport {\n  PageTitle as CommonPageTitle,\n  selectCurrentKapp,\n} from '@kineticdata/bundle-common';\n\nexport const mapStateToProps = state => ({\n  kapp: selectCurrentKapp(state),\n});\n\nexport const PageTitle = compose(\n  connect(mapStateToProps),\n  withProps(({ parts = [], ...props }) => ({\n    parts: parts.concat([\n      [props.kapp && props.kapp.name, props.settings && 'Settings']\n        .filter(Boolean)\n        .join(' '),\n    ]),\n  })),\n)(props => <CommonPageTitle {...props} components={{ Link }} />);\n","import React from 'react';\nimport { compose, withHandlers, withProps, withState } from 'recompose';\nimport { Modal, ModalBody } from 'reactstrap';\nimport { CoreForm } from '@kineticdata/react';\nimport { I18n } from '@kineticdata/react';\n\nexport const ViewOriginalRequestComponent = ({\n  originId,\n  toggleOpen,\n  isOpen,\n}) =>\n  originId && (\n    <div>\n      <button\n        className=\"btn btn-inverse request-button\"\n        type=\"button\"\n        onClick={toggleOpen}\n      >\n        <I18n>View Original Request</I18n>\n      </button>\n      <Modal isOpen={isOpen} toggle={toggleOpen} size=\"lg\" backdrop=\"static\">\n        <div className=\"modal-header\">\n          <div className=\"modal-title\">\n            <button type=\"button\" className=\"btn btn-link\" onClick={toggleOpen}>\n              <I18n>Close</I18n>\n            </button>\n            <span>\n              <I18n>Original Request</I18n>\n            </span>\n          </div>\n        </div>\n        <ModalBody>\n          <div style={{ margin: '1em' }}>\n            <I18n submissionId={originId}>\n              <CoreForm submission={originId} review />\n            </I18n>\n          </div>\n        </ModalBody>\n      </Modal>\n    </div>\n  );\n\nexport const ViewOriginalRequest = compose(\n  withState('isOpen', 'setIsOpen', false),\n  withProps(props => ({\n    originId: props.queueItem.origin.id,\n  })),\n  withHandlers({\n    toggleOpen: ({ setIsOpen, isOpen }) => () => setIsOpen(!isOpen),\n  }),\n)(ViewOriginalRequestComponent);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { I18n } from '@kineticdata/react';\n\nexport const AssignmentBadge = ({ queueItem, toggle, readOnly }) => (\n  <div\n    className={classNames('assignment-badge', {\n      'read-only': readOnly,\n    })}\n    onClick={toggle}\n    role=\"button\"\n    aria-label=\"Change Assignment\"\n    tabIndex={0}\n  >\n    <span className=\"badge\" aria-hidden=\"true\">\n      {(queueItem.values['Assigned Individual Display Name'] &&\n        queueItem.values['Assigned Individual Display Name'].charAt(0)) ||\n        (queueItem.values['Assigned Team Display Name'] &&\n          queueItem.values['Assigned Team Display Name'].charAt(0))}\n    </span>\n    <div>\n      <div className=\"assignment-badge__team\">\n        <I18n>{queueItem.values['Assigned Team Display Name']}</I18n>\n      </div>\n      <div className=\"assignment-badge__individual text-truncate\">\n        {queueItem.values['Assigned Individual Display Name'] ||\n          queueItem.values['Assigned Individual']}\n      </div>\n    </div>\n    {!readOnly && (\n      <span className=\"icon\" aria-hidden=\"true\">\n        <span className=\"fa fa-chevron-right icon\" />\n      </span>\n    )}\n  </div>\n);\n","import React, { Fragment } from 'react';\nimport { ButtonGroup } from 'reactstrap';\nimport { I18n } from '@kineticdata/react';\n\nconst getStatusClass = status =>\n  `badge badge-${\n    status === 'Open'\n      ? 'info'\n      : status === 'Pending'\n        ? 'warning'\n        : status === 'Complete'\n          ? 'danger'\n          : 'subtle'\n  } badge-stylized`;\n\nexport const getStatusReason = queueItem => {\n  switch (queueItem.values.Status) {\n    case 'Pending':\n      return queueItem.values['Pending Reason'];\n    case 'Cancelled':\n      return queueItem.values['Cancellation Reason'];\n    case 'Complete':\n      return queueItem.values.Resolution;\n    default:\n      return null;\n  }\n};\n\nexport const StatusBadge = ({ queueItem, withReason }) => (\n  <>\n    <span className={getStatusClass(queueItem.values.Status)}>\n      <I18n>{queueItem.values.Status}</I18n>\n    </span>\n    {withReason &&\n      getStatusReason(queueItem) && (\n        <span className=\"status-reason ml-2\">{getStatusReason(queueItem)}</span>\n      )}\n  </>\n);\n\nexport const StatusContent = ({ queueItem, prev, next }) => (\n  <Fragment>\n    <div\n      className={\n        prev || next\n          ? 'status-content  status-content--is-active'\n          : 'status-content'\n      }\n    >\n      <StatusBadge queueItem={queueItem} />\n    </div>\n    {(prev || next) && (\n      <span className=\"submission-status--reason\">\n        {getStatusReason(queueItem)}\n      </span>\n    )}\n    {(prev || next) && (\n      <ButtonGroup className=\"queue-details-nav\">\n        <button\n          className=\"btn btn-inverse\"\n          disabled={!prev}\n          onClick={prev}\n          aria-label=\"Previous Queue Item\"\n        >\n          <span className=\"fa fa-fw fa-caret-left\" role=\"presentation\" />\n        </button>\n        <button\n          className=\"btn btn-inverse\"\n          disabled={!next}\n          onClick={next}\n          aria-label=\"Next Queue Item\"\n        >\n          <span className=\"fa fa-fw fa-caret-right\" role=\"presentation\" />\n        </button>\n      </ButtonGroup>\n    )}\n  </Fragment>\n);\n","import React from 'react';\nimport { Link } from '@reach/router';\nimport {\n  Card,\n  CardCol,\n  CardRow,\n  TimeAgo,\n  addToast,\n} from '@kineticdata/bundle-common';\nimport { StatusContent } from '../shared/StatusContent';\nimport { I18n } from '@kineticdata/react';\nimport classNames from 'classnames';\n\nconst SelectionToggle = ({ active, checked }) =>\n  active ? (\n    <span\n      className={classNames('selection-toggle fa fa-fw', {\n        checked: checked,\n      })}\n    />\n  ) : null;\n\nconst AssignmentParagraph = ({ values }) => (\n  <span className=\"submission__assignment\">\n    <I18n>\n      {values['Assigned Team'] &&\n        (values['Assigned Team Display Name'] || values['Assigned Team'])}\n    </I18n>\n    {values['Assigned Individual'] && values['Assigned Team'] && ' > '}\n    {values['Assigned Individual'] &&\n      (values['Assigned Individual Display Name'] ||\n        values['Assigned Individual'])}\n  </span>\n);\n\nconst Timestamp = ({ id, label, value, username }) =>\n  value && (\n    <li className=\"list-group-item\">\n      <I18n>{label}</I18n>\n      &nbsp;\n      <TimeAgo timestamp={value} id={`${id}-${label}`} />\n    </li>\n  );\n\nconst DueOrCloseDate = ({ queueItem, components = {} }) => {\n  const Component = components.Timestamp || Timestamp;\n  if (queueItem.closedAt) {\n    return (\n      <Component label=\"Closed\" value={queueItem.closedAt} id={queueItem.id} />\n    );\n  } else if (queueItem.values['Due Date']) {\n    return (\n      <Component\n        label=\"Due\"\n        value={queueItem.values['Due Date']}\n        id={queueItem.id}\n      />\n    );\n  } else {\n    return null;\n  }\n};\n\nexport const QueueListItemSmall = ({\n  queueItem,\n  filter,\n  path,\n  selectionMode,\n  selected,\n  selectionDisabled,\n  toggleSelection,\n}) => {\n  const { createdAt, createdBy, updatedAt, updatedBy, id, values } = queueItem;\n  const content = (\n    <>\n      <div className=\"submission__meta\">\n        <SelectionToggle\n          active={selectionMode && !selectionDisabled}\n          checked={selected}\n        />\n        <StatusContent queueItem={queueItem} />\n        <div className=\"submission__handler\">\n          <I18n\n            context={`kapps.${queueItem.form.kapp.slug}.forms.${\n              queueItem.form.slug\n            }`}\n          >\n            {queueItem.form.name}\n          </I18n>{' '}\n          ({queueItem.handle})\n        </div>\n        <AssignmentParagraph values={values} />\n        {queueItem.values['Discussion Id'] && (\n          <span className=\"btn icon icon--discussion\">\n            <span\n              className=\"fa fa-fw fa-comments\"\n              style={{ color: 'rgb(9, 84, 130)', fontSize: '16px' }}\n            />\n          </span>\n        )}\n      </div>\n\n      <div className=\"submission__title\">{queueItem.label}</div>\n      <ul className=\"submission__timestamps list-group\">\n        <DueOrCloseDate queueItem={queueItem} />\n        <Timestamp\n          label=\"Updated\"\n          value={updatedAt}\n          id={id}\n          username={updatedBy}\n        />\n        <Timestamp\n          label=\"Created\"\n          value={createdAt}\n          id={id}\n          username={createdBy}\n        />\n      </ul>\n    </>\n  );\n\n  return (\n    <li\n      className={classNames('submission list-group-item', {\n        selection: selectionMode,\n        'selection-disabled': selectionMode && selectionDisabled,\n        selected: selected,\n      })}\n    >\n      {selectionMode ? (\n        <div\n          role=\"button\"\n          className=\"submission-summary\"\n          onClick={e =>\n            selectionDisabled\n              ? addToast({\n                  severity: 'warning',\n                  message: 'You cannot select closed items.',\n                })\n              : toggleSelection(queueItem, e.shiftKey)\n          }\n        >\n          {content}\n        </div>\n      ) : (\n        <Link to={path || `item/${id}`} className=\"submission-summary\">\n          {content}\n        </Link>\n      )}\n    </li>\n  );\n};\n\nconst QueueCardTimestamp = ({ id, label, value, username }) =>\n  value && (\n    <div>\n      <dt>\n        <I18n>{label}</I18n>\n      </dt>\n      <dd>\n        <TimeAgo timestamp={value} id={`${id}-${label}`} />\n      </dd>\n    </div>\n  );\n\nexport const QueueCard = props => {\n  const { submission, path, components = {} } = props;\n  const status = submission.values['Status'];\n  const color =\n    status === 'Open'\n      ? 'info'\n      : status === 'Pending'\n        ? 'warning'\n        : status === 'Complete'\n          ? 'danger'\n          : 'subtle';\n\n  return (\n    <Card to={path} components={{ Link, ...components }}>\n      <CardCol>\n        <CardRow type=\"multi\">\n          <span className={`badge badge-pill badge-${color} badge-stylized`}>\n            <I18n>{status}</I18n>\n          </span>\n          <span>\n            <I18n>{submission.form.name}</I18n> ({submission.handle})\n          </span>\n          <AssignmentParagraph values={submission.values} />\n        </CardRow>\n        <CardRow type=\"title\">\n          <I18n>{submission.label}</I18n>\n        </CardRow>\n        <CardRow type=\"meta\">\n          <dl className=\"flat text-muted\">\n            <DueOrCloseDate\n              queueItem={submission}\n              components={{ Timestamp: QueueCardTimestamp }}\n            />\n            <QueueCardTimestamp\n              label=\"Updated\"\n              value={submission.updatedAt}\n              id={submission.id}\n              username={submission.updatedBy}\n            />\n            <QueueCardTimestamp\n              label=\"Created\"\n              value={submission.createdAt}\n              id={submission.id}\n              username={submission.createdBy}\n            />\n          </dl>\n        </CardRow>\n      </CardCol>\n    </Card>\n  );\n};\n","import React, { Component } from 'react';\n\n/* eslint-disable react/prefer-stateless-function */\nexport class AssignmentItem extends Component {\n  render() {\n    const { item, isHighlighted, onClick } = this.props;\n\n    return (\n      <div\n        className={`item ${isHighlighted ? 'item-highlighted' : ''}`}\n        onClick={onClick}\n        role=\"menuitem\"\n        tabIndex={-1}\n      >\n        {item.displayName || item.username}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Autocomplete from 'react-autocomplete';\nimport { AssignmentItem } from './AssignmentItem';\nimport { I18n } from '@kineticdata/react';\n\n/* eslint-disable class-methods-use-this */\nexport class AssignmentSelector extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      assignment: '',\n    };\n    this.handleSelect = this.handleSelect.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleMenuVisible = this.handleMenuVisible.bind(this);\n  }\n\n  componentDidMount() {\n    this.input.focus();\n  }\n\n  handleSelect(value, state) {\n    if (typeof this.props.onSelect === 'function') {\n      this.props.onSelect(value, state);\n    }\n  }\n\n  handleChange(e, value) {\n    this.setState({ assignment: value });\n  }\n\n  handleMenuVisible(isOpen) {\n    if (!isOpen) {\n      // TODO:MTR Find a better solution to this problem.\n      // This is a pretty big hack but I'm not sure how to fix this. When you press\n      // escape or click out of the selection area it closes normally. When you\n      // click to select an assignment it closes normally. When you use the enter key\n      // to select an assignment this handler gets called first and it causes the\n      // menu to be destroyed before the value can be selected and passed out.\n      setTimeout(() => {\n        if (this.props.toggle) {\n          this.props.toggle(false);\n        }\n      }, 100);\n    }\n  }\n\n  shouldItemRender(item, value) {\n    // Return true for all assignments whose team matches.\n    if (item.team && item.team.toUpperCase().includes(value.toUpperCase())) {\n      return true;\n    }\n\n    // Otherwise check to see if the user itself matches.\n    return (\n      item.displayName &&\n      item.displayName.toUpperCase().includes(value.toUpperCase())\n    );\n  }\n\n  renderItem(item, isHighlighted) {\n    return (\n      <AssignmentItem\n        key={`${item.team}::${item.username}`}\n        item={item}\n        isHighlighted={isHighlighted}\n      />\n    );\n  }\n\n  renderMenu(items) {\n    const byTeams = items.reduce((acc, item) => {\n      if (acc[item.props.item.team]) {\n        acc[item.props.item.team].push(item);\n      } else {\n        acc[item.props.item.team] = [item];\n      }\n      return acc;\n    }, {});\n\n    return (\n      <div key=\"menu\">\n        {Object.keys(byTeams).map(t => (\n          <div key={t}>\n            <span className=\"select-combobox__title\">\n              <I18n>{t}</I18n>\n            </span>\n            {byTeams[t]}\n          </div>\n        ))}\n        {items.length <= 0 && (\n          <div className=\"text-center text-info\">\n            <I18n>No valid assignments.</I18n>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"assignment-badge\">\n        <I18n>Assignment</I18n>\n        <div className=\"select-combobox select-combobox--assignment\">\n          <Autocomplete\n            ref={el => {\n              this.input = el;\n            }}\n            value={this.state.assignment}\n            wrapperStyle={{}}\n            menuStyle={{}}\n            items={this.props.assignments}\n            getItemValue={item => item.username || ''}\n            shouldItemRender={this.shouldItemRender}\n            renderItem={this.renderItem}\n            renderMenu={this.renderMenu}\n            onChange={this.handleChange}\n            onSelect={this.handleSelect}\n            onMenuVisibilityChange={this.handleMenuVisible}\n            inputProps={{\n              'aria-label': 'Select Assignment',\n              'aria-haspopup': 'true',\n            }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { compose, withHandlers, withProps } from 'recompose';\nimport { actions } from '../../redux/modules/workMenu';\nimport { actions as queueActions } from '../../redux/modules/queue';\nimport { I18n } from '@kineticdata/react';\nimport { connect } from '../../redux/store';\n\nconst getButtonMode = (queueItem, profile) => {\n  if (queueItem.coreState !== 'Draft') {\n    return 'Review';\n  } else if (queueItem.values['Assigned Individual'] === profile.username) {\n    return 'Work';\n  } else {\n    return 'Grab';\n  }\n};\n\nexport const WallyButton = ({ className, buttonMode, handleClick }) => (\n  <button type=\"button\" className={className} onClick={handleClick}>\n    <I18n>{buttonMode} It</I18n>\n  </button>\n);\n\nexport const mapStateToProps = state => ({\n  profile: state.app.profile,\n});\nexport const mapDispatchToProps = {\n  openWorkMenu: actions.openWorkMenu,\n  updateQueueItem: queueActions.updateQueueItem,\n};\n\nexport const WallyButtonContainer = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withProps(props => ({\n    buttonMode: getButtonMode(props.queueItem, props.profile),\n  })),\n  withHandlers({\n    handleClick: props => () => {\n      if (props.buttonMode === 'Grab') {\n        props.updateQueueItem({\n          id: props.queueItem.id,\n          values: {\n            'Assigned Individual': props.profile.username,\n            'Assigned Individual Display Name': props.profile.displayName,\n          },\n          onSuccess: props.onGrabbed,\n        });\n      } else {\n        props.openWorkMenu(props.queueItem, props.onWorked);\n      }\n    },\n  }),\n)(WallyButton);\n","import React, { useRef } from 'react';\nimport { compose, withState, withHandlers, withProps } from 'recompose';\nimport { Link } from '@reach/router';\nimport {\n  selectDiscussionsEnabled,\n  DiscussionsPanel,\n  EmptyMessage,\n} from '@kineticdata/bundle-common';\nimport { selectAssignments } from '../../redux/modules/queueApp';\nimport { actions } from '../../redux/modules/queue';\nimport { ViewOriginalRequest } from './ViewOriginalRequest';\nimport { AssignmentBadge } from './AssignmentBadge';\nimport { QueueCard } from '../queue_list/QueueListItem';\nimport { AssignmentSelector } from '../shared/AssignmentSelector';\nimport { WallyButtonContainer } from '../shared/WallyButton';\nimport { I18n } from '@kineticdata/react';\nimport { connect } from '../../redux/store';\nimport { List } from 'immutable';\nimport classNames from 'classnames';\n\nconst nonQueueLink = (queueItem, kappSlug) =>\n  queueItem.parent &&\n  queueItem.parent.form &&\n  queueItem.parent.form.kapp &&\n  queueItem.parent.form.kapp.slug !== kappSlug;\n\nconst queueLink = (queueItem, kappSlug) =>\n  queueItem.parent &&\n  queueItem.parent.form &&\n  queueItem.parent.form.kapp &&\n  queueItem.parent.form.kapp.slug === kappSlug;\n\nexport const QueueItemDetails = ({\n  queueItem,\n  isAssigning,\n  toggleAssigning,\n  setIsAssigning,\n  setAssignment,\n  assignments,\n  openNewItemMenu,\n  prohibitSubtasks,\n  refreshQueueItem,\n  kappSlug,\n  discussionsEnabled,\n  profile,\n  creationFields,\n  onDiscussionCreated,\n  CreationForm,\n  goToPreviousItem,\n  goToNextItem,\n  currentTab,\n  toggleCurrentTab,\n}) => {\n  const unreadDiscussionsContainerRef = useRef(null);\n\n  return (\n    <div className=\"queue-item-details\">\n      <div className=\"section--general\">\n        <pre>{queueItem.values.Details}</pre>\n        <div className=\"actions\">\n          {!isAssigning && (\n            <AssignmentBadge\n              queueItem={queueItem}\n              toggle={\n                queueItem.coreState === 'Draft' ? toggleAssigning : undefined\n              }\n              readOnly={queueItem.coreState !== 'Draft'}\n            />\n          )}\n          {isAssigning && (\n            <AssignmentSelector\n              toggle={setIsAssigning}\n              onSelect={setAssignment}\n              isAssigning={isAssigning}\n              assignments={assignments}\n            />\n          )}\n          <WallyButtonContainer\n            className=\"btn btn-primary wally-button\"\n            queueItem={queueItem}\n            onWorked={refreshQueueItem}\n            onGrabbed={refreshQueueItem}\n          />\n        </div>\n        {nonQueueLink(queueItem, kappSlug) && (\n          <ViewOriginalRequest queueItem={queueItem} />\n        )}\n        {queueLink(queueItem, kappSlug) && (\n          <Link\n            to={`../${queueItem.parent.id}`}\n            className=\"btn btn-inverse request-button\"\n          >\n            <I18n>View Parent</I18n>\n          </Link>\n        )}\n      </div>\n\n      {(!prohibitSubtasks || discussionsEnabled) && (\n        <div className=\"mb-5\">\n          <ul className=\"nav nav-tabs\" role=\"tablist\">\n            {!prohibitSubtasks && (\n              <li\n                role=\"tab\"\n                className=\"nav-item\"\n                id=\"subtasks-tab\"\n                aria-controls=\"subtasks-tabpanel\"\n                aria-selected={currentTab === 'subtasks'}\n              >\n                <button\n                  onClick={toggleCurrentTab('subtasks')}\n                  className={classNames('nav-link', {\n                    active: currentTab === 'subtasks',\n                  })}\n                >\n                  <I18n>Subtasks</I18n>\n                </button>\n              </li>\n            )}\n            {discussionsEnabled && (\n              <li\n                role=\"tab\"\n                className=\"nav-item\"\n                id=\"discussions-tab\"\n                aria-controls=\"discussions-tabpanel\"\n                aria-selected={currentTab === 'discussions'}\n              >\n                <button\n                  onClick={toggleCurrentTab('discussions')}\n                  className={classNames('nav-link', {\n                    active: currentTab === 'discussions',\n                  })}\n                >\n                  <I18n>Discussions</I18n>\n                  <span ref={unreadDiscussionsContainerRef} />\n                </button>\n              </li>\n            )}\n          </ul>\n\n          <div\n            className={classNames('cards', {\n              'd-none': currentTab !== 'subtasks',\n            })}\n            role=\"tabpanel\"\n            id=\"subtasks-tabpanel\"\n            aria-labelledby=\"subtasks-tab\"\n          >\n            {queueItem.coreState === 'Draft' && (\n              <div className=\"d-flex justify-content-end mt-n4 mb-4\">\n                <button\n                  className=\"btn btn-white btn-sticky-top\"\n                  onClick={openNewItemMenu}\n                  aria-label=\"Create New Subtask\"\n                >\n                  <span className=\"fa fa-fw fa-plus\" aria-hidden=\"true\" />\n                  <span>Create Subtask</span>\n                </button>\n              </div>\n            )}\n            {queueItem.children.length > 0 && (\n              <ul className=\"list-group submissions\">\n                {queueItem.children.map(child => (\n                  <QueueCard\n                    key={child.id}\n                    submission={child}\n                    path={`../${child.id}`}\n                  />\n                ))}\n              </ul>\n            )}\n            {queueItem.children.length < 1 && (\n              <EmptyMessage\n                title=\"No subtasks to display\"\n                message=\"Subtasks are an easy way to create smaller and/or related tasks to parent task.\"\n              />\n            )}\n          </div>\n\n          <div\n            className={classNames({\n              'd-none': currentTab !== 'discussions',\n            })}\n            role=\"tabpanel\"\n            id=\"discussions-tabpanel\"\n            aria-labelledby=\"discussions-tab\"\n          >\n            <DiscussionsPanel\n              withAside={true}\n              itemType=\"Submission\"\n              itemKey={queueItem.id}\n              overrideClassName=\"discussions-container\"\n              me={profile}\n              pageSize={3}\n              unreadDiscussionsContainerRef={unreadDiscussionsContainerRef}\n              creationFields={creationFields}\n              onCreated={onDiscussionCreated}\n              CreationForm={CreationForm}\n              renderDiscussionsListHeader={({ handleCreateDiscussionClick }) =>\n                handleCreateDiscussionClick ? (\n                  <div className=\"d-flex justify-content-end mt-n4 mb-2\">\n                    <button\n                      className=\"btn btn-white btn-sticky-top\"\n                      onClick={handleCreateDiscussionClick}\n                    >\n                      <span className=\"fa fa-fw fa-plus\" />\n                      <span>\n                        <I18n>Create Discussion</I18n>\n                      </span>\n                    </button>\n                  </div>\n                ) : null\n              }\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst getAttr = (form, attrName) => {\n  const attrConfig =\n    form.attributes &&\n    form.attributes.find(attribute => attribute.name === attrName);\n  return attrConfig && attrConfig.values[0];\n};\n\nexport const mapStateToProps = (state, props) => {\n  const queueItem = state.queue.currentItem;\n  return {\n    filter: props.filter,\n    queueItem,\n    assignments: selectAssignments(\n      state.queueApp.allTeams,\n      queueItem.form,\n      queueItem,\n    ).toJS(),\n    defaultFilters: state.queueApp.filters,\n    kappSlug: state.app.kappSlug,\n    discussionsEnabled: selectDiscussionsEnabled(state),\n    profile: state.app.profile,\n    currentPageData: state.queue.data,\n    hasPreviousPage: state.queue.hasPreviousPage,\n    hasNextPage: state.queue.hasNextPage,\n  };\n};\n\nexport const mapDispatchToProps = {\n  updateQueueItem: actions.updateQueueItem,\n  setCurrentItem: actions.setCurrentItem,\n  openNewItemMenu: actions.openNewItemMenu,\n  fetchCurrentItem: actions.fetchCurrentItem,\n  setOffset: actions.setOffset,\n  fetchList: actions.fetchListRequest,\n  fetchListCount: actions.fetchListCountRequest,\n  fetchNextPage: actions.fetchListNext,\n  fetchPreviousPage: actions.fetchListPrevious,\n};\n\nexport const QueueItemDetailsContainer = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withProps(({ queueItem }) => {\n    const prohibit = getAttr(queueItem.form, 'Prohibit Subtasks');\n    const permitted = getAttr(queueItem.form, 'Permitted Subtasks');\n    return {\n      prohibitSubtasks: ['True', 'Yes'].includes(prohibit),\n      permittedSubtasks: permitted && permitted.split(/\\s*,\\s*/),\n    };\n  }),\n  withState(\n    'currentTab',\n    'setCurrentTab',\n    props => (!props.prohibitSubtasks ? 'subtasks' : 'discussions'),\n  ),\n  withState('isAssigning', 'setIsAssigning', false),\n  withHandlers({\n    refetchCounts: ({ defaultFilters, fetchListCount }) => () => {\n      defaultFilters\n        .filter(filter => ['Mine', 'Unassigned'].includes(filter.name))\n        .forEach(fetchListCount);\n    },\n    toggleCurrentTab: props => tab => e => props.setCurrentTab(tab),\n  }),\n  withHandlers({\n    toggleAssigning: ({ setIsAssigning, isAssigning }) => () =>\n      setIsAssigning(!isAssigning),\n    setAssignment: ({\n      queueItem,\n      updateQueueItem,\n      setCurrentItem,\n      refetchCounts,\n    }) => (_v, assignment) => {\n      const teamParts = assignment.team.split('::');\n      const values = {\n        'Assigned Individual': assignment.username,\n        'Assigned Individual Display Name': assignment.displayName,\n        'Assigned Team': assignment.team,\n        'Assigned Team Display Name': teamParts[teamParts.length - 1],\n      };\n\n      updateQueueItem({\n        id: queueItem.id,\n        values,\n        onSuccess: submission => {\n          setCurrentItem(submission);\n          refetchCounts();\n        },\n      });\n    },\n    openNewItemMenu: ({\n      openNewItemMenu,\n      queueItem,\n      permittedSubtasks,\n    }) => () => {\n      openNewItemMenu({\n        permittedSubtasks,\n        parentId: queueItem.id,\n        originId: queueItem.origin ? queueItem.origin.id : queueItem.id,\n      });\n    },\n    refreshQueueItem: ({\n      filter,\n      fetchList,\n      fetchCurrentItem,\n      queueItem,\n      refetchCounts,\n    }) => () => {\n      fetchCurrentItem(queueItem.id);\n      refetchCounts();\n    },\n  }),\n  withProps(\n    ({\n      currentPageData,\n      queueItem,\n      hasPreviousPage,\n      fetchPreviousPage,\n      hasNextPage,\n      fetchNextPage,\n      navigate,\n    }) => {\n      const currentIndex =\n        queueItem && List.isList(currentPageData)\n          ? currentPageData.findIndex(item => item.id === queueItem.id)\n          : -1;\n      return currentIndex >= 0\n        ? {\n            goToPreviousItem:\n              currentIndex === 0\n                ? hasPreviousPage\n                  ? // If on first item of page but previous page exists, fetch\n                    // previous page and then navigate to last item\n                    () =>\n                      fetchPreviousPage(\n                        submissions =>\n                          submissions &&\n                          navigate(\n                            `../${submissions[submissions.length - 1].id}`,\n                          ),\n                      )\n                  : undefined\n                : // If not on first item of page, navigate to previous item\n                  () =>\n                    navigate(\n                      `../${currentPageData.getIn([currentIndex - 1, 'id'])}`,\n                    ),\n            goToNextItem:\n              currentIndex === currentPageData.size - 1\n                ? hasNextPage\n                  ? // If on last item of page but next page exists, fetch\n                    // next page and then navigate to first item\n                    () =>\n                      fetchNextPage(\n                        submissions =>\n                          submissions && navigate(`../${submissions[0].id}`),\n                      )\n                  : undefined\n                : // If not on last item of page, navigate to next item\n                  () =>\n                    navigate(\n                      `../${currentPageData.getIn([currentIndex + 1, 'id'])}`,\n                    ),\n          }\n        : {};\n    },\n  ),\n)(QueueItemDetails);\n","import React from 'react';\nimport { compose, lifecycle, withHandlers, withProps } from 'recompose';\nimport {\n  TimeAgo,\n  LoadingMessage,\n  selectDiscussionsEnabled,\n} from '@kineticdata/bundle-common';\nimport { actions } from '../../redux/modules/queue';\nimport { QueueItemDetailsContainer } from './QueueItemDetails';\nimport { getFilterByPath } from '../../redux/modules/queueApp';\nimport { I18n, createRelatedItem } from '@kineticdata/react';\nimport { connect } from '../../redux/store';\nimport { PageTitle } from '../shared/PageTitle';\nimport { StatusBadge } from '../shared/StatusContent';\nimport classNames from 'classnames';\nimport { List } from 'immutable';\n\nconst CreationForm = ({ onChange, values, errors }) => (\n  <React.Fragment>\n    <div className=\"form-group\">\n      <label htmlFor=\"title\">Title</label>\n      <input\n        id=\"title\"\n        name=\"title\"\n        type=\"text\"\n        value={values.title}\n        onChange={onChange}\n      />\n      {errors.title && (\n        <small className=\"form-text text-danger\">{errors.title}</small>\n      )}\n    </div>\n    <div className=\"form-group\">\n      <label htmlFor=\"title\">Description</label>\n      <textarea\n        id=\"description\"\n        name=\"description\"\n        value={values.description}\n        onChange={onChange}\n      />\n      {errors.description && (\n        <small className=\"form-text text-danger\">{errors.description}</small>\n      )}\n    </div>\n    <div className=\"form-group\">\n      <div className=\"form-check-inline\">\n        <input\n          id=\"relateOriginatingRequest\"\n          name=\"relateOriginatingRequest\"\n          type=\"checkbox\"\n          className=\"form-check-input\"\n          checked={values.relateOriginatingRequest}\n          onChange={onChange}\n        />\n        <label htmlFor=\"relateOriginatingRequest\" className=\"form-check-label\">\n          Relate Originating Request\n        </label>\n      </div>\n    </div>\n  </React.Fragment>\n);\n\nexport const QueueItem = ({\n  loading,\n  filter,\n  queueItem,\n  discussionsEnabled,\n  creationFields,\n  onDiscussionCreated,\n  profile,\n  isSmallLayout,\n  navigate,\n  appLocation,\n  goToPreviousItem,\n  goToNextItem,\n}) => (\n  <div className=\"page-container\">\n    <div className={classNames('page-panel')}>\n      <PageTitle\n        parts={[\n          !loading ? queueItem.label : '',\n          filter ? filter.name || 'Adhoc' : '',\n        ]}\n        breadcrumbs={[\n          { label: 'Home', to: '/' },\n          { label: 'Queue', to: appLocation },\n          filter && {\n            label: filter.name || 'Adhoc',\n            to: `../..`,\n          },\n        ].filter(Boolean)}\n        title={queueItem ? queueItem.values.Summary : ''}\n        actions={[\n          ...(goToPreviousItem || goToNextItem\n            ? [\n                {\n                  icon: 'caret-left',\n                  aria: 'Previous Queue Item',\n                  onClick: goToPreviousItem,\n                  disabled: !goToPreviousItem,\n                  className: 'btn-outline-dark',\n                },\n                {\n                  icon: 'caret-right',\n                  aria: 'Next Queue Item',\n                  onClick: goToNextItem,\n                  disabled: !goToNextItem,\n                  className: 'btn-outline-dark',\n                },\n              ]\n            : []),\n        ]}\n        meta={\n          queueItem && [\n            {\n              value: <StatusBadge queueItem={queueItem} withReason={true} />,\n            },\n            {\n              value: (\n                <span>\n                  <I18n\n                    context={`kapps.${queueItem.form.kapp.slug}.forms.${\n                      queueItem.form.slug\n                    }`}\n                  >\n                    {queueItem.form.name}\n                  </I18n>{' '}\n                  ({queueItem.handle})\n                </span>\n              ),\n            },\n            {\n              label: 'Due',\n              value: (\n                <TimeAgo\n                  timestamp={queueItem.values['Due Date']}\n                  id=\"due-date\"\n                />\n              ),\n            },\n            {\n              label: 'Created',\n              value: (\n                <TimeAgo timestamp={queueItem.createdAt} id=\"created-at\" />\n              ),\n            },\n            {\n              label: 'Updated',\n              value: (\n                <TimeAgo timestamp={queueItem.updatedAt} id=\"updated-at\" />\n              ),\n            },\n          ]\n        }\n      />\n\n      {loading ? (\n        <LoadingMessage />\n      ) : (\n        <QueueItemDetailsContainer\n          filter={filter}\n          creationFields={creationFields}\n          onDiscussionCreated={onDiscussionCreated}\n          CreationForm={CreationForm}\n          navigate={navigate}\n        />\n      )}\n    </div>\n  </div>\n);\n\nexport const mapStateToProps = (state, props) => ({\n  filter: getFilterByPath(state, props.location.pathname),\n  loading: !state.queue.currentItem || state.queue.currentItem.id !== props.id,\n  queueItem: state.queue.currentItem,\n  discussionsEnabled: selectDiscussionsEnabled(state),\n  profile: state.app.profile,\n  isSmallLayout: state.app.layoutSize === 'small',\n  appLocation: state.app.location,\n  currentPageData: state.queue.data,\n  hasPreviousPage: state.queue.hasPreviousPage,\n  hasNextPage: state.queue.hasNextPage,\n});\n\nexport const mapDispatchToProps = {\n  fetchCurrentItem: actions.fetchCurrentItem,\n  setCurrentItem: actions.setCurrentItem,\n  fetchNextPage: actions.fetchListNext,\n  fetchPreviousPage: actions.fetchListPrevious,\n};\n\nexport const QueueItemContainer = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withProps(\n    props =>\n      props.queueItem && {\n        creationFields: {\n          title: props.queueItem.label || 'Queue Discussion',\n          description: props.queueItem.values['Details'] || '',\n          owningTeams: props.queueItem.values['Assigned Team']\n            ? [{ name: props.queueItem.values['Assigned Team'] }]\n            : [],\n          owningUsers: [\n            {\n              username:\n                props.queueItem.values['Assigned Individual'] ||\n                props.profile.username,\n            },\n          ],\n          relateOriginatingRequest: true,\n        },\n      },\n  ),\n  withProps(\n    ({\n      currentPageData,\n      queueItem,\n      hasPreviousPage,\n      fetchPreviousPage,\n      hasNextPage,\n      fetchNextPage,\n      navigate,\n    }) => {\n      const currentIndex =\n        queueItem && List.isList(currentPageData)\n          ? currentPageData.findIndex(item => item.id === queueItem.id)\n          : -1;\n      return currentIndex >= 0\n        ? {\n            goToPreviousItem:\n              currentIndex === 0\n                ? hasPreviousPage\n                  ? // If on first item of page but previous page exists, fetch\n                    // previous page and then navigate to last item\n                    () =>\n                      fetchPreviousPage(\n                        submissions =>\n                          submissions &&\n                          navigate(\n                            `../${submissions[submissions.length - 1].id}`,\n                          ),\n                      )\n                  : undefined\n                : // If not on first item of page, navigate to previous item\n                  () =>\n                    navigate(\n                      `../${currentPageData.getIn([currentIndex - 1, 'id'])}`,\n                    ),\n            goToNextItem:\n              currentIndex === currentPageData.size - 1\n                ? hasNextPage\n                  ? // If on last item of page but next page exists, fetch\n                    // next page and then navigate to first item\n                    () =>\n                      fetchNextPage(\n                        submissions =>\n                          submissions && navigate(`../${submissions[0].id}`),\n                      )\n                  : undefined\n                : // If not on last item of page, navigate to next item\n                  () =>\n                    navigate(\n                      `../${currentPageData.getIn([currentIndex + 1, 'id'])}`,\n                    ),\n          }\n        : {};\n    },\n  ),\n  withHandlers({\n    onDiscussionCreated: props => (discussion, values) => {\n      if (values.relateOriginatingRequest && props.queueItem.origin) {\n        createRelatedItem(discussion.id, {\n          type: 'Submission',\n          key: props.queueItem.origin.id,\n        });\n      }\n    },\n  }),\n  lifecycle({\n    componentDidMount() {\n      this.props.fetchCurrentItem(this.props.id);\n    },\n    componentDidUpdate(prevProps) {\n      if (this.props.id !== prevProps.id) {\n        this.props.fetchCurrentItem(this.props.id);\n      }\n    },\n    componentWillUnmount() {\n      this.props.setCurrentItem(null);\n    },\n  }),\n)(QueueItem);\n","import React, { Fragment } from 'react';\nimport { compose, lifecycle, withHandlers } from 'recompose';\nimport { push } from 'redux-first-history';\nimport { isImmutable, List, Map, OrderedMap } from 'immutable';\nimport { actions as queueActions } from '../../redux/modules/queue';\nimport { actions } from '../../redux/modules/filterMenu';\nimport { actions as appActions } from '../../redux/modules/queueApp';\nimport { DateRangeSelector } from '@kineticdata/bundle-common';\nimport moment from 'moment';\nimport { I18n } from '@kineticdata/react';\nimport { connect } from '../../redux/store';\n\nconst VALID_STATUSES = List(['Open', 'Pending', 'Cancelled', 'Complete']);\n\nexport const ASSIGNMENT_LABELS = Map({\n  '': 'Any',\n  mine: 'Mine',\n  unassigned: 'Unassigned',\n});\n\nconst SORT_OPTIONS = OrderedMap([\n  ['createdAt', { label: 'Created At', id: 'sorted-by-created-at' }],\n  ['updatedAt', { label: 'Updated At', id: 'sorted-by-updated-at' }],\n  ['closedAt', { label: 'Closed At', id: 'sorted-by-closed-at' }],\n  ['values[Due Date]', { label: 'Due Date', id: 'sorted-by-due-date' }],\n]);\n\nconst SORT_DIRECTIONS = OrderedMap([\n  ['ASC', { label: 'Ascending', id: 'sorted-ascending' }],\n  ['DESC', { label: 'Descending', id: 'sorted-descending' }],\n]);\n\nconst convertDateRangeValue = dateRange =>\n  !dateRange.custom\n    ? dateRange.preset\n    : { start: dateRange.start, end: dateRange.end };\n\nconst formatTimeline = timeline => {\n  const match = timeline.match(/(.)(.*)At/);\n  return `${match[1].toUpperCase()}${match[2]}`;\n};\n\nconst formatPreset = preset => {\n  const match = preset.match(/(\\d+)days/);\n  return `${match[1]} days`;\n};\n\nconst formatDate = date => moment(date).format('l');\n\nconst summarizeDateRange = range => (\n  <I18n\n    key=\"summarizeDateRange\"\n    render={translate =>\n      range.preset !== ''\n        ? translate(\n            `${formatTimeline(range.timeline)} in last ${formatPreset(\n              range.preset,\n            )}`,\n          )\n        : range.custom\n          ? `${translate(formatTimeline(range.timeline))} ${formatDate(\n              range.start,\n            )} - ${formatDate(range.end)}`\n          : null\n    }\n  />\n);\n\nexport const validateDateRange = filter => {\n  if (filter.dateRange.custom) {\n    if (filter.dateRange.start === '' && filter.dateRange.end === '') {\n      return 'Select a start and end date';\n    } else if (filter.dateRange.start === '' && filter.dateRange.end !== '') {\n      return 'Select a start date';\n    } else if (filter.dateRange.start !== '' && filter.dateRange.end === '') {\n      return 'Select an end date';\n    } else if (filter.dateRange.end < filter.dateRange.start) {\n      return 'Select an end date after the start date';\n    }\n  }\n};\n\nconst validateFilterName = (filter, showing) => {\n  if (showing === 'save-filter' && (!filter.name || !filter.name.trim())) {\n    return 'Filter name cannot be empty.';\n  } else if (filter.name.indexOf('%') >= 0) {\n    return 'Percentage signs are not allowed in filter names.';\n  }\n};\n\nconst FilterCheckbox = props => (\n  <label htmlFor={props.id}>\n    <input type=\"checkbox\" {...props} />\n    <I18n>{props.label}</I18n>\n  </label>\n);\n\nconst FilterRadio = props => (\n  <label htmlFor={props.id}>\n    <input type=\"radio\" {...props} />\n    <I18n>{props.label}</I18n>\n  </label>\n);\n\nconst FilterMenuAbstractComponent = props => (\n  <I18n\n    render={translate =>\n      props.currentFilter &&\n      props.render({\n        teamFilters: props.teams\n          .map(team => ({\n            id: `filter-menu-team-checkbox-${team.slug}`,\n            name: team.name,\n            label: team.name,\n            checked: props.currentFilter.teams.includes(team.name),\n            onChange: props.toggleTeam,\n          }))\n          .map(props => <FilterCheckbox key={props.name} {...props} />),\n        assignmentFilters: ASSIGNMENT_LABELS.toSeq()\n          .map((label, value = '') => ({\n            id: `filter-menu-assignment-radio-${value || 'any'}`,\n            name: 'filter-menu-assignment-radio',\n            value: value,\n            label,\n            checked: props.currentFilter.assignments === value,\n            onChange: props.toggleAssignment,\n          }))\n          .valueSeq()\n          .map(props => <FilterRadio key={props.value} {...props} />),\n        createdByMeFilter: (\n          <FilterCheckbox\n            id=\"createdByMe\"\n            name=\"createdByMe\"\n            label=\"Created By Me\"\n            checked={props.currentFilter.createdByMe}\n            onChange={props.toggleCreatedByMe}\n          />\n        ),\n        statusFilters: VALID_STATUSES.map(status => ({\n          id: `filter-menu-status-checkbox-${status}`,\n          name: status,\n          label: status,\n          checked: props.currentFilter.status.includes(status),\n          onChange: props.toggleStatus,\n        })).map(props => <FilterCheckbox key={props.name} {...props} />),\n        dateRangeFilters: (\n          <Fragment>\n            <select\n              value={props.currentFilter.dateRange.timeline}\n              onChange={props.changeTimeline}\n              className=\"form-control\"\n            >\n              <option value=\"createdAt\">{translate('Created At')}</option>\n              <option value=\"updatedAt\">{translate('Updated At')}</option>\n              <option value=\"closedAt\">{translate('Closed At')}</option>\n            </select>\n            <DateRangeSelector\n              allowNone\n              value={convertDateRangeValue(props.currentFilter.dateRange)}\n              onChange={props.setDateRange}\n            />\n          </Fragment>\n        ),\n        sortedByOptions: SORT_OPTIONS.filter(\n          (data, value) =>\n            (!props.currentFilter.dateRange.preset &&\n              !props.currentFilter.dateRange.current) ||\n            value === props.currentFilter.sortBy,\n        )\n          .map(({ label, id }, value) => (\n            <Fragment key={id}>\n              <label htmlFor={id}>\n                <input\n                  type=\"radio\"\n                  id={id}\n                  value={value}\n                  name=\"sorted-by\"\n                  checked={value === props.currentFilter.sortBy}\n                  onChange={props.changeSortedBy}\n                  disabled={\n                    props.currentFilter.dateRange.preset ||\n                    props.currentFilter.dateRange.current\n                  }\n                />\n                <I18n>{label}</I18n>\n              </label>\n              {value === props.currentFilter.sortBy &&\n                props.currentFilter.sortBy.startsWith('values') && (\n                  <small className=\"text-muted\">\n                    {translate(\n                      \"Sorting by %s will exclude items for which the %s field doesn't exist.\",\n                    ).replace(/%s/g, translate(label))}\n                  </small>\n                )}\n            </Fragment>\n          ))\n          .toList()\n          .push(\n            props.currentFilter.dateRange.preset ||\n            props.currentFilter.dateRange.current ? (\n              <small key=\"info-msg\" className=\"text-muted\">\n                {translate(\n                  'Options restricted due to the selected date range.',\n                )}\n              </small>\n            ) : null,\n          ),\n        sortDirectionOptions: SORT_DIRECTIONS.map(({ label, id }, value) => (\n          <label key={id} htmlFor={id}>\n            <input\n              type=\"radio\"\n              id={id}\n              value={value}\n              name=\"sort-direction\"\n              checked={value === props.currentFilter.sortDirection}\n              onChange={props.changeDirection}\n            />\n            {translate(label)}\n          </label>\n        )).toList(),\n        saveFilterOptions: (\n          <div>\n            <label htmlFor=\"save-filter-name\">{translate('Filter Name')}</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"save-filter-name\"\n              value={props.currentFilter.name}\n              onChange={props.changeFilterName}\n              placeholder={translate('New Filter Name')}\n            />\n          </div>\n        ),\n\n        // Current Filter Summaries and Errors\n        currentTeamSummary: props.currentFilter.teams.map(translate).join(', '),\n        currentAssignmentSummary: translate(\n          ASSIGNMENT_LABELS.get(props.currentFilter.assignments),\n        ),\n        currentStatusSummary: props.currentFilter.status\n          .map(translate)\n          .join(', '),\n        currentDateRangeSummary: summarizeDateRange(\n          props.currentFilter.dateRange,\n        ),\n        currentSortedBySummary: [\n          translate(SORT_OPTIONS.getIn([props.currentFilter.sortBy, 'label'])),\n          translate(\n            SORT_DIRECTIONS.getIn([props.currentFilter.sortDirection, 'label']),\n          ),\n        ]\n          .filter(Boolean)\n          .join(' - '),\n        currentCreatedByMeChecked: props.currentFilter.createdByMe,\n        currentFilterName: props.currentFilter.name,\n\n        dateRangeError: validateDateRange(props.currentFilter),\n        filterNameError: validateFilterName(props.currentFilter, props.showing),\n        validations: [validateDateRange, validateFilterName]\n          .map(fn => fn(props.currentFilter, props.showing))\n          .filter(v => v),\n        messages: [validateDateRange, validateFilterName]\n          .map(fn => fn(props.currentFilter, props.showing))\n          .filter(v => v),\n        saveMessages: [props.checkFilterName]\n          .map(fn => fn(props.currentFilter))\n          .filter(v => v),\n\n        // Saved Filter Summaries\n        teamSummary: props.filter.teams.map(translate).join(', '),\n        assignmentSummary: translate(\n          ASSIGNMENT_LABELS.get(props.filter.assignments),\n        ),\n        statusSummary: props.filter.status.map(translate).join(', '),\n        dateRangeSummary: summarizeDateRange(props.filter.dateRange),\n        sortedBySummary: translate(\n          SORT_OPTIONS.getIn([props.filter.sortBy, 'label']) ||\n            translate('Created At'),\n        ),\n\n        // Functions and Other Props\n        toggleDirection: props.toggleDirection,\n        showing: props.showing,\n        toggleShowing: props.toggleShowing,\n        dirty: !props.currentFilter.equals(props.filter),\n        apply: props.applyFilter,\n        reset: props.resetFilter,\n        hasTeams: props.hasTeams,\n        clearTeams: props.clearTeams,\n        clearAssignments: props.clearAssignments,\n        clearStatus: props.clearStatus,\n        clearDateRange: props.clearDateRange,\n        toggleCreatedByMe: props.toggleCreatedByMe,\n        saveFilter: props.saveFilter,\n        removeFilter: props.removeFilter,\n        isOpen: props.isOpen,\n        openFilterMenu: props.openFilterMenu,\n        openNewItemMenu: props.openNewItemMenu,\n      })\n    }\n  />\n);\n\nexport const mapStateToProps = (state, props) => ({\n  myFilters: state.queueApp.myFilters,\n  currentFilter: state.filterMenu.get('currentFilter'),\n  showing: state.filterMenu.get('activeSection'),\n  isOpen: state.filterMenu.get('isOpen'),\n  teams: state.queueApp.myTeams,\n  hasTeams: state.queueApp.myTeams.size > 0,\n  forms: state.queueApp.forms,\n  location: state.app.location,\n});\n\nexport const mapDispatchToProps = {\n  open: actions.open,\n  close: actions.close,\n  show: actions.showSection,\n  resetFilter: actions.reset,\n  toggleTeam: actions.toggleTeam,\n  toggleAssignment: actions.toggleAssignment,\n  toggleCreatedByMe: actions.toggleCreatedByMe,\n  toggleStatus: actions.toggleStatus,\n  setDateRangeTimeline: actions.setDateRangeTimeline,\n  setDateRange: actions.setDateRange,\n  setSortedBy: actions.setSortedBy,\n  setDirection: actions.setDirection,\n  setFilterName: actions.setFilterName,\n  push,\n  setAdhocFilter: queueActions.setAdhocFilter,\n  addPersonalFilter: appActions.addPersonalFilter,\n  updatePersonalFilter: appActions.updatePersonalFilter,\n  removePersonalFilter: appActions.removePersonalFilter,\n  openNewItemMenu: queueActions.openNewItemMenu,\n};\n\nconst toggleTeam = props => e => props.toggleTeam(e.target.name);\nconst toggleAssignment = props => e => props.toggleAssignment(e.target.value);\nconst toggleCreatedByMe = props => e =>\n  props.toggleCreatedByMe(!props.currentFilter.createdByMe);\nconst toggleStatus = props => e => props.toggleStatus(e.target.name);\nconst changeTimeline = props => e => props.setDateRangeTimeline(e.target.value);\nconst changeSortedBy = props => e => props.setSortedBy(e.target.value);\nconst changeDirection = props => e => props.setDirection(e.target.value);\nconst changeFilterName = props => e => props.setFilterName(e.target.value);\n\nconst toggleShowing = props => (name, persistChanges = false) => () => {\n  if (!persistChanges) {\n    props.resetFilter();\n  }\n  props.show(props.showing === name ? null : name);\n};\n\nconst applyFilter = props => filter => {\n  props.close();\n  props.setAdhocFilter(isImmutable(filter) ? filter : props.currentFilter);\n  props.push(`${props.location}/adhoc`);\n};\nconst clearTeams = props => () =>\n  props.applyFilter(props.filter.delete('teams'));\nconst clearAssignments = props => () =>\n  props.applyFilter(props.filter.delete('assignments'));\nconst clearStatus = props => () =>\n  props.applyFilter(props.filter.set('status', List()));\nconst clearDateRange = props => () =>\n  props.applyFilter(props.filter.delete('dateRange'));\nconst toggleDirection = props => () =>\n  props.applyFilter(\n    props.filter.update(\n      'sortDirection',\n      dir => (dir === 'ASC' ? 'DESC' : 'ASC'),\n    ),\n  );\n\nconst checkFilterName = props => filter => {\n  if (props.myFilters.find(f => f.name === filter.name)) {\n    return 'A filter with that name already exists and will be updated';\n  }\n};\nconst saveFilter = props => filter => {\n  const currentFilter = isImmutable(filter) ? filter : props.currentFilter;\n  if (props.myFilters.find(f => f.name === currentFilter.name)) {\n    props.updatePersonalFilter(currentFilter.set('type', 'custom'));\n  } else {\n    props.addPersonalFilter(currentFilter.set('type', 'custom'));\n  }\n  props.push(\n    `${props.location}/custom/${encodeURIComponent(currentFilter.name)}`,\n  );\n};\n\nconst removeFilter = props => filter => {\n  props.removePersonalFilter(\n    isImmutable(filter) ? filter : props.currentFilter,\n  );\n  props.push(`${props.location}/list/Mine`);\n};\n\nexport const FilterMenuAbstract = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withHandlers({ applyFilter }),\n  withHandlers({\n    toggleShowing,\n    toggleTeam,\n    toggleAssignment,\n    toggleStatus,\n    toggleCreatedByMe,\n    changeTimeline,\n    changeSortedBy,\n    changeDirection,\n    changeFilterName,\n    toggleDirection,\n    clearTeams,\n    clearAssignments,\n    clearStatus,\n    clearDateRange,\n    checkFilterName,\n    saveFilter,\n    removeFilter,\n  }),\n  lifecycle({\n    componentDidMount() {\n      this.props.open(this.props.filter);\n    },\n    componentDidUpdate(prevProps) {\n      if (!this.props.filter.equals(prevProps.filter)) {\n        this.props.open(this.props.filter);\n      }\n    },\n  }),\n)(FilterMenuAbstractComponent);\n","import React, { useCallback } from 'react';\nimport { Link } from '@reach/router';\nimport { Nav, NavItem } from 'reactstrap';\nimport { I18n } from '@kineticdata/react';\nimport classNames from 'classnames';\nimport matchPath from 'rudy-match-path';\nimport { connect } from '../../redux/store';\nimport { selectMyTeamForms } from '../../redux/modules/queueApp';\nimport { actions as queueActions } from '../../redux/modules/queue';\n\nconst formatCount = count =>\n  count || count === 0 ? (count >= 1000 ? '(999+)' : `(${count})`) : '';\n\nconst QueueListSidebarComponent = ({\n  counts,\n  openNewItemMenu,\n  myFilters,\n  teamFilters,\n  hasTeams,\n  hasForms,\n  pathname,\n  appLocation,\n  onSidebarAction,\n  showCreateNew = true,\n}) => {\n  const SidebarLink = useCallback(\n    ({ to, matchParams = {}, icon, children }) => (\n      <Link\n        to={to}\n        className={classNames('nav-link', {\n          active: matchPath(pathname, {\n            path: decodeURI(to),\n            exact: true,\n          }),\n        })}\n        onClick={onSidebarAction}\n      >\n        <span className={icon} />\n        {children}\n      </Link>\n    ),\n    [pathname, onSidebarAction],\n  );\n\n  return (\n    <div className=\"queue-sidebar\">\n      {showCreateNew &&\n        hasForms && (\n          <div className=\"px-4 pt-4 pb-2\">\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary btn-block\"\n              onClick={openNewItemMenu}\n            >\n              <I18n>New Task</I18n>\n            </button>\n          </div>\n        )}\n      <Nav className=\"nav-tabs nav-tabs--vertical\">\n        <div className=\"nav-item nav-item--header\">Default Filters</div>\n        <NavItem>\n          <SidebarLink to={`${appLocation}/list/Mine`} icon=\"fa fa-user fa-fw\">\n            <I18n>Mine</I18n> {formatCount(counts.get('Mine', 0))}\n          </SidebarLink>\n        </NavItem>\n        {hasTeams && (\n          <NavItem>\n            <SidebarLink\n              to={`${appLocation}/list/Unassigned`}\n              icon=\"fa fa-inbox fa-fw\"\n            >\n              <I18n>Unassigned</I18n> {formatCount(counts.get('Unassigned', 0))}\n            </SidebarLink>\n          </NavItem>\n        )}\n        <NavItem>\n          <SidebarLink\n            to={`${appLocation}/list/Created By Me`}\n            icon=\"fa fa-user-circle-o fa-fw\"\n          >\n            <I18n>Created By Me</I18n>{' '}\n            {formatCount(counts.get('Created By Me', 0))}\n          </SidebarLink>\n        </NavItem>\n\n        <div className=\"nav-item nav-item--header\">\n          <I18n>Team Filters</I18n>\n        </div>\n        {teamFilters.map(filter => (\n          <NavItem key={filter.name}>\n            <SidebarLink\n              to={`${appLocation}/team/${encodeURIComponent(filter.name)}`}\n              icon={`fa fa-fw fa-${filter.icon}`}\n            >\n              <I18n>{`${filter.name}`}</I18n>\n            </SidebarLink>\n          </NavItem>\n        ))}\n\n        <div className=\"nav-item nav-item--header\">\n          <I18n>My Filters</I18n>\n        </div>\n        {myFilters.map(filter => (\n          <NavItem key={filter.name}>\n            <SidebarLink\n              to={`${appLocation}/custom/${encodeURIComponent(filter.name)}`}\n              icon=\"fa fa-star-o fa-fw\"\n            >\n              {filter.name}\n            </SidebarLink>\n          </NavItem>\n        ))}\n        {myFilters.size === 0 && (\n          <NavItem>\n            <span className=\"nav-link\">\n              <span className=\"fa fa-filled-star\" role=\"presentation\" />\n              <em>\n                <I18n>None Configured</I18n>\n              </em>\n            </span>\n          </NavItem>\n        )}\n      </Nav>\n    </div>\n  );\n};\n\nexport const QueueListSidebar = connect(\n  state => ({\n    appLocation: state.app.location,\n    pathname: state.router.location.pathname,\n    teamFilters: state.queueApp.teamFilters,\n    myFilters: state.queueApp.myFilters,\n    counts: state.queueApp.filters\n      .toMap()\n      .mapEntries(([_, filter]) => [\n        filter.name,\n        state.queue.counts.get(filter),\n      ]),\n    hasTeams: state.queueApp.myTeams.size > 0,\n    hasForms:\n      selectMyTeamForms(state).filter(form => form.type === 'Task').length > 0,\n  }),\n  {\n    openNewItemMenu: queueActions.openNewItemMenu,\n  },\n)(QueueListSidebarComponent);\n","import React, { Fragment, useState, useCallback } from 'react';\nimport {\n  UncontrolledTooltip,\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n} from 'reactstrap';\nimport { FilterMenuAbstract } from './FilterMenuAbstract';\nimport { QueueListSidebar } from '../queue_list/QueueListSidebar';\nimport isarray from 'isarray';\nimport { I18n } from '@kineticdata/react';\nimport classNames from 'classnames';\n\nexport const Menu = props => {\n  const toggle = props.toggleShowing(props.name);\n  const id = `${props.name}-dropdown`;\n  return (\n    <Fragment>\n      <Dropdown\n        target={id}\n        isOpen={props.showing === props.name}\n        toggle={toggle}\n        setActiveFromChild\n      >\n        {props.renderButton({ onClick: toggle, id })}\n\n        <DropdownMenu className=\"filter-menu-dropdown\">\n          {(isarray(props.renderContent)\n            ? props.renderContent\n            : [props.renderContent]\n          ).map((renderContentFn, index) => (\n            <div\n              className=\"filter-menu-dropdown__content\"\n              key={`content-${index}`}\n            >\n              {renderContentFn()}\n            </div>\n          ))}\n          {(props.validations.length > 0 ||\n            (props.messages && props.messages.length > 0)) && (\n            <div className=\"filter-menu-dropdown__validations\">\n              {props.validations.map((validation, i) => (\n                <p key={i} className=\"text-danger\">\n                  <small>\n                    <I18n>{validation}</I18n>\n                  </small>\n                </p>\n              ))}\n              {props.messages &&\n                props.messages.map((message, i) => (\n                  <p key={i} className=\"text-info\">\n                    <small>\n                      <I18n>{message}</I18n>\n                    </small>\n                  </p>\n                ))}\n            </div>\n          )}\n          <div className=\"filter-menu-dropdown__footer\">\n            <button className=\"btn btn-link\" onClick={props.reset}>\n              <I18n>{props.resetLabel || 'Reset'}</I18n>\n            </button>\n            <button\n              className=\"btn btn-primary\"\n              onClick={props.apply}\n              disabled={!props.dirty || props.validations.length > 0}\n            >\n              <I18n>{props.applyLabel || 'Apply'}</I18n>\n            </button>\n          </div>\n        </DropdownMenu>\n      </Dropdown>\n    </Fragment>\n  );\n};\n\n// Define some simple button components just to cleanup the toolbar component.\nconst MenuButton = props => (\n  <DropdownToggle tag=\"button\" className=\"btn btn-white\" {...props} />\n);\nconst ClearButton = props => {\n  const disabled = typeof props.action === 'string';\n  return (\n    <Fragment>\n      <button\n        type=\"button\"\n        id={props.id}\n        className={`btn btn-white ${disabled ? 'disabled' : ''}`}\n        onClick={!disabled ? props.action : undefined}\n        aria-label=\"Clear Filter\"\n      >\n        <i className=\"fa fa-times\" aria-hidden=\"true\" />\n      </button>\n      {disabled && (\n        <UncontrolledTooltip placement=\"right\" target={props.id}>\n          <I18n>{props.action}</I18n>\n        </UncontrolledTooltip>\n      )}\n    </Fragment>\n  );\n};\n\nconst DirectionButton = props => {\n  const icon = props.direction === 'ASC' ? 'asc' : 'desc';\n  return (\n    <Fragment>\n      <button\n        type=\"button\"\n        className={`btn btn-white`}\n        onClick={props.action}\n        aria-label={`Sort by ${icon}`}\n      >\n        <i className={`fa fa-sort-amount-${icon}`} aria-hidden=\"true\" />\n      </button>\n    </Fragment>\n  );\n};\n\nexport const FilterMenuToolbar = ({ filter, refresh, showFilterMenu }) => {\n  const [filtersDropdownOpen, setFiltersDropdownOpen] = useState(false);\n  const toggleFiltersDropdown = useCallback(\n    () => setFiltersDropdownOpen(open => !open),\n    [setFiltersDropdownOpen],\n  );\n\n  return (\n    <FilterMenuAbstract\n      filter={filter}\n      render={({\n        dirty,\n        validations,\n        apply,\n        reset,\n        showing,\n        toggleShowing,\n        ...props\n      }) => {\n        const popoverProps = {\n          dirty,\n          apply,\n          reset,\n          showing,\n          toggleShowing,\n          validations,\n        };\n        return (\n          <div className=\"queue-controls\">\n            <div className=\"queue-controls__heading\">\n              {showFilterMenu ? (\n                <Dropdown\n                  className=\"filters-dropdown\"\n                  isOpen={filtersDropdownOpen}\n                  toggle={toggleFiltersDropdown}\n                >\n                  <DropdownToggle\n                    caret\n                    tag=\"button\"\n                    className={classNames({\n                      edited: filter.type === 'adhoc' && filter.name,\n                    })}\n                  >\n                    <I18n>\n                      <span className=\"group\">\n                        <I18n>\n                          {filter.type === 'default'\n                            ? 'Default Filter'\n                            : filter.type === 'team'\n                              ? 'Team Filter'\n                              : filter.type === 'custom'\n                                ? 'My Filter'\n                                : 'Adhoc Filter'}\n                        </I18n>\n                        {filter.name ? ': ' : ''}\n                      </span>\n                      <span className=\"name\">{filter.name}</span>{' '}\n                    </I18n>\n                  </DropdownToggle>\n                  <DropdownMenu className=\"\">\n                    <QueueListSidebar\n                      showCreateNew={false}\n                      onSidebarAction={toggleFiltersDropdown}\n                    />\n                  </DropdownMenu>\n                </Dropdown>\n              ) : (\n                <h2\n                  className={classNames({\n                    edited: filter.type === 'adhoc' && filter.name,\n                  })}\n                >\n                  <I18n>{filter.name || 'Adhoc'}</I18n>\n                </h2>\n              )}\n              <div className=\"buttons ml-3\">\n                {filter.type === 'adhoc' && (\n                  <Menu\n                    name=\"save-filter\"\n                    {...popoverProps}\n                    dirty={true}\n                    apply={props.saveFilter}\n                    applyLabel=\"Save\"\n                    reset={toggleShowing('save-filter')}\n                    resetLabel=\"Cancel\"\n                    messages={props.saveMessages}\n                    renderButton={btnProps => (\n                      <MenuButton\n                        {...btnProps}\n                        className=\"btn btn-link text-primary\"\n                      >\n                        <span className=\"icon\">\n                          <span className=\"fa fa-fw fa-bookmark-o text-primary\" />\n                        </span>\n                        <span>\n                          <I18n>Save Filter</I18n>\n                        </span>\n                      </MenuButton>\n                    )}\n                    renderContent={() => props.saveFilterOptions}\n                  />\n                )}\n                {filter.type === 'custom' && (\n                  <Menu\n                    name=\"delete-filter\"\n                    {...popoverProps}\n                    dirty={true}\n                    apply={props.removeFilter}\n                    applyLabel=\"Delete\"\n                    reset={toggleShowing('delete-filter')}\n                    resetLabel=\"Cancel\"\n                    renderButton={btnProps => (\n                      <MenuButton\n                        {...btnProps}\n                        className=\"btn btn-link text-danger\"\n                      >\n                        <span className=\"icon\">\n                          <span className=\"fa fa-fw fa-trash-o text-danger\" />\n                        </span>\n                        <span>\n                          <I18n>Delete Filter</I18n>\n                        </span>\n                      </MenuButton>\n                    )}\n                    renderContent={() => (\n                      <div>\n                        <label>\n                          <I18n>Are you sure?</I18n>\n                        </label>\n                      </div>\n                    )}\n                  />\n                )}\n              </div>\n              <div className=\"buttons\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-icon\"\n                  onClick={refresh}\n                  aria-label=\"Refresh\"\n                >\n                  <span className=\"icon\">\n                    <span className=\"fa fa-fw fa-refresh\" />\n                  </span>\n                  <span>\n                    <I18n>Refresh</I18n>\n                  </span>\n                </button>\n                {showFilterMenu && (\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary\"\n                    onClick={props.openNewItemMenu}\n                    aria-label=\"New Task\"\n                  >\n                    <span className=\"fa fa-fw fa-plus\" />\n                    <span>\n                      <I18n>New Task</I18n>\n                    </span>\n                  </button>\n                )}\n              </div>\n            </div>\n            <div className=\"queue-controls__filter\">\n              <div className=\"queue-filter-list\">\n                {props.hasTeams && (\n                  <Menu\n                    name=\"team\"\n                    {...popoverProps}\n                    renderButton={btnProps =>\n                      filter.teams.isEmpty() ? (\n                        <MenuButton {...btnProps} caret>\n                          <I18n>Any Team</I18n>\n                        </MenuButton>\n                      ) : (\n                        <div className=\"btn-group\">\n                          <MenuButton {...btnProps} caret>\n                            <I18n>Team</I18n>: {props.teamSummary}\n                          </MenuButton>\n                          <ClearButton action={props.clearTeams} />\n                        </div>\n                      )\n                    }\n                    renderContent={() => props.teamFilters}\n                  />\n                )}\n                <I18n\n                  render={translate => (\n                    <Menu\n                      name=\"assignment\"\n                      {...popoverProps}\n                      renderButton={btnProps =>\n                        !filter.assignments ? (\n                          <MenuButton {...btnProps} caret>\n                            {translate('Any Assignment')}\n                            {filter.createdByMe &&\n                              ` | ${translate('Created By Me')}`}\n                          </MenuButton>\n                        ) : (\n                          <div className=\"btn-group\">\n                            <MenuButton {...btnProps} caret>\n                              {translate('Assignment')}:{' '}\n                              {props.assignmentSummary}\n                              {filter.createdByMe &&\n                                ` | ${translate('Created By Me')}`}\n                            </MenuButton>\n                          </div>\n                        )\n                      }\n                      renderContent={[\n                        () => props.assignmentFilters,\n                        () => props.createdByMeFilter,\n                      ]}\n                    />\n                  )}\n                />\n                <Menu\n                  name=\"status\"\n                  {...popoverProps}\n                  renderButton={btnProps =>\n                    filter.status.isEmpty() ? (\n                      <MenuButton {...btnProps} caret>\n                        <I18n>Any Status</I18n>\n                      </MenuButton>\n                    ) : (\n                      <div className=\"btn-group\">\n                        <MenuButton {...btnProps} caret>\n                          <I18n>Status</I18n>: {props.statusSummary}\n                        </MenuButton>\n                        <ClearButton action={props.clearStatus} />\n                      </div>\n                    )\n                  }\n                  renderContent={() => props.statusFilters}\n                />\n                <Menu\n                  name=\"date-range\"\n                  {...popoverProps}\n                  renderButton={btnProps =>\n                    !filter.dateRange.custom &&\n                    filter.dateRange.preset === '' ? (\n                      <MenuButton {...btnProps} caret>\n                        <I18n>Any Date Range</I18n>\n                      </MenuButton>\n                    ) : (\n                      <div className=\"btn-group\">\n                        <MenuButton {...btnProps} caret>\n                          {props.dateRangeSummary}\n                        </MenuButton>\n                        <ClearButton\n                          id=\"clearDateRange\"\n                          action={props.clearDateRange}\n                        />\n                      </div>\n                    )\n                  }\n                  renderContent={() => props.dateRangeFilters}\n                />\n                <Menu\n                  name=\"order-by\"\n                  {...popoverProps}\n                  renderButton={btnProps => (\n                    <div className=\"btn-group\">\n                      <MenuButton {...btnProps} caret>\n                        <I18n>Sort by</I18n> {props.sortedBySummary}\n                      </MenuButton>\n                      <DirectionButton\n                        action={props.toggleDirection}\n                        direction={filter.sortDirection}\n                      />\n                    </div>\n                  )}\n                  renderContent={[\n                    () => props.sortedByOptions,\n                    () => props.sortDirectionOptions,\n                  ]}\n                />\n              </div>\n            </div>\n          </div>\n        );\n      }}\n    />\n  );\n};\n","import React, { useState, useCallback } from 'react';\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  Modal,\n  ModalBody,\n  ModalFooter,\n} from 'reactstrap';\nimport { FilterMenuAbstract } from './FilterMenuAbstract';\nimport { QueueListSidebar } from '../queue_list/QueueListSidebar';\nimport { I18n } from '@kineticdata/react';\nimport { openConfirm } from '@kineticdata/bundle-common';\nimport classNames from 'classnames';\n\nexport const FilterMenuModal = ({ filter, refresh }) => {\n  const [visible, setVisible] = useState(false);\n  const [filtersDropdownOpen, setFiltersDropdownOpen] = useState(false);\n  const toggleFiltersDropdown = useCallback(\n    () => setFiltersDropdownOpen(open => !open),\n    [setFiltersDropdownOpen],\n  );\n\n  return (\n    <I18n\n      render={translate => (\n        <FilterMenuAbstract\n          filter={filter}\n          render={({ ...props }) => {\n            const toggleFilterModal = open => () => {\n              setVisible(!!open);\n              if (typeof open === 'string') {\n                props.toggleShowing(open, true)();\n              } else if (!!open) {\n                props.toggleShowing(null, true)();\n              } else {\n                props.toggleShowing(null, false)();\n              }\n            };\n\n            return (\n              <div className=\"queue-controls\">\n                <div className=\"queue-controls__heading\">\n                  <Dropdown\n                    className=\"filters-dropdown\"\n                    isOpen={filtersDropdownOpen}\n                    toggle={toggleFiltersDropdown}\n                  >\n                    <DropdownToggle\n                      caret\n                      tag=\"button\"\n                      className={classNames({\n                        edited: filter.type === 'adhoc' && filter.name,\n                      })}\n                    >\n                      <I18n>\n                        <span className=\"group\">\n                          <I18n>\n                            {filter.type === 'default'\n                              ? 'Default Filter'\n                              : filter.type === 'team'\n                                ? 'Team Filter'\n                                : filter.type === 'custom'\n                                  ? 'My Filter'\n                                  : 'Adhoc Filter'}\n                          </I18n>\n                          {filter.name ? ': ' : ''}\n                        </span>\n                        <span className=\"name\">{filter.name}</span>{' '}\n                      </I18n>\n                    </DropdownToggle>\n                    <DropdownMenu className=\"\">\n                      <QueueListSidebar\n                        showCreateNew={false}\n                        onSidebarAction={toggleFiltersDropdown}\n                      />\n                    </DropdownMenu>\n                  </Dropdown>\n                  <div className=\"buttons ml-2\">\n                    {filter.type === 'adhoc' && (\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-icon\"\n                        onClick={toggleFilterModal('save')}\n                        aria-label=\"Save Filter\"\n                      >\n                        <span className=\"icon\" aria-hidden=\"true\">\n                          <span className=\"fa fa-fw fa-bookmark-o text-primary\" />\n                        </span>\n                      </button>\n                    )}\n                    {filter.type === 'custom' && (\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-icon\"\n                        onClick={() => {\n                          openConfirm({\n                            title: 'Delete Filter',\n                            body: (\n                              <span>\n                                Are you sure you want to delete the{' '}\n                                <strong>{filter.name}</strong> filter?\n                              </span>\n                            ),\n                            actionName: 'Delete',\n                            ok: props.removeFilter,\n                          });\n                        }}\n                        aria-label=\"Delete Filter\"\n                      >\n                        <span className=\"icon\" aria-hidden=\"true\">\n                          <span className=\"fa fa-fw fa-trash-o text-danger\" />\n                        </span>\n                      </button>\n                    )}\n                  </div>\n                  <div className=\"buttons\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-icon\"\n                      onClick={toggleFilterModal(true)}\n                      aria-label=\"Filter Menu\"\n                    >\n                      <span\n                        className={`fa fa-fw fa-sliders`}\n                        aria-hidden=\"true\"\n                      />\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-icon\"\n                      onClick={refresh}\n                      aria-label=\"Refresh\"\n                    >\n                      <span className=\"icon\" aria-hidden=\"true\">\n                        <span className=\"fa fa-fw fa-refresh\" />\n                      </span>\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary\"\n                      onClick={props.openNewItemMenu}\n                      aria-label=\"New Task\"\n                    >\n                      <span className=\"fa fa-fw fa-plus\" />\n                    </button>\n                  </div>\n                </div>\n                <div className=\"queue-controls__summary\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-text\"\n                    onClick={toggleFilterModal(true)}\n                  >\n                    {[\n                      filter.teams.isEmpty()\n                        ? translate('Any Team')\n                        : `${translate('Team')}: ${props.teamSummary}`,\n                      ' \\u00B7 ',\n                      !filter.assignments\n                        ? translate('Any Assignment')\n                        : `${translate('Assignment')}: ${\n                            props.assignmentSummary\n                          }`,\n                      ' \\u00B7 ',\n                      filter.createdByMe && [\n                        translate('Created By Me'),\n                        ' \\u00B7 ',\n                      ],\n                      filter.status.isEmpty()\n                        ? translate('Any Status')\n                        : `${translate('Status')}: ${props.statusSummary}`,\n                      ' \\u00B7 ',\n                      !filter.dateRange.custom && filter.dateRange.preset === ''\n                        ? translate('Any Date Range')\n                        : props.dateRangeSummary,\n                      ' \\u00B7 ',\n                      `${translate('Sort by')} ${props.sortedBySummary}`,\n                    ].filter(Boolean)}\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={`btn btn-icon`}\n                    onClick={props.toggleDirection}\n                    aria-label={`Sort Direction ${\n                      filter.sortDirection === 'ASC'\n                        ? 'Ascending'\n                        : 'Descending'\n                    }`}\n                  >\n                    <span\n                      className={`fa fa-sort-amount-${\n                        filter.sortDirection === 'ASC' ? 'asc' : 'desc'\n                      }`}\n                      aria-hidden=\"true\"\n                    />\n                  </button>\n                </div>\n\n                <Modal\n                  isOpen={visible}\n                  toggle={toggleFilterModal(false)}\n                  className=\"queue-controls__modal\"\n                >\n                  <div className=\"modal-header\">\n                    <div className=\"modal-title\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-link\"\n                        onClick={toggleFilterModal(false)}\n                      >\n                        <I18n>Close</I18n>\n                      </button>\n                      <span>\n                        <I18n>Filters</I18n>\n                      </span>\n                      {props.showing !== 'save' && (\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-link\"\n                          disabled={!props.dirty}\n                          onClick={props.reset}\n                        >\n                          <I18n>Reset</I18n>\n                        </button>\n                      )}\n                    </div>\n                    {!!props.showing && (\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-link btn-back\"\n                        onClick={props.toggleShowing(\n                          null,\n                          props.showing !== 'save',\n                        )}\n                      >\n                        <span className=\"icon\">\n                          <span className=\"fa fa-fw fa-angle-left\" />\n                        </span>\n                        <I18n>Filters</I18n>\n                      </button>\n                    )}\n                  </div>\n\n                  {!props.showing && (\n                    <ModalBody>\n                      <ul className=\"list-group button-list\">\n                        {props.hasTeams && (\n                          <FilterListItem\n                            label=\"Teams\"\n                            summary={props.currentTeamSummary}\n                            onClick={props.toggleShowing('teams', true)}\n                          />\n                        )}\n                        <FilterListItem\n                          label=\"Assignment\"\n                          summary={props.currentAssignmentSummary}\n                          onClick={props.toggleShowing('assignment', true)}\n                        />\n                        <FilterListCheckbox\n                          label=\"Created By Me\"\n                          checked={props.currentCreatedByMeChecked}\n                          onClick={props.toggleCreatedByMe}\n                        />\n                        <FilterListItem\n                          label=\"Status\"\n                          summary={props.currentStatusSummary}\n                          onClick={props.toggleShowing('status', true)}\n                        />\n                        <FilterListItem\n                          label=\"Date Range\"\n                          summary={props.currentDateRangeSummary}\n                          error={props.dateRangeError}\n                          onClick={props.toggleShowing('date', true)}\n                        />\n                        <FilterListItem\n                          label=\"Sort By\"\n                          summary={props.currentSortedBySummary}\n                          onClick={props.toggleShowing('sort', true)}\n                        />\n                      </ul>\n                    </ModalBody>\n                  )}\n\n                  {props.showing === 'teams' && (\n                    <ModalBody className=\"filter-section\">\n                      <FilterItemSection\n                        label=\"Teams\"\n                        content={props.teamFilters}\n                      />\n                    </ModalBody>\n                  )}\n                  {props.showing === 'assignment' && (\n                    <ModalBody className=\"filter-section\">\n                      <FilterItemSection\n                        label=\"Assignment\"\n                        content={props.assignmentFilters}\n                      />\n                    </ModalBody>\n                  )}\n                  {props.showing === 'status' && (\n                    <ModalBody className=\"filter-section\">\n                      <FilterItemSection\n                        label=\"Status\"\n                        content={props.statusFilters}\n                      />\n                    </ModalBody>\n                  )}\n                  {props.showing === 'date' && (\n                    <ModalBody className=\"filter-section\">\n                      <FilterItemSection\n                        label=\"Date Range\"\n                        content={props.dateRangeFilters}\n                        error={props.dateRangeError}\n                      />\n                    </ModalBody>\n                  )}\n                  {props.showing === 'sort' && (\n                    <ModalBody className=\"filter-section\">\n                      <FilterItemSection\n                        label=\"Sort By\"\n                        content={props.sortedByOptions}\n                      />\n                      <FilterItemSection\n                        label=\"Direction\"\n                        content={props.sortDirectionOptions}\n                      />\n                    </ModalBody>\n                  )}\n\n                  {props.showing === 'save' && (\n                    <ModalBody className=\"filter-section\">\n                      <FilterItemSection\n                        label=\"Save Filter\"\n                        content={props.saveFilterOptions}\n                        error={props.filterNameError}\n                        messages={props.saveMessages}\n                      />\n                    </ModalBody>\n                  )}\n\n                  <ModalFooter>\n                    {props.showing === 'save' ? (\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-primary\"\n                        disabled={\n                          !props.currentFilterName || props.filterNameError\n                        }\n                        onClick={() => {\n                          props.saveFilter();\n                          setVisible(false);\n                        }}\n                      >\n                        <I18n>Save Filter</I18n>\n                      </button>\n                    ) : (\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-primary\"\n                        disabled={!props.dirty || props.dateRangeError}\n                        onClick={() => {\n                          props.apply();\n                          setVisible(false);\n                        }}\n                      >\n                        <I18n>Apply Filter</I18n>\n                      </button>\n                    )}\n                  </ModalFooter>\n                </Modal>\n              </div>\n            );\n          }}\n        />\n      )}\n    />\n  );\n};\n\nconst FilterListItem = ({ label, summary, onClick, error }) => (\n  <li className=\"list-group-item\">\n    <button type=\"button\" className=\"btn btn-link\" onClick={onClick}>\n      <span className=\"button-title\">\n        <I18n>{label}</I18n>\n      </span>\n      {error ? (\n        <span className=\"summary text-danger\">\n          <I18n>{error}</I18n>\n        </span>\n      ) : (\n        <span className=\"summary\">{summary}</span>\n      )}\n      <span className=\"icon\">\n        <span className=\"fa fa-angle-right\" />\n      </span>\n    </button>\n  </li>\n);\n\nconst FilterListCheckbox = ({ label, checked, onClick }) => (\n  <li className=\"list-group-item\">\n    <button type=\"button\" className=\"btn btn-link\" onClick={onClick}>\n      <span className=\"button-title\">\n        <I18n>{label}</I18n>\n      </span>\n      <span>\n        <input\n          type=\"checkbox\"\n          checked={checked}\n          disabled\n          style={{ pointerEvents: 'none' }}\n        />\n      </span>\n    </button>\n  </li>\n);\n\nconst FilterItemSection = ({ label, content, error, messages }) => (\n  <>\n    <h5>\n      <I18n>{label}</I18n>\n      {error && (\n        <small className=\"text-danger d-block\">\n          <I18n>{error}</I18n>\n        </small>\n      )}\n      {messages &&\n        messages.length > 0 && (\n          <I18n\n            render={translate =>\n              messages.map((msg, i) => (\n                <small key={`msg-${i}`} className=\"text-info d-block\">\n                  {translate(msg)}\n                </small>\n              ))\n            }\n          />\n        )}\n    </h5>\n    {content}\n  </>\n);\n","import React from 'react';\nimport { compose, withHandlers } from 'recompose';\nimport { connect } from '../../redux/store';\nimport { actions } from '../../redux/modules/queue';\nimport { I18n } from '@kineticdata/react';\nimport classNames from 'classnames';\n\nconst PAGE_SIZES = [10, 25, 50, 100];\n\nexport const QueueListPaginationComponent = ({\n  paging,\n  pageIndexStart,\n  pageIndexEnd,\n  hasPreviousPage,\n  hasNextPage,\n  handlePrevious,\n  handleNext,\n  count,\n  limit,\n  updateListLimit,\n  selectionMode,\n  changeSelectionMode,\n  isMobile,\n}) => {\n  return (\n    <div className=\"queue-controls\">\n      <div className=\"queue-controls__pagination\">\n        <div className=\"selection-mode\">\n          <button\n            type=\"button\"\n            className=\"btn btn-icon\"\n            onClick={changeSelectionMode}\n            aria-label=\"Next Page\"\n          >\n            <span className=\"icon\" aria-hidden=\"true\">\n              <span\n                className={classNames('fa fa-fw', {\n                  'fa-toggle-off': !selectionMode,\n                  'fa-toggle-on': selectionMode,\n                })}\n              />\n            </span>\n            {!isMobile && <span>Selection Mode</span>}\n          </button>\n        </div>\n        <div className=\"paging\">\n          <button\n            type=\"button\"\n            className=\"btn btn-icon\"\n            disabled={!hasPreviousPage}\n            onClick={handlePrevious}\n            aria-label=\"Previous Page\"\n          >\n            <span className=\"icon\" aria-hidden=\"true\">\n              <span className=\"fa fa-caret-left\" />\n            </span>\n          </button>\n          {paging ? (\n            <span className=\"fa fa-spinner fa-spin\" />\n          ) : (\n            <small className=\"text-center\">\n              <strong>\n                {pageIndexStart}-{pageIndexEnd}\n              </strong>\n              {(count || count === 0) && (\n                <>\n                  {' '}\n                  <I18n>of</I18n> <strong>{count}</strong>\n                </>\n              )}\n            </small>\n          )}\n          <button\n            type=\"button\"\n            className=\"btn btn-icon\"\n            disabled={!hasNextPage}\n            onClick={handleNext}\n            aria-label=\"Next Page\"\n          >\n            <span className=\"icon\" aria-hidden=\"true\">\n              <span className=\"fa fa-caret-right\" />\n            </span>\n          </button>\n        </div>\n        <div className=\"page-size\">\n          <I18n\n            render={translate => (\n              <select\n                name=\"per-page-select\"\n                aria-label=\"Page Size\"\n                value={limit}\n                onChange={e => updateListLimit(parseInt(e.target.value))}\n              >\n                {PAGE_SIZES.map(n => (\n                  <option key={n} value={n}>\n                    {`${n} ${translate('per page')}`}\n                  </option>\n                ))}\n              </select>\n            )}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n    paging: state.queue.paging,\n    pageIndexStart: state.queue.pageIndexStart,\n    pageIndexEnd: state.queue.pageIndexEnd,\n    hasPreviousPage: state.queue.hasPreviousPage,\n    hasNextPage: state.queue.hasNextPage,\n    limit: state.queue.limit,\n    count: state.queue.counts.get(props.filter),\n    selectionMode: state.queue.selectedList !== null,\n    isMobile: state.app.layoutSize === 'small',\n  };\n};\n\nconst mapDispatchToProps = {\n  previousPage: actions.fetchListPrevious,\n  nextPage: actions.fetchListNext,\n  updateListLimit: actions.updateListLimit,\n  toggleSelectionMode: actions.toggleSelectionMode,\n};\n\nexport const QueueListPagination = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withHandlers({\n    handlePrevious: props => () => props.previousPage(),\n    handleNext: props => () => props.nextPage(),\n    changeSelectionMode: props => () => props.toggleSelectionMode(),\n  }),\n)(QueueListPaginationComponent);\n","import React from 'react';\nimport { compose, withHandlers, withState } from 'recompose';\nimport { connect } from '../../redux/store';\nimport { AssignmentSelector } from '../shared/AssignmentSelector';\nimport { Modal, ModalBody, ModalFooter } from 'reactstrap';\nimport { I18n } from '@kineticdata/react';\n\nconst BulkAssignModalComponent = props => (\n  <Modal isOpen={true} toggle={props.toggle} size=\"lg\">\n    <div className=\"modal-header\">\n      <div className=\"modal-title\">\n        <button type=\"button\" className=\"btn btn-link\" onClick={props.toggle}>\n          <I18n>Close</I18n>\n        </button>\n        <span>\n          <I18n\n            render={translate =>\n              translate(\n                `Assign %d Selected Item${props.items.size > 1 ? 's' : ''}`,\n              ).replace('%d', props.items.size)\n            }\n          />\n        </span>\n      </div>\n    </div>\n    <ModalBody>\n      {props.message && <div className=\"p-3\">{props.message}</div>}\n      {props.isAssigning ? (\n        <AssignmentSelector\n          toggle={props.toggleAssigning}\n          onSelect={props.setAssignment}\n          assignments={props.assignments}\n        />\n      ) : (\n        <div\n          className=\"assignment-badge\"\n          onClick={props.toggleAssigning}\n          role=\"button\"\n          aria-label=\"Change Assignment\"\n          tabIndex={0}\n        >\n          <span className=\"badge\" aria-hidden=\"true\">\n            {(props.assignment['Assigned Individual Display Name'] &&\n              props.assignment['Assigned Individual Display Name'].charAt(0)) ||\n              (props.assignment['Assigned Team Display Name'] &&\n                props.assignment['Assigned Team Display Name'].charAt(0))}\n          </span>\n          <div>\n            <div className=\"assignment-badge__team\">\n              <I18n>{props.assignment['Assigned Team Display Name']}</I18n>\n            </div>\n            <div className=\"assignment-badge__individual text-truncate\">\n              {props.assignment['Assigned Individual Display Name'] ||\n                props.assignment['Assigned Individual']}\n            </div>\n          </div>\n          <span className=\"icon\" aria-hidden=\"true\">\n            <span className=\"fa fa-pencil\" />\n          </span>\n        </div>\n      )}\n    </ModalBody>\n    <ModalFooter>\n      <button\n        type=\"button\"\n        className=\"btn btn-primary\"\n        onClick={props.submitAssignment}\n        disabled={!props.assignment}\n      >\n        <I18n>Assign</I18n>\n      </button>\n    </ModalFooter>\n  </Modal>\n);\n\nconst mapStateToProps = (state, props) => {\n  return {\n    items: state.queue.selectedList,\n    forms: state.queueApp.forms,\n  };\n};\n\nexport const BulkAssignModal = compose(\n  connect(mapStateToProps),\n  withState('assignment', 'setAssignment', null),\n  withState('isAssigning', 'setIsAssigning', true),\n  withHandlers({\n    toggleAssigning: props => () =>\n      props.setIsAssigning(props.assignment ? !props.isAssigning : true),\n    setAssignment: props => (_v, assignment) => {\n      const teamParts = assignment.team.split('::');\n      let data = {\n        'Assigned Team': assignment.team,\n        'Assigned Team Display Name': teamParts[teamParts.length - 1],\n        'Assigned Individual': '',\n        'Assigned Individual Display Name': '',\n      };\n      if (assignment.username) {\n        data['Assigned Individual'] = assignment.username;\n        data['Assigned Individual Display Name'] = assignment.displayName;\n      }\n      props.setAssignment(data);\n    },\n    submitAssignment: props => () => props.handleSubmit(props.assignment),\n  }),\n)(BulkAssignModalComponent);\n","import React from 'react';\nimport { compose, withHandlers, withProps, withState } from 'recompose';\nimport { connect } from '../../redux/store';\nimport { Modal, ModalBody, ModalFooter } from 'reactstrap';\nimport { CoreForm, I18n } from '@kineticdata/react';\nimport { Map } from 'immutable';\n\nconst BulkWorkModalComponent = props => (\n  <Modal isOpen={true} toggle={props.toggle} size=\"lg\">\n    <div className=\"modal-header\">\n      <div className=\"modal-title\">\n        <button type=\"button\" className=\"btn btn-link\" onClick={props.toggle}>\n          <I18n>Close</I18n>\n        </button>\n        <span>\n          <I18n\n            render={translate =>\n              translate(\n                `Work %d Selected Item${props.items.size > 1 ? 's' : ''}`,\n              ).replace('%d', props.items.size)\n            }\n          />\n        </span>\n      </div>\n    </div>\n    <ModalBody>\n      <I18n context={`kapps.${props.kapp.slug}.forms.${props.formSlug}`}>\n        <CoreForm\n          kapp={props.kapp.slug}\n          form={props.formSlug}\n          onLoaded={props.handleLoaded}\n          values={{ 'Bulk Action': 'Yes' }}\n        />\n      </I18n>\n    </ModalBody>\n    <ModalFooter>\n      <button\n        type=\"button\"\n        className=\"btn btn-primary\"\n        onClick={props.submitWork}\n      >\n        <I18n\n          render={translate =>\n            translate(\n              `Update %d Item${props.items.size > 1 ? 's' : ''}`,\n            ).replace('%d', props.items.size)\n          }\n        />\n      </button>\n    </ModalFooter>\n  </Modal>\n);\n\nconst mapStateToProps = (state, props) => {\n  return {\n    kapp: state.app.kapp,\n    items: state.queue.selectedList,\n    forms: state.queueApp.forms,\n  };\n};\n\nexport const BulkWorkModal = compose(\n  connect(mapStateToProps),\n  withProps(props => {\n    return {\n      formSlug: props.items.size > 0 ? props.items.first().form.slug : null,\n    };\n  }),\n  withState('kineticForm', 'setKineticForm', null),\n  withHandlers({\n    handleLoaded: props => form => props.setKineticForm(form),\n    submitWork: props => () => {\n      if (Object.keys(props.kineticForm.validate()).length > 0) {\n        props.kineticForm.submitPage();\n      } else {\n        props.handleSubmit(\n          Map(props.kineticForm.serialize())\n            .filter((value, name) => value && value.length > 0)\n            .toJS(),\n        );\n      }\n    },\n  }),\n)(BulkWorkModalComponent);\n","import React from 'react';\nimport { compose, withHandlers, withProps, withState } from 'recompose';\nimport { connect } from '../../redux/store';\nimport { actions } from '../../redux/modules/queue';\nimport { Modal, ModalBody, ModalFooter, Progress } from 'reactstrap';\nimport { I18n } from '@kineticdata/react';\n\nconst BulkStatusModalComponent = ({\n  status,\n  toggle,\n  label,\n  progressValue,\n  progressMax,\n  keepSelection,\n  handleKeepSelectionChange,\n}) =>\n  status.open ? (\n    <Modal\n      isOpen={true}\n      toggle={toggle}\n      size=\"lg\"\n      backdrop={status.completed ? undefined : 'static'}\n      keyboard={status.completed}\n    >\n      <div className=\"modal-header\">\n        <div className=\"modal-title\">\n          <span>\n            <I18n\n              render={translate =>\n                translate(\n                  `${label} %d Selected Item${status.count > 1 ? 's' : ''}`,\n                ).replace('%d', status.count)\n              }\n            />\n          </span>\n        </div>\n      </div>\n      <ModalBody className=\"px-3 py-4\">\n        {!status.completed ? (\n          <>\n            <div className=\"text-center h6\">\n              <I18n>In Progress...</I18n>\n            </div>\n            <Progress multi>\n              <Progress\n                animated\n                bar\n                value={status.success.length}\n                max={status.count}\n              />\n              <Progress\n                animated\n                bar\n                color=\"danger\"\n                value={status.error.length}\n                max={status.count}\n              />\n            </Progress>\n          </>\n        ) : (\n          <>\n            <div className=\"text-center h6 mb-4\">\n              <span className=\"fa fa-fw fa-lg fa-check-circle ml-2 text-success\" />\n              {status.success.length === status.count ? (\n                <I18n>\n                  All of the selected items were updated successfully.\n                </I18n>\n              ) : (\n                <I18n\n                  render={translate =>\n                    translate(\n                      `%d of the selected item${\n                        status.success.length !== 1 ? 's' : ''\n                      } updated successfully.`,\n                    ).replace('%d', status.success.length)\n                  }\n                />\n              )}\n            </div>\n\n            {status.error.length > 0 && (\n              <div className=\"alert alert-danger alert-bar mb-4\">\n                <div className=\"text-center h6 mb-4\">\n                  <span className=\"fa fa-fw fa-lg fa-exclamation-triangle ml-2 text-danger\" />\n                  <I18n\n                    render={translate =>\n                      translate(\n                        `%d of the selected item${\n                          status.error.length > 1 ? 's' : ''\n                        } failed to update.`,\n                      ).replace('%d', status.error.length)\n                    }\n                  />\n                </div>\n                <table className=\"table table-sm table-striped\">\n                  <thead>\n                    <tr>\n                      <th>\n                        <I18n>Handle</I18n>\n                      </th>\n                      <th>\n                        <I18n>Form</I18n>\n                      </th>\n                      <th>\n                        <I18n>Error</I18n>\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {status.error.map(error => {\n                      const item = status.items.find(\n                        item => item.id === error.submissionId,\n                      );\n                      return (\n                        <tr key={error.correlationId}>\n                          <td>\n                            <I18n>{item && item.handle}</I18n>\n                          </td>\n                          <td>\n                            <I18n>{item && item.form.name}</I18n>\n                          </td>\n                          <td>\n                            <I18n>{error.message}</I18n>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              </div>\n            )}\n\n            {status.error.length > 0 ||\n            status.success.some(item => item.coreState === 'Draft') ? (\n              <div className=\"form\">\n                <div className=\"form-group radio\">\n                  <label className=\"field-label\">\n                    <I18n>Update Selected Items When Done</I18n>\n                  </label>\n                  <label htmlFor=\"keep-selection-radio-1\">\n                    <input\n                      type=\"radio\"\n                      name=\"keep-selection-radio-group\"\n                      id=\"keep-selection-radio-1\"\n                      value=\"none\"\n                      checked={keepSelection === 'none'}\n                      onChange={handleKeepSelectionChange}\n                    />\n                    <I18n>Deselect All Items</I18n>\n                  </label>\n                  <label htmlFor=\"keep-selection-radio-2\">\n                    <input\n                      type=\"radio\"\n                      name=\"keep-selection-radio-group\"\n                      id=\"keep-selection-radio-2\"\n                      value=\"all\"\n                      checked={keepSelection === 'all'}\n                      onChange={handleKeepSelectionChange}\n                    />\n                    <I18n>Keep All Selected</I18n>\n                  </label>\n                  {status.success.length !== status.count &&\n                    status.success.some(item => item.coreState === 'Draft') && (\n                      <label htmlFor=\"keep-selection-radio-3\">\n                        <input\n                          type=\"radio\"\n                          name=\"keep-selection-radio-group\"\n                          id=\"keep-selection-radio-3\"\n                          value=\"success\"\n                          checked={keepSelection === 'success'}\n                          onChange={handleKeepSelectionChange}\n                        />\n                        <I18n>Select Only Successful Items</I18n>\n                      </label>\n                    )}\n                  {status.error.length > 0 && (\n                    <label htmlFor=\"keep-selection-radio-4\">\n                      <input\n                        type=\"radio\"\n                        name=\"keep-selection-radio-group\"\n                        id=\"keep-selection-radio-4\"\n                        value=\"error\"\n                        checked={keepSelection === 'error'}\n                        onChange={handleKeepSelectionChange}\n                      />\n                      <I18n>Select Only Failed Items</I18n>\n                    </label>\n                  )}\n                  {status.success.some(item => item.coreState !== 'Draft') && (\n                    <small className=\"text-muted\">\n                      <I18n>\n                        Items that are now closed will be automatically\n                        deselected.\n                      </I18n>\n                    </small>\n                  )}\n                </div>\n              </div>\n            ) : (\n              <small className=\"text-muted\">\n                <I18n>\n                  All items will be deselected because they are now all closed.\n                </I18n>\n              </small>\n            )}\n          </>\n        )}\n      </ModalBody>\n      <ModalFooter>\n        <button\n          type=\"button\"\n          className=\"btn btn-primary\"\n          onClick={toggle}\n          disabled={!status.completed}\n        >\n          <I18n>Done</I18n>\n        </button>\n      </ModalFooter>\n    </Modal>\n  ) : null;\n\nconst mapStateToProps = (state, props) => {\n  return {\n    status: state.queue.bulkStatus,\n  };\n};\n\nconst mapDispatchToProps = {\n  bulkStatusReset: actions.bulkStatusReset,\n  toggleSelectionMode: actions.toggleSelectionMode,\n};\n\nexport const BulkStatusModal = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withState('keepSelection', 'setKeepSelection', 'none'),\n  withProps(props => ({\n    label: props.status.type === 'assign' ? 'Assigning' : 'Working',\n  })),\n  withHandlers({\n    handleKeepSelectionChange: props => e =>\n      props.setKeepSelection(e.target.value),\n    toggle: props => () => {\n      const itemsToKeep = [\n        // All successful items that are still open\n        ...(['all', 'success'].includes(props.keepSelection)\n          ? props.status.success.filter(item => item.coreState === 'Draft')\n          : []),\n        // All failed items\n        ...(['all', 'error'].includes(props.keepSelection)\n          ? props.status.items.filter(item =>\n              props.status.error.find(error => error.submissionId === item.id),\n            )\n          : []),\n      ];\n\n      props.bulkStatusReset();\n      props.toggleSelectionMode(true, itemsToKeep);\n      props.refresh();\n    },\n  }),\n)(BulkStatusModalComponent);\n","import React from 'react';\nimport { compose, withHandlers, withProps, withState } from 'recompose';\nimport { connect } from '../../redux/store';\nimport { actions } from '../../redux/modules/queue';\nimport {\n  selectAssignmentTeams,\n  mapTeamsToAssignments,\n} from '../../redux/modules/queueApp';\nimport { BulkAssignModal } from './BulkAssignModal';\nimport { BulkWorkModal } from './BulkWorkModal';\nimport { BulkStatusModal } from './BulkStatusModal';\nimport { UncontrolledTooltip } from 'reactstrap';\nimport { I18n } from '@kineticdata/react';\nimport { addToast } from '@kineticdata/bundle-common';\nimport { Map, Set } from 'immutable';\nimport classNames from 'classnames';\n\nexport const QueueListSelectionComponent = ({\n  selectedList,\n  toggleSelectionMode,\n  toggleSelectedItem,\n  assignUnavailable,\n  assignTooltip,\n  workHidden,\n  workUnavailable,\n  workTooltip,\n  action,\n  toggleAssign,\n  handleAssignSubmit,\n  toggleWork,\n  handleWorkSubmit,\n  assignments,\n  isMobile,\n  refresh,\n}) => {\n  return (\n    <div className=\"queue-controls\">\n      <div className=\"queue-controls__selection\">\n        <div className=\"details\">\n          <div>\n            {selectedList.size}{' '}\n            <I18n>{`Item${selectedList.size !== 1 ? 's' : ''} Selected`}</I18n>\n          </div>\n        </div>\n        <div className=\"buttons d-flex\">\n          <button\n            id=\"bulk-assign-btn\"\n            type=\"button\"\n            className={classNames('btn btn-icon', {\n              'text-danger unavailable': assignUnavailable,\n            })}\n            onClick={toggleAssign}\n            aria-label=\"Assign Selected Items\"\n            disabled={selectedList.size === 0}\n          >\n            <span className=\"icon\">\n              <span className=\"fa fa-fw fa-share-square-o\" />\n            </span>\n            {!isMobile && (\n              <span>\n                <I18n>Assign</I18n>\n              </span>\n            )}\n          </button>\n          {assignTooltip &&\n            !isMobile && (\n              <UncontrolledTooltip\n                placement=\"top\"\n                target=\"bulk-assign-btn\"\n                delay={0}\n                trigger=\"hover focus\"\n              >\n                <I18n>{assignTooltip}</I18n>\n              </UncontrolledTooltip>\n            )}\n          {!workHidden && (\n            <>\n              <button\n                id=\"bulk-work-btn\"\n                type=\"button\"\n                className={classNames('btn btn-icon', {\n                  'text-danger unavailable': workUnavailable,\n                })}\n                onClick={toggleWork}\n                aria-label=\"Work Selected Items\"\n                disabled={selectedList.size === 0}\n              >\n                <span className=\"icon\">\n                  <span className=\"fa fa-fw fa-pencil-square-o\" />\n                </span>\n                {!isMobile && (\n                  <span>\n                    <I18n>Work</I18n>\n                  </span>\n                )}\n              </button>\n              {workTooltip &&\n                !isMobile && (\n                  <UncontrolledTooltip\n                    placement=\"top\"\n                    target=\"bulk-work-btn\"\n                    delay={0}\n                    trigger=\"hover focus\"\n                  >\n                    <I18n>{workTooltip}</I18n>\n                  </UncontrolledTooltip>\n                )}\n            </>\n          )}\n          <div className=\"ml-1 mr-2 border-right\" aria-hidden=\"true\" />\n          <button\n            type=\"button\"\n            className=\"btn btn-icon\"\n            onClick={toggleSelectionMode}\n            aria-label=\"Cancel Selection Mode\"\n          >\n            <span className=\"icon\">\n              <span className=\"fa fa-fw fa-times\" />\n            </span>\n          </button>\n        </div>\n      </div>\n      {action === 'assign' && (\n        <BulkAssignModal\n          toggle={toggleAssign}\n          handleSubmit={handleAssignSubmit}\n          message={assignTooltip}\n          assignments={assignments}\n        />\n      )}\n      {action === 'work' && (\n        <BulkWorkModal\n          toggle={toggleWork}\n          handleSubmit={handleWorkSubmit}\n          message={workTooltip}\n        />\n      )}\n      <BulkStatusModal refresh={refresh} />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n    profile: state.app.profile,\n    selectedList: state.queue.selectedList,\n    forms: state.queueApp.forms,\n    teams: state.queueApp.allTeams,\n    isMobile: state.app.layoutSize === 'small',\n  };\n};\n\nconst mapDispatchToProps = {\n  toggleSelectionMode: actions.toggleSelectionMode,\n  toggleSelectedItem: actions.toggleSelectedItem,\n  bulkAssign: actions.bulkAssignRequest,\n  bulkWork: actions.bulkWorkRequest,\n};\n\nexport const QueueListSelection = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withProps(props => {\n    // Create default additional props\n    const addProps = {\n      assignUnavailable: false,\n      assignTooltip: null,\n      workHidden: true,\n      workUnavailable: false,\n      workTooltip: null,\n      assignments: [],\n    };\n\n    // Calculate whether the assign button is available\n    if (props.selectedList.size > 0) {\n      // Create a unique list of form and Assigned Team pairs, and calculate the\n      // teams that the items can be assigned to.\n      const teamsPerUniqueItem = props.selectedList\n        .reduce((map, item) => {\n          const key = `${item.form.slug}_${item.values['Assigned Team']}`;\n          if (!map.has(key)) {\n            return map.set(key, item);\n          }\n          return map;\n        }, Map())\n        .map(item => selectAssignmentTeams(props.teams, item.form, item))\n        .toList();\n\n      // If there aren't any teams that all selected items can be assigned to,\n      // prevent the assign action.\n      if (\n        !props.teams.some(team =>\n          teamsPerUniqueItem.every(assignmentTeams =>\n            assignmentTeams.find(at => at.name === team.name),\n          ),\n        )\n      ) {\n        addProps.assignUnavailable = true;\n        addProps.assignTooltip =\n          'There are no valid teams that all the selected items can be assigned to.';\n      }\n      // If the set of available teams for each item isn't the same, show a\n      // warning message that the avialable assignment will be limited\n      else if (\n        teamsPerUniqueItem\n          .map(teams =>\n            teams\n              .map(team => team.name)\n              .sort()\n              .join('_'),\n          )\n          .some((teamString, i, iter) => teamString !== iter.get(0))\n      ) {\n        addProps.assignTooltip =\n          'The available assignments for the selected items will be limited due to assignment restrictions of some of the selected items.';\n      }\n\n      // Set the available assignments for the itnersection set of available teams\n      addProps.assignments = mapTeamsToAssignments(\n        props.teams.filter(team =>\n          teamsPerUniqueItem.every(assignmentTeams =>\n            assignmentTeams.find(at => at.name === team.name),\n          ),\n        ),\n      ).toJS();\n    }\n\n    // Calculate whether the work button is available\n    if (props.selectedList.size > 0) {\n      // Get a set of unique forms from the selected items\n      const uniqueSelectedForms = Set(\n        props.selectedList.map(item => item.form.slug).toList(),\n      );\n      // If all items are for a single form, get the from\n      const selectedForm =\n        uniqueSelectedForms.size === 1 && props.selectedList.first().form;\n\n      // Show work button if any of the selected items support bulk operations\n      if (\n        !!props.selectedList.find(\n          item =>\n            item.form &&\n            item.form.fields &&\n            item.form.fields.some(field => field.name === 'Bulk Action'),\n        )\n      ) {\n        addProps.workHidden = false;\n\n        // If multiple forms have been selected, prevent the work action.\n        if (!selectedForm) {\n          addProps.workUnavailable = true;\n          addProps.workTooltip =\n            'All selected items must be from the same form, and the form must support bulk work actions.';\n        }\n        // If the selected items aren't all assigned to me, prevent the work action.\n        else if (\n          props.selectedList.some(\n            item =>\n              item.values['Assigned Individual'] !== props.profile.username,\n          )\n        ) {\n          addProps.workUnavailable = true;\n          addProps.workTooltip =\n            'The selected items must all be assigned to you.';\n        }\n      }\n    }\n\n    return addProps;\n  }),\n  withState('action', 'setAction', null),\n  withHandlers({\n    toggleAssign: props => () => {\n      if (props.selectedList.size > 0) {\n        if (!props.assignUnavailable) {\n          props.setAction(props.action === 'assign' ? null : 'assign');\n        } else if (props.assignTooltip && props.isMobile) {\n          addToast({ severity: 'danger', message: props.assignTooltip });\n        }\n      }\n    },\n    toggleWork: props => () => {\n      if (props.selectedList.size > 0) {\n        if (!props.workUnavailable) {\n          props.setAction(props.action === 'work' ? null : 'work');\n        } else if (props.workTooltip && props.isMobile) {\n          addToast({ severity: 'danger', message: props.workTooltip });\n        }\n      }\n    },\n  }),\n  withHandlers({\n    handleAssignSubmit: props => assignment => {\n      props.toggleAssign();\n      props.bulkAssign({ assignment });\n    },\n    handleWorkSubmit: props => values => {\n      props.toggleWork();\n      props.bulkWork({ values });\n    },\n  }),\n)(QueueListSelectionComponent);\n","import React from 'react';\nimport { QueueListItemSmall } from './QueueListItem';\nimport { LoadingMessage, EmptyMessage } from '@kineticdata/bundle-common';\nimport { FilterMenuToolbar } from '../filter_menu/FilterMenuToolbar';\nimport { FilterMenuModal } from '../filter_menu/FilterMenuModal';\nimport { QueueListSidebar } from './QueueListSidebar';\nimport { QueueListPagination } from './QueueListPagination';\nimport { QueueListSelection } from './QueueListSelection';\nimport { PageTitle } from '../shared/PageTitle';\n\nconst QueueEmptyMessage = ({ filter }) => {\n  if (filter.type === 'adhoc') {\n    return (\n      <EmptyMessage title=\"No Results\" message=\"Try a less specific filter.\" />\n    );\n  }\n\n  return (\n    <EmptyMessage\n      title=\"No Assignments\"\n      message=\"An empty queue is a happy queue.\"\n    />\n  );\n};\n\nconst QueueErrorMessage = ({ message }) => (\n  <EmptyMessage\n    title={'Error'}\n    message={message || 'There was a problem retrieving items.'}\n  />\n);\n\nconst QueueBadFilterMessage = ({ message }) => (\n  <EmptyMessage\n    title=\"Invalid List\"\n    message={\n      message || 'Invalid list, please choose a valid list from the left side.'\n    }\n  />\n);\n\nexport const QueueList = ({\n  filter,\n  loading,\n  data,\n  error,\n  hasPreviousPage,\n  handleRefresh,\n  isMobile,\n  isDesktop,\n  filterValidations,\n  setQueueListRef,\n  selectionMode,\n  selectedList,\n  toggleSelectedItem,\n}) => {\n  const showPagination =\n    !error && !loading && data && (data.size > 0 || hasPreviousPage);\n\n  return (\n    <div className=\"page-container page-container--panels\">\n      {(isDesktop || !filter) && (\n        <div className=\"page-panel page-panel--no-padding page-panel--exact border-right\">\n          <QueueListSidebar showCreateNew={!!filter} />\n        </div>\n      )}\n      {!filter ? (\n        <div className=\"page-panel\">\n          <PageTitle parts={['Invalid List']} />\n          <QueueBadFilterMessage />\n        </div>\n      ) : (\n        <div className=\"page-panel page-panel--no-padding page-panel--flex\">\n          <PageTitle parts={[filter.name || 'Adhoc']} />\n          <div className=\"page-panel__header\">\n            {isMobile ? (\n              <FilterMenuModal filter={filter} refresh={handleRefresh} />\n            ) : (\n              <FilterMenuToolbar\n                filter={filter}\n                refresh={handleRefresh}\n                showFilterMenu={!isDesktop}\n              />\n            )}\n          </div>\n          <div className=\"page-panel__body\" ref={setQueueListRef}>\n            {filterValidations.length <= 0 ? (\n              <div className=\"queue-list-content submissions\">\n                {error ? (\n                  <QueueErrorMessage message={error.message} />\n                ) : loading ? (\n                  <LoadingMessage />\n                ) : data && data.size > 0 ? (\n                  <ul className=\"list-group\">\n                    {data.map(queueItem => (\n                      <QueueListItemSmall\n                        queueItem={queueItem}\n                        key={queueItem.id}\n                        filter={filter}\n                        selectionMode={selectionMode}\n                        selected={\n                          selectionMode && selectedList.has(queueItem.id)\n                        }\n                        selectionDisabled={queueItem.coreState !== 'Draft'}\n                        toggleSelection={toggleSelectedItem}\n                      />\n                    ))}\n                  </ul>\n                ) : (\n                  <QueueEmptyMessage filter={filter} />\n                )}\n              </div>\n            ) : (\n              <QueueBadFilterMessage\n                message={filterValidations.map((v, i) => <p key={i}>{v}</p>)}\n              />\n            )}\n          </div>\n          {selectionMode && (\n            <div className=\"page-panel__footer\">\n              <QueueListSelection refresh={handleRefresh} />\n            </div>\n          )}\n          {showPagination && (\n            <div className=\"page-panel__footer\">\n              <QueueListPagination filter={filter} />\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n","import { compose, lifecycle, withHandlers, withProps } from 'recompose';\nimport { is } from 'immutable';\nimport {\n  getFilterByPath,\n  selectMyTeamForms,\n} from '../../redux/modules/queueApp';\nimport { actions as queueActions } from '../../redux/modules/queue';\nimport { QueueList } from './QueueList';\nimport { validateDateRange } from '../filter_menu/FilterMenuAbstract';\nimport { connect } from '../../redux/store';\n\nconst mapStateToProps = (state, props) => {\n  const filter = getFilterByPath(state, props.location.pathname);\n  return {\n    filter,\n    loading: state.queue.loading,\n    paging: state.queue.paging,\n    data: state.queue.data,\n    error: state.queue.error,\n    hasPreviousPage: state.queue.hasPreviousPage,\n    isMobile: state.app.layoutSize === 'small',\n    isDesktop: state.app.layoutSize === 'xlarge',\n    hasTeams: state.queueApp.myTeams.size > 0,\n    hasForms:\n      selectMyTeamForms(state).filter(form => form.type === 'Task').length > 0,\n    selectionMode: state.queue.selectedList !== null,\n    selectedList: state.queue.selectedList,\n  };\n};\n\nconst mapDispatchToProps = {\n  fetchList: queueActions.fetchListRequest,\n  resetList: queueActions.fetchListReset,\n  toggleSelectedItem: queueActions.toggleSelectedItem,\n};\n\nexport const QueueListContainer = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withProps(({ filter }) => {\n    return {\n      filterValidations: filter\n        ? [validateDateRange].map(fn => fn(filter)).filter(v => v)\n        : [],\n    };\n  }),\n  withHandlers({\n    handleRefresh: props => () => props.resetList(props.filter),\n  }),\n  withHandlers(() => {\n    let queueListRef = null;\n    return {\n      setQueueListRef: () => ref => (queueListRef = ref),\n      scrollToTop: () => () => {\n        queueListRef.scrollTop = 0;\n      },\n    };\n  }),\n  lifecycle({\n    componentDidMount() {\n      this.loadFilter(this.props.filter, this.props.filterValidations);\n    },\n    componentDidUpdate(prevProps) {\n      if (!is(this.props.filter, prevProps.filter)) {\n        this.loadFilter(this.props.filter, this.props.filterValidations);\n      }\n      if (!this.props.paging && prevProps.paging) {\n        this.props.scrollToTop();\n      }\n    },\n    loadFilter(filter, filterValidations) {\n      if (filterValidations.length <= 0) {\n        this.props.fetchList(filter);\n      }\n    },\n  }),\n)(QueueList);\n","import React from 'react';\nimport { Modal, ModalBody, ModalFooter } from 'reactstrap';\nimport { CoreForm } from '@kineticdata/react';\nimport { AssignmentSelector } from '../shared/AssignmentSelector';\nimport { I18n } from '@kineticdata/react';\n\nconst FormList = ({ myTeamForms, handleFormClick, permittedSubtasks }) => (\n  <ul className=\"list-group button-list\">\n    {myTeamForms\n      .filter(\n        form => !permittedSubtasks || permittedSubtasks.includes(form.slug),\n      )\n      .map(form => (\n        <li key={form.slug} className=\"list-group-item\">\n          <button\n            type=\"button\"\n            className=\"btn btn-link\"\n            onClick={handleFormClick(form)}\n          >\n            <span className=\"button-title\">\n              <I18n context={`kapps.${form.kapp.slug}.forms.${form.slug}`}>\n                {form.name}\n              </I18n>\n            </span>\n            <span className=\"icon\">\n              <span className=\"fa fa-angle-right\" />\n            </span>\n          </button>\n        </li>\n      ))}\n  </ul>\n);\n\nconst AssignmentList = ({ assignments, handleSelect }) => (\n  <AssignmentSelector assignments={assignments} onSelect={handleSelect} />\n);\n\nconst FormsBackButton = ({ handleFormClick }) => (\n  <button\n    type=\"button\"\n    className=\"btn btn-link btn-back\"\n    onClick={handleFormClick(null)}\n  >\n    <span className=\"icon\">\n      <span className=\"fa fa-fw fa-chevron-left\" />\n    </span>\n    <I18n>Forms</I18n>\n  </button>\n);\n\nconst AssignmentBackButton = ({ handleAssignmentClick, currentAssignment }) => (\n  <button\n    type=\"button\"\n    className=\"btn btn-link btn-back d-flex\"\n    onClick={handleAssignmentClick(null)}\n  >\n    <span className=\"icon\">\n      <span className=\"fa fa-fw fa-chevron-left\" />\n    </span>\n    <I18n>Assignment</I18n>\n    <div className=\"assignment-badge\">\n      <span className=\"badge\" aria-hidden=\"true\">\n        {(currentAssignment['Assigned Individual Display Name'] &&\n          currentAssignment['Assigned Individual Display Name'].charAt(0)) ||\n          (currentAssignment['Assigned Team Display Name'] &&\n            currentAssignment['Assigned Team Display Name'].charAt(0))}\n      </span>\n      <div>\n        <div className=\"assignment-badge__team\">\n          <I18n>{currentAssignment['Assigned Team Display Name']}</I18n>\n        </div>\n        <div className=\"assignment-badge__individual text-truncate\">\n          {currentAssignment['Assigned Individual Display Name'] ||\n            currentAssignment['Assigned Individual']}\n        </div>\n      </div>\n    </div>\n  </button>\n);\n\nexport const NewItemMenu = ({\n  kappSlug,\n  isOpen,\n  options,\n  closeNewItemMenu,\n  assignments,\n  myTeamForms,\n  currentAssignment,\n  currentForm,\n  assignmentRequired,\n  kForm,\n  onFormLoaded,\n  onCreated,\n  handleFormClick,\n  handleAssignmentClick,\n  handleSave,\n  handleClosed,\n  handleSelect,\n}) => (\n  <Modal isOpen={isOpen} toggle={handleClosed} onExit={handleClosed} size=\"lg\">\n    <div className=\"modal-header\">\n      <div className=\"modal-title\">\n        <button type=\"button\" className=\"btn btn-link\" onClick={handleClosed}>\n          <I18n>Close</I18n>\n        </button>\n        <span>\n          <I18n>New</I18n>{' '}\n          {currentForm ? (\n            <I18n context={`kapps.${kappSlug}.forms.${currentForm.slug}`}>\n              {currentForm.name}\n            </I18n>\n          ) : (\n            <I18n>Task</I18n>\n          )}\n        </span>\n      </div>\n      {currentForm !== null &&\n        currentAssignment === null && (\n          <FormsBackButton handleFormClick={handleFormClick} />\n        )}\n      {currentForm !== null &&\n        currentAssignment !== null && (\n          <AssignmentBackButton\n            handleAssignmentClick={handleAssignmentClick}\n            currentAssignment={currentAssignment}\n          />\n        )}\n    </div>\n    <ModalBody>\n      {currentForm === null ? (\n        <FormList\n          myTeamForms={myTeamForms}\n          handleFormClick={handleFormClick}\n          permittedSubtasks={options.get('permittedSubtasks')}\n        />\n      ) : assignmentRequired && currentAssignment === null ? (\n        <AssignmentList assignments={assignments} handleSelect={handleSelect} />\n      ) : (\n        <I18n context={`kapps.${kappSlug}.forms.${currentForm.slug}`}>\n          <CoreForm\n            kapp={kappSlug}\n            form={currentForm.slug}\n            values={currentAssignment}\n            onLoaded={onFormLoaded}\n            onCreated={onCreated}\n            originId={options.get('originId')}\n            parentId={options.get('parentId')}\n          />\n        </I18n>\n      )}\n    </ModalBody>\n    {currentForm !== null &&\n      kForm !== null && (\n        <ModalFooter>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary\"\n            onClick={handleSave}\n          >\n            <I18n>Save</I18n>{' '}\n            <I18n context={`kapps.${kappSlug}.forms.${currentForm.slug}`}>\n              {currentForm.name}\n            </I18n>\n          </button>\n        </ModalFooter>\n      )}\n  </Modal>\n);\n","import {\n  compose,\n  lifecycle,\n  withState,\n  withHandlers,\n  withProps,\n} from 'recompose';\nimport { push } from 'redux-first-history';\nimport {\n  selectMyTeamForms,\n  selectAssignments,\n  getFilterByPath,\n} from '../../redux/modules/queueApp';\nimport { actions } from '../../redux/modules/queue';\nimport { NewItemMenu } from './NewItemMenu';\nimport { connect } from '../../redux/store';\n\nconst mapStateToProps = state => {\n  const filter = getFilterByPath(state, state.router.location.pathname);\n\n  return {\n    myTeamForms: !state.queue.newItemMenuOptions.get('parentId')\n      ? selectMyTeamForms(state).filter(form => form.type === 'Task')\n      : selectMyTeamForms(state).filter(\n          form => form.type === 'Task' || form.type === 'Subtask',\n        ),\n    isOpen: state.queue.newItemMenuOpen,\n    options: state.queue.newItemMenuOptions,\n    allTeams: state.queueApp.allTeams,\n    kappSlug: state.app.kappSlug,\n    username: state.app.profile && state.app.profile.username,\n    location: state.app.location,\n    filter,\n  };\n};\n\nconst mapDispatchToProps = {\n  closeNewItemMenu: actions.closeNewItemMenu,\n  fetchCurrentItem: actions.fetchCurrentItem,\n  push,\n};\n\nconst handleFormClick = ({ setCurrentForm }) => form => () =>\n  setCurrentForm(form);\nconst handleAssignmentClick = ({ setAssignment }) => form => () =>\n  setAssignment(form);\nconst handleSave = ({\n  kForm,\n  setCurrentForm,\n  setKForm,\n  setAssignment,\n}) => () => {\n  kForm.submitPage();\n};\nconst handleClosed = ({\n  setCurrentForm,\n  setKForm,\n  setAssignment,\n  closeNewItemMenu,\n}) => () => {\n  closeNewItemMenu();\n};\nconst handleSelect = ({ setAssignment }) => (_value, state) => {\n  const teamParts = state.team.split('::');\n  let values = {\n    'Assigned Individual Display Name': state.displayName,\n    'Assigned Team': state.team,\n    'Assigned Team Display Name': teamParts[teamParts.length - 1],\n  };\n\n  if (state.username) {\n    values['Assigned Individual'] = state.username;\n  }\n\n  setAssignment(values);\n};\n\nconst onFormLoaded = ({ setKForm }) => form => setKForm(form);\n\nconst onCreated = ({\n  options,\n  fetchCurrentItem,\n  closeNewItemMenu,\n  username,\n  location,\n  push,\n}) => (submission, actions) => {\n  // Prevent loading the next page of the embedded form since we are just going\n  // to close the dialog anyways.\n  actions.stop();\n  // Close the new item menu\n  closeNewItemMenu();\n\n  // Check if this is assigned to me if so, go to submission\n  if (\n    username &&\n    submission.submission.values &&\n    submission.submission.values['Assigned Individual'] === username\n  ) {\n    push(`${location}/item/${submission.submission.id}`);\n  }\n  // Else if the new queue item that was just created has a parent we fetch the\n  // parent again because we want its subtask list to contain this new queue\n  // item.\n  else if (options.get('parentId')) {\n    fetchCurrentItem(options.get('parentId'));\n  }\n};\n\nexport const NewItemMenuContainer = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withState('currentAssignment', 'setAssignment', null),\n  withState('currentForm', 'setCurrentForm', null),\n  withState('kForm', 'setKForm', null),\n  withProps(props => {\n    const assignmentType =\n      props.currentForm &&\n      props.currentForm.attributes['Assignment Type'] &&\n      props.currentForm.attributes['Assignment Type'][0];\n    return {\n      assignmentRequired:\n        !assignmentType || assignmentType.toLowerCase() !== 'none',\n      assignments: selectAssignments(props.allTeams, props.currentForm).toJS(),\n    };\n  }),\n  withHandlers({\n    handleFormClick,\n    handleAssignmentClick,\n    handleSave,\n    handleClosed,\n    handleSelect,\n    onFormLoaded,\n    onCreated,\n  }),\n  lifecycle({\n    componentDidUpdate(prevProps) {\n      if (!this.props.isOpen && prevProps.isOpen) {\n        // Reset form when it is closed\n        this.props.setAssignment(null);\n        this.props.setCurrentForm(null);\n        this.props.setKForm(null);\n      }\n    },\n  }),\n)(NewItemMenu);\n","import React from 'react';\nimport { compose, withHandlers, withProps, withState } from 'recompose';\nimport { actions } from '../../redux/modules/workMenu';\nimport { Modal, ModalBody, ModalFooter } from 'reactstrap';\nimport { CoreForm } from '@kineticdata/react';\nimport { I18n } from '@kineticdata/react';\nimport { connect } from '../../redux/store';\n\nexport const WorkMenu = ({\n  queueItem,\n  complete,\n  mode,\n  handleCloseClick,\n  handleLoaded,\n  handleUpdated,\n  handleCompleted,\n  handleSaveClick,\n}) =>\n  queueItem && (\n    <Modal\n      isOpen\n      toggle={handleCloseClick}\n      size=\"lg\"\n      backdrop=\"static\"\n      className=\"work-menu\"\n    >\n      <div className=\"modal-header\">\n        <div className=\"modal-title\">\n          <button\n            type=\"button\"\n            className=\"btn btn-link\"\n            onClick={handleCloseClick}\n          >\n            <I18n>Close</I18n>\n          </button>\n          <span>\n            <I18n>{`${mode} It`}</I18n>\n          </span>\n        </div>\n      </div>\n      <ModalBody>\n        <I18n\n          context={`kapps.${queueItem.form.kapp.slug}.forms.${\n            queueItem.form.slug\n          }`}\n        >\n          <CoreForm\n            submission={queueItem.id}\n            review={queueItem.coreState !== 'Draft'}\n            onLoaded={handleLoaded}\n            onUpdated={handleUpdated}\n            onCompleted={handleCompleted}\n          />\n        </I18n>\n      </ModalBody>\n      {mode === 'Work' &&\n        !complete && (\n          <ModalFooter>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleSaveClick}\n            >\n              <I18n>Save</I18n>{' '}\n              <I18n\n                context={`kapps.${queueItem.form.kapp.slug}.forms.${\n                  queueItem.form.slug\n                }`}\n              >\n                {queueItem.form.name}\n              </I18n>\n            </button>\n          </ModalFooter>\n        )}\n    </Modal>\n  );\n\nexport const mapStateToProps = state => ({\n  queueItem: state.workMenu.queueItem,\n  onWorked: state.workMenu.onWorked,\n});\nexport const mapDispatchToProps = {\n  closeWorkMenu: actions.closeWorkMenu,\n};\n\nexport const WorkMenuContainer = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withState('complete', 'setComplete', false),\n  withProps(({ queueItem }) => ({\n    mode: queueItem && queueItem.coreState === 'Draft' ? 'Work' : 'Review',\n  })),\n  withHandlers(() => {\n    let kineticForm = null;\n    return {\n      handleLoaded: () => form => {\n        kineticForm = form;\n      },\n      handleUpdated: props => (response, actions) => {\n        // If the result of submitPage is an update and we do not advance pages\n        // on the submission we will close the work menu. Also call actions.stop\n        // to prevent a needless AJAX call to reload the embedded form.\n        if (\n          response.submission.coreState !== 'Submitted' &&\n          response.submission.currentPage === kineticForm.page().name()\n        ) {\n          actions.stop();\n          props.closeWorkMenu();\n        }\n        if (typeof props.onWorked === 'function') {\n          props.onWorked(response.submission);\n        }\n      },\n      handleCompleted: props => (response, actions) => {\n        // If the result of submitPage is a complete and we advance to a virtual\n        // confirmation page (currentPage === null (pre form consolidation_, or\n        // displayedPage.type is not 'confirmation' (post form consolidation))\n        // we close the work menu and stop the subsequent AJAX call. If the page\n        // is not null then we will set the 'completed' state to true and let\n        // the embedded form reload so the confirmation page is shown.\n        if (\n          response.submission.currentPage === null ||\n          (response.submission.displayedPage &&\n            response.submission.displayedPage.type !== 'confirmation')\n        ) {\n          actions.stop();\n          props.closeWorkMenu();\n        } else {\n          props.setComplete(true);\n        }\n      },\n      handleSaveClick: () => () => {\n        kineticForm.submitPage();\n      },\n      handleCloseClick: props => () => {\n        props.closeWorkMenu();\n        props.setComplete(false);\n      },\n    };\n  }),\n)(WorkMenu);\n","import React, { Fragment } from 'react';\nimport {\n  I18n,\n  KappForm,\n  SubmissionSearch,\n  searchSubmissions,\n} from '@kineticdata/react';\nimport { compose, withHandlers } from 'recompose';\nimport { connect } from '../../redux/store';\nimport { FormComponents, addToast } from '@kineticdata/bundle-common';\nimport { PageTitle } from '../shared/PageTitle';\n\nconst fieldSet = [\n  'name',\n  'icon',\n  'notificationComplete',\n  'notificationCreate',\n  'attributesMap',\n];\n\nconst FormLayout = ({ fields, error, buttons }) => (\n  <Fragment>\n    <h2 className=\"section__title\">\n      <span className=\"title\">\n        <I18n>Display Options</I18n>\n      </span>\n    </h2>\n    {fields.get('name')}\n    {fields.get('icon')}\n    <br />\n    <h2 className=\"section__title\">\n      <span className=\"title\">\n        <I18n>Form Mapping</I18n>\n      </span>\n    </h2>\n    {fields.get('notificationComplete')}\n    {fields.get('notificationCreate')}\n    {error}\n    {buttons}\n  </Fragment>\n);\n\n// const initialFormValue = (object, attributeName) =>\n//   object.hasIn(['attributesMap', attributeName, 0])\n//     ? { slug: object.getIn(['attributesMap', attributeName, 0]) }\n//     : null;\n\nconst asArray = value => (value ? [value] : []);\n\nconst notificationSearch = new SubmissionSearch(true)\n  .index('values[Name]')\n  .includes(['values'])\n  .limit(1000)\n  .build();\n\nexport const QueueSettingsComponent = ({ currentKapp, onSave }) => (\n  <KappForm\n    kappSlug={currentKapp.slug}\n    fieldSet={fieldSet}\n    onSave={onSave}\n    components={{ FormLayout }}\n    addDataSources={{\n      notifications: {\n        fn: searchSubmissions,\n        params: [\n          {\n            datastore: true,\n            form: 'notification-data',\n            search: notificationSearch,\n          },\n        ],\n        transform: result => result.submissions,\n      },\n    }}\n    addFields={() => ({ kapp, notifications }) =>\n      kapp &&\n      notifications && [\n        {\n          name: 'icon',\n          label: 'Display Icon',\n          type: 'text',\n          helpText: 'Font Awesome icon to display in Kapp links.',\n          initialValue: kapp.getIn(['attributesMap', 'Icon', 0]),\n          component: FormComponents.IconField,\n        },\n        {\n          name: 'notificationComplete',\n          label: 'Default Request Submitted Notification Template',\n          type: 'select',\n          renderAttributes: { typeahead: true },\n          helpText:\n            \"Name of the Notification Template to use when this kapp's submissions are completed.\",\n          initialValue: kapp.getIn([\n            'attributesMap',\n            'Notification Template Name - Complete',\n            0,\n          ]),\n          options: notifications\n            ? notifications\n                .map(notification => ({\n                  label: notification.getIn(['values', 'Name']),\n                  value: notification.getIn(['values', 'Name']),\n                  slug: notification.get('id'),\n                }))\n                .toJS()\n            : [],\n          component: FormComponents.NotificationField,\n        },\n        {\n          name: 'notificationCreate',\n          label: 'Default Request Created Notification Template',\n          type: 'select',\n          renderAttributes: { typeahead: true },\n          helpText:\n            \"Name of the Notification Template to use when this kapp's submissions are submitted.\",\n          initialValue: kapp.getIn([\n            'attributesMap',\n            'Notification Template Name - Create',\n            0,\n          ]),\n          options: notifications\n            ? notifications\n                .map(notification => ({\n                  label: notification.getIn(['values', 'Name']),\n                  value: notification.getIn(['values', 'Name']),\n                  slug: notification.get('id'),\n                }))\n                .toJS()\n            : [],\n          component: FormComponents.NotificationField,\n        },\n      ]}\n    alterFields={{\n      name: {\n        helpText: 'The name of the Kapp referenced throughout the Kapp.',\n      },\n      attributesMap: {\n        serialize: ({ values }) => ({\n          Icon: asArray(values.get('icon')),\n          'Notification Template Name - Complete': asArray(\n            values.getIn(['notificationComplete']),\n          ),\n          'Notification Template Name - Create': asArray(\n            values.getIn(['notificationCreate']),\n          ),\n        }),\n      },\n    }}\n  >\n    {({ form, initialized }) => (\n      <div className=\"page-container\">\n        <div className=\"page-panel \">\n          <PageTitle\n            parts={['General']}\n            settings\n            breadcrumbs={[\n              { label: 'Home', to: '/' },\n              { label: `${currentKapp.name} Settings`, to: '..' },\n            ]}\n            title=\"General Settings\"\n          />\n          {initialized && (\n            <section className=\"form form-unstyled mb-5\">{form}</section>\n          )}\n        </div>\n      </div>\n    )}\n  </KappForm>\n);\n\nconst mapStateToProps = state => ({\n  currentKapp: state.app.kapp,\n  reloadApp: state.app.actions.refreshApp,\n});\n\n// Settings Container\nexport const QueueSettings = compose(\n  connect(mapStateToProps),\n  withHandlers({\n    onSave: props => () => () => {\n      addToast(`${props.currentKapp.name} settings saved successfully.`);\n      props.reloadApp();\n    },\n  }),\n)(QueueSettingsComponent);\n","import React, { Fragment } from 'react';\nimport { Link } from '@reach/router';\nimport { compose, withHandlers, withState, lifecycle } from 'recompose';\nimport { connect } from '../../../redux/store';\nimport {\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  Modal,\n  ModalBody,\n  ModalFooter,\n} from 'reactstrap';\nimport {\n  I18n,\n  FormTable,\n  FormForm,\n  fetchForm,\n  refetchTable,\n  mountTable,\n  unmountTable,\n} from '@kineticdata/react';\nimport {\n  FormComponents,\n  ErrorMessage,\n  LoadingMessage,\n  addToast,\n  openConfirm,\n} from '@kineticdata/bundle-common';\nimport { PageTitle } from '../../shared/PageTitle';\nimport { TableComponents } from '@kineticdata/bundle-common';\nimport { actions } from '../../../redux/modules/settingsForms';\nimport { actions as queueActions } from '../../../redux/modules/settingsQueue';\n\nconst tableKey = 'queue-settings-form-list';\n\nconst ActionsCell = ({ deleteForm, toggleModal, processing }) => ({\n  tableOptions: { kappSlug },\n  row,\n  tableKey,\n}) => (\n  <td className=\"text-right\" style={{ width: '1%' }}>\n    {processing.has(row.get('slug')) ? (\n      <button type=\"button\" className=\"btn btn-sm btn-link\" disabled=\"disabled\">\n        <span className=\"fa fa-spinner fa-spin fa-fw\" role=\"presentation\" />\n      </button>\n    ) : (\n      <UncontrolledDropdown className=\"more-actions\">\n        <DropdownToggle tag=\"button\" className=\"btn btn-sm btn-link\">\n          <span className=\"sr-only\">More Actions</span>\n          <span className=\"fa fa-chevron-down fa-fw\" role=\"presentation\" />\n        </DropdownToggle>\n        <DropdownMenu right positionFixed>\n          <Link to={`${row.get('slug')}/settings`} className=\"dropdown-item\">\n            Settings\n          </Link>\n          <DropdownItem onClick={() => toggleModal(row.get('slug'))}>\n            Clone\n          </DropdownItem>\n          <DropdownItem\n            onClick={() =>\n              deleteForm(row.get('slug'), () => refetchTable(tableKey))\n            }\n          >\n            Delete\n          </DropdownItem>\n        </DropdownMenu>\n      </UncontrolledDropdown>\n    )}\n  </td>\n);\n\nconst FormNameCell = ({ row, value }) => (\n  <td>\n    <Link to={row.get('slug')}>{value}</Link>\n    <br />\n    <small>{row.get('slug')}</small>\n  </td>\n);\n\nconst FormLayout = ({ fields, error, buttons, bindings: { cloneForm } }) => (\n  <Fragment>\n    <ModalBody className=\"form\">\n      {cloneForm && (\n        <div className=\"alert alert-info text-center\">\n          <div className=\"alert-heading\">\n            <I18n>Cloning Form</I18n>{' '}\n            <strong>\n              <I18n>{cloneForm.get('name')}</I18n>\n            </strong>\n          </div>\n          <hr className=\"my-2\" />\n          <small>\n            <I18n\n              render={translate =>\n                translate(\n                  'The attributes, categories, security policies, and all form content will be copied from the %s form into this new form.',\n                ).replace('%s', translate(cloneForm.get('name')))\n              }\n            />\n          </small>\n        </div>\n      )}\n      <div className=\"form-group__columns\">\n        {fields.get('name')}\n        {fields.get('slug')}\n      </div>\n      <div className=\"form-group__columns\">\n        {fields.get('status')}\n        {fields.get('type')}\n      </div>\n      {fields.get('submissionLabelExpression')}\n      {fields.get('description')}\n      {error}\n    </ModalBody>\n    <ModalFooter>{buttons}</ModalFooter>\n  </Fragment>\n);\n\nconst FormButtons = props => (\n  <button\n    className=\"btn btn-success\"\n    type=\"submit\"\n    disabled={!props.dirty || props.submitting}\n    onClick={props.submit}\n  >\n    {props.submitting && (\n      <span\n        className=\"fa fa-circle-o-notch fa-spin fa-fw\"\n        role=\"presentation\"\n      />\n    )}{' '}\n    <I18n>Create Form</I18n>\n  </button>\n);\n\nconst LoadingFormLayout = () => (\n  <Fragment>\n    <ModalBody className=\"form\">\n      <LoadingMessage />\n    </ModalBody>\n    <ModalFooter>\n      <button className=\"btn btn-success\" type=\"button\" disabled={true}>\n        <I18n>Create Form</I18n>\n      </button>\n    </ModalFooter>\n  </Fragment>\n);\n\nconst CloneErrorFormLayout = () => (\n  <Fragment>\n    <ModalBody className=\"form\">\n      <ErrorMessage message=\"Failed to load form to clone.\" />\n    </ModalBody>\n    <ModalFooter>\n      <button className=\"btn btn-success\" type=\"button\" disabled={true}>\n        <I18n>Create Form</I18n>\n      </button>\n    </ModalFooter>\n  </Fragment>\n);\n\nexport const FormListComponent = ({\n  kapp,\n  processing,\n  modalOpen,\n  toggleModal,\n  filterOpen,\n  setFilterOpen,\n  deleteForm,\n  cloneFormRequest,\n  navigate,\n  queueSettings,\n  loading,\n}) => {\n  const EmptyBodyRow = TableComponents.generateEmptyBodyRow({\n    loadingMessage: 'Loading Forms...',\n    noSearchResultsMessage:\n      'No forms were found - please modify your search criteria',\n    noItemsMessage: 'There are no forms to display.',\n    noItemsLinkTo: `/kapps/${kapp.slug}/settings/forms/new`,\n    noItemsLinkToMessage: 'Add New Form',\n  });\n\n  const FilterFormLayout = TableComponents.generateFilterFormLayout({\n    isOpen: filterOpen,\n    toggle: () => setFilterOpen(open => !open),\n  });\n\n  return (\n    !loading && (\n      <FormTable\n        tableKey={tableKey}\n        kappSlug={kapp.slug}\n        components={{\n          EmptyBodyRow,\n          FilterFormLayout,\n          FilterFormButtons: TableComponents.FilterFormButtons,\n        }}\n        columnSet={[\n          'name',\n          'description',\n          'type',\n          'updatedAt',\n          'createdAt',\n          'status',\n          'actions',\n        ]}\n        defaultSortColumn=\"name\"\n        defaultSortDirection=\"asc\"\n        addColumns={[\n          { value: 'description', title: 'Description', sortable: false },\n          {\n            value: 'actions',\n            title: ' ',\n            sortable: false,\n            components: {\n              BodyCell: ActionsCell({ deleteForm, toggleModal, processing }),\n            },\n            className: 'text-right',\n          },\n        ]}\n        alterColumns={{\n          updatedAt: { components: { BodyCell: TableComponents.TimeAgoCell } },\n          createdAt: { components: { BodyCell: TableComponents.TimeAgoCell } },\n          name: { components: { BodyCell: FormNameCell } },\n          status: {\n            components: {\n              BodyCell: TableComponents.StatusBadgeCell,\n            },\n          },\n        }}\n        filterSet={['name', 'type', 'status']}\n        alterFilters={{\n          type: {\n            options: queueSettings.queueSettingsKapp.formTypes.map(\n              ({ name }) => ({\n                value: name,\n                label: name,\n              }),\n            ),\n          },\n        }}\n        onSearch={() => () => setFilterOpen(false)}\n      >\n        {({ pagination, table, filter, appliedFilters, filterFormKey }) => {\n          return (\n            <div className=\"page-container\">\n              <div className=\"page-panel\">\n                <PageTitle\n                  parts={[`Forms`]}\n                  settings\n                  breadcrumbs={[\n                    { label: 'Home', to: '/' },\n                    { label: `${kapp.name} Settings`, to: '..' },\n                  ]}\n                  title=\"Forms\"\n                  actions={[\n                    {\n                      label: 'New Form',\n                      icon: 'plus',\n                      onClick: () => toggleModal(true),\n                    },\n                  ]}\n                />\n\n                <div>\n                  <div className=\"text-right mb-2\">{filter}</div>\n                  <TableComponents.FilterPills\n                    filterFormKey={filterFormKey}\n                    appliedFilters={appliedFilters}\n                  />\n                  <div className=\"scroll-wrapper-h\">{table}</div>\n                  {pagination}\n                </div>\n              </div>\n\n              {/* Modal for creating a new form */}\n              <Modal\n                isOpen={!!modalOpen}\n                toggle={() => toggleModal()}\n                size=\"lg\"\n              >\n                <div className=\"modal-header\">\n                  <h4 className=\"modal-title\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-link btn-delete\"\n                      onClick={() => toggleModal()}\n                    >\n                      <I18n>Close</I18n>\n                    </button>\n                    <span>\n                      <I18n>New Form</I18n>\n                    </span>\n                  </h4>\n                </div>\n                <FormForm\n                  kappSlug={kapp.slug}\n                  fieldSet={[\n                    'name',\n                    'slug',\n                    'status',\n                    'type',\n                    'submissionLabelExpression',\n                    'description',\n                  ]}\n                  onSave={() => form => {\n                    if (typeof modalOpen === 'string') {\n                      cloneFormRequest({\n                        kappSlug: kapp.slug,\n                        formSlug: form.slug,\n                        cloneFormSlug: modalOpen,\n                        callback: () => navigate(`${form.slug}/settings`),\n                      });\n                    } else {\n                      addToast(`${form.name} created successfully.`);\n                      navigate(`${form.slug}/settings`);\n                    }\n                  }}\n                  components={{ FormLayout, FormButtons }}\n                  alterFields={{\n                    description: { component: FormComponents.TextAreaField },\n                  }}\n                  addDataSources={\n                    typeof modalOpen === 'string'\n                      ? {\n                          cloneForm: {\n                            fn: fetchForm,\n                            params: [\n                              { kappSlug: kapp.slug, formSlug: modalOpen },\n                            ],\n                            transform: result => result.form || result,\n                          },\n                        }\n                      : undefined // Set to the form, or the result in case of an error\n                  }\n                >\n                  {({ form, initialized, bindings: { cloneForm } }) => {\n                    const isClone = typeof modalOpen === 'string';\n                    const cloneError = cloneForm && cloneForm.get('error');\n                    return initialized && (!isClone || cloneForm) ? (\n                      cloneError ? (\n                        <CloneErrorFormLayout />\n                      ) : (\n                        form\n                      )\n                    ) : (\n                      <LoadingFormLayout />\n                    );\n                  }}\n                </FormForm>\n              </Modal>\n            </div>\n          );\n        }}\n      </FormTable>\n    )\n  );\n};\n\nconst mapStateToProps = state => ({\n  kapp: state.app.kapp,\n  processing: state.settingsForms.processing,\n  queueSettings: state.queueSettings,\n  loading: state.queueSettings.loading,\n});\n\nconst mapDispatchToProps = {\n  deleteFormRequest: actions.deleteFormRequest,\n  cloneFormRequest: actions.cloneFormRequest,\n  fetchQueueSettings: queueActions.fetchQueueSettings,\n};\n\n// Settings Container\nexport const FormList = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withState('modalOpen', 'setModalOpen', false),\n  withState('filterOpen', 'setFilterOpen', false),\n  withHandlers({\n    toggleModal: props => slug =>\n      !slug || slug === props.modalOpen\n        ? props.setModalOpen(false)\n        : props.setModalOpen(slug),\n    deleteForm: props => (formSlug, onSuccess) =>\n      openConfirm({\n        title: 'Delete Form',\n        body: 'Are you sure you want to delete this form?',\n        confirmationText: formSlug,\n        confirmationTextLabel: 'form slug',\n        actionName: 'Delete',\n        ok: () =>\n          props.deleteFormRequest({\n            kappSlug: props.kapp.slug,\n            formSlug,\n            onSuccess,\n          }),\n      }),\n  }),\n  lifecycle({\n    componentDidMount() {\n      this.props.fetchQueueSettings();\n      mountTable(tableKey);\n    },\n    componentWillUnmount() {\n      unmountTable(tableKey);\n    },\n  }),\n)(FormListComponent);\n","import React, { Fragment } from 'react';\nimport {\n  I18n,\n  FormForm,\n  SubmissionSearch,\n  searchSubmissions,\n} from '@kineticdata/react';\nimport { compose, withHandlers } from 'recompose';\nimport { connect } from '../../../redux/store';\nimport {\n  FormComponents,\n  LoadingMessage,\n  addToast,\n} from '@kineticdata/bundle-common';\nimport {\n  actions,\n  buildFormConfigurationObject,\n} from '../../../redux/modules/settingsForms';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { PageTitle } from '../../shared/PageTitle';\nimport { List } from 'immutable';\n\nexport const FieldsTableField = props => (\n  <table className=\"table table-hover table--settings table-draggable\">\n    <thead>\n      <tr className=\"header\">\n        <th scope=\"col\">\n          <I18n>Field</I18n>\n        </th>\n        <th scope=\"col\">\n          <I18n>Visible in Table</I18n>\n        </th>\n      </tr>\n    </thead>\n    {props.value && (\n      <DragDropContext\n        onDragEnd={({ source, destination }) =>\n          destination &&\n          source.index !== destination.index &&\n          props.onChange(\n            props.value.update(cols => {\n              const col = cols.get(source.index);\n              return cols.delete(source.index).insert(destination.index, col);\n            }),\n          )\n        }\n      >\n        <Droppable droppableId=\"columns\">\n          {provided => (\n            <tbody ref={provided.innerRef}>\n              {props.value.map((col, index) => (\n                <Draggable key={col.name} draggableId={col.name} index={index}>\n                  {(provided, snapshot) => (\n                    <tr\n                      ref={provided.innerRef}\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}\n                      className={`${snapshot.isDragging ? 'dragging' : ''}`}\n                    >\n                      <td>\n                        {col.type === 'value' ? (\n                          <I18n>{col.label}</I18n>\n                        ) : (\n                          <i>\n                            <I18n>{col.label}</I18n>{' '}\n                            <small>\n                              <I18n>(system field)</I18n>\n                            </small>\n                          </i>\n                        )}\n                      </td>\n                      <td>\n                        <input\n                          onChange={e =>\n                            props.onChange(\n                              props.value.setIn(\n                                [index, 'visible'],\n                                e.target.checked,\n                              ),\n                            )\n                          }\n                          type=\"checkbox\"\n                          checked={col.visible}\n                        />\n                      </td>\n                    </tr>\n                  )}\n                </Draggable>\n              ))}\n            </tbody>\n          )}\n        </Droppable>\n      </DragDropContext>\n    )}\n    {props.helpText && (\n      <tfoot>\n        <tr>\n          <td colSpan=\"2\">\n            <small>{props.helpText}</small>\n          </td>\n        </tr>\n      </tfoot>\n    )}\n  </table>\n);\n\nconst fieldSet = [\n  'name',\n  'slug',\n  'status',\n  'type',\n  'submissionLabelExpression',\n  'description',\n  'attributesMap',\n  'submissionTableFields',\n  'prohibitSubtasks',\n  'permittedSubtasks',\n  'owningTeam',\n  'allowReassignment',\n  'assignableTeams',\n  'notificationComplete',\n  'notificationCreate',\n];\n\nconst FormLayout = ({ fields, error, buttons }) => (\n  <Fragment>\n    <h2 className=\"section__title\">\n      <span className=\"title\">\n        <I18n>General</I18n>\n      </span>\n    </h2>\n    <div className=\"form-group__columns\">\n      {fields.get('name')}\n      {fields.get('slug')}\n    </div>\n    <div className=\"form-group__columns\">\n      {fields.get('status')}\n      {fields.get('type')}\n    </div>\n    {fields.get('submissionLabelExpression')}\n    {fields.get('description')}\n    <br />\n    <h2 className=\"section__title\">\n      <span className=\"title\">\n        <I18n>Attributes</I18n>\n      </span>\n    </h2>\n    {fields.get('prohibitSubtasks')}\n    {fields.get('permittedSubtasks')}\n    {fields.get('owningTeam')}\n    {fields.get('allowReassignment')}\n    {fields.get('assignableTeams')}\n    {fields.get('notificationCreate')}\n    {fields.get('notificationComplete')}\n    <br />\n    <h2 className=\"section__title\">\n      <span className=\"title\">\n        <I18n>Submission Table - Default Columns</I18n>\n      </span>\n    </h2>\n    {fields.get('submissionTableFields')}\n    {error}\n    {buttons}\n  </Fragment>\n);\n\nconst asArray = value => (value ? [value] : []);\n\nconst notificationSearch = new SubmissionSearch(true)\n  .index('values[Name]')\n  .includes(['values'])\n  .limit(1000)\n  .build();\n\nexport const FormSettingsComponent = ({ form, kapp, onSave }) => {\n  return (\n    <FormForm\n      kappSlug={kapp.slug}\n      formSlug={form.slug}\n      fieldSet={fieldSet}\n      onSave={onSave}\n      components={{ FormLayout }}\n      addDataSources={{\n        notifications: {\n          fn: searchSubmissions,\n          params: [\n            {\n              datastore: true,\n              form: 'notification-data',\n              search: notificationSearch,\n            },\n          ],\n          transform: result => result.submissions,\n        },\n      }}\n      addFields={() => ({ form, notifications }) =>\n        form &&\n        notifications && [\n          {\n            name: 'prohibitSubtasks',\n            label: 'Prohibit Subtasks',\n            type: 'select',\n            helpText: \"Can users create subtasks for this form's submissions.\",\n            initialValue: form.getIn(['attributesMap', 'Prohibit Subtasks', 0]),\n            options: ['Yes', 'No'].map(el => ({\n              label: el,\n              value: el,\n            })),\n          },\n          {\n            name: 'permittedSubtasks',\n            label: 'Permitted Subtasks',\n            type: 'text-multi',\n            helpText:\n              \"Defines which forms may be submitted as subtasks to this form's submissions.\",\n            initialValue: form.getIn(['attributesMap', 'Permitted Subtasks', 0])\n              ? form\n                  .getIn(['attributesMap', 'Permitted Subtasks', 0])\n                  .split(',')\n              : [],\n          },\n          {\n            name: 'owningTeam',\n            label: 'Owning Team',\n            type: 'team-multi',\n            helpText: 'Teams responsible for maintaining this form.',\n            initialValue: form\n              .getIn(['attributesMap', 'Owning Team'], List())\n              .map(name => ({ name }))\n              .toJS(),\n          },\n          {\n            name: 'allowReassignment',\n            label: 'Allow Reassignment',\n            type: 'select',\n            helpText:\n              'Can submissions of this form be reassigned to other teams.',\n            initialValue: form.getIn([\n              'attributesMap',\n              'Allow Reassignment',\n              0,\n            ]),\n            options: ['Yes', 'No'].map(el => ({\n              label: el,\n              value: el,\n            })),\n          },\n          {\n            name: 'assignableTeams',\n            label: 'Assignable Teams',\n            type: 'team-multi',\n            helpText:\n              'Teams to which submissions of this form can be reassigned to.',\n            initialValue: form\n              .getIn(['attributesMap', 'Assignable Teams'], List())\n              .map(name => ({ name }))\n              .toJS(),\n          },\n          {\n            name: 'notificationCreate',\n            label: 'Notification Template Name - Create',\n            type: 'select',\n            renderAttributes: { typeahead: true },\n            helpText:\n              \"Name of the Notification Template to use when this form's submission is submitted. Defaults to value at Kapp level.\",\n            initialValue: form.getIn([\n              'attributesMap',\n              'Notification Template Name - Create',\n              0,\n            ]),\n            options: notifications\n              ? notifications\n                  .map(notification => ({\n                    label: notification.getIn(['values', 'Name']),\n                    value: notification.getIn(['values', 'Name']),\n                    slug: notification.get('id'),\n                  }))\n                  .toJS()\n              : [],\n            component: FormComponents.NotificationField,\n          },\n          {\n            name: 'notificationComplete',\n            label: 'Notification Template Name - Complete',\n            type: 'select',\n            renderAttributes: { typeahead: true },\n            helpText:\n              \"Name of the Notification Template to use when this form's submission is completed. Defaults to value at Kapp level.\",\n            initialValue: form.getIn([\n              'attributesMap',\n              'Notification Template Name - Complete',\n              0,\n            ]),\n            options: notifications\n              ? notifications\n                  .map(notification => ({\n                    label: notification.getIn(['values', 'Name']),\n                    value: notification.getIn(['values', 'Name']),\n                    slug: notification.get('id'),\n                  }))\n                  .toJS()\n              : [],\n            component: FormComponents.NotificationField,\n          },\n          {\n            name: 'submissionTableFields',\n            label: 'Submission Table - Fields',\n            type: 'custom',\n            helpText:\n              'Select which field columns should be visible by default when displaying submissions for this form in the settings pages. Drag and drop to change the order in which the columns will appear.',\n            initialValue: buildFormConfigurationObject(form.toJS()).columns,\n            component: FieldsTableField,\n          },\n        ]}\n      alterFields={{\n        description: { component: FormComponents.TextAreaField },\n        attributesMap: {\n          serialize: ({ values }) => ({\n            'Prohibit Subtasks': asArray(values.get('prohibitSubtasks')),\n            'Permitted Subtasks': asArray(\n              values.get('permittedSubtasks').join(','),\n            ),\n            'Owning Team': values\n              .get('owningTeam')\n              .map(team => team.get('name')),\n            'Allow Reassignment': asArray(values.get('allowReassignment')),\n            'Assignable Teams': values\n              .get('assignableTeams')\n              .map(team => team.get('name')),\n            'Notification Template Name - Create': asArray(\n              values.get('notificationCreate'),\n            ),\n            'Notification Template Name - Complete': asArray(\n              values.get('notificationComplete'),\n            ),\n            'Form Configuration': [\n              // TODO Update to allow for other props in Form Config attribute\n              JSON.stringify({\n                columns: values.get('submissionTableFields').toJS(),\n              }),\n            ],\n          }),\n        },\n      }}\n    >\n      {({ form: formContent, initialized }) => (\n        <div className=\"page-container\">\n          <div className=\"page-panel\">\n            <PageTitle\n              parts={[`${form.name} Settings`, 'Forms']}\n              settings\n              breadcrumbs={[\n                { label: 'Home', to: '/' },\n                { label: `${kapp.name} Settings`, to: '../../..' },\n                { label: 'Forms', to: '../..' },\n                { label: form.name, to: '..' },\n              ]}\n              title=\"Settings\"\n              actions={[\n                {\n                  label: 'Form Builder',\n                  icon: 'mouse-pointer',\n                  href: `/app/builder/#/${kapp.slug}/forms/${\n                    form.slug\n                  }/builder`,\n                },\n              ]}\n            />\n            {initialized ? (\n              <section className=\"form form-unstyled mb-5\">\n                {formContent}\n              </section>\n            ) : (\n              <LoadingMessage />\n            )}\n          </div>\n        </div>\n      )}\n    </FormForm>\n  );\n};\n\nconst mapStateToProps = state => ({\n  kapp: state.app.kapp,\n});\n\nconst mapDispatchToProps = { fetchFormRequest: actions.fetchForm };\n\nexport const FormSettings = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withHandlers({\n    onSave: props => () => () => {\n      props.fetchFormRequest({\n        kappSlug: props.kapp.slug,\n        formSlug: props.form.slug,\n      });\n      addToast(`${props.form.name} settings saved successfully.`);\n    },\n  }),\n)(FormSettingsComponent);\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { compose, lifecycle } from 'recompose';\nimport { TimeAgo } from '@kineticdata/bundle-common';\nimport { actions } from '../../../redux/modules/settingsForms';\nimport { I18n } from '@kineticdata/react';\nimport { connect } from '../../../redux/store';\nimport { PageTitle } from '../../shared/PageTitle';\n\nexport const FormActivityContainer = ({ loading, submission, kapp, space }) =>\n  !loading && (\n    <div className=\"page-container\">\n      <div className=\"page-panel\">\n        <PageTitle\n          parts={[\n            submission && submission.handle,\n            submission && submission.form && submission.form.name,\n            'Forms',\n          ]}\n          settings\n          breadcrumbs={[\n            { label: 'Home', to: '/' },\n            { label: `${kapp.name} Settings`, to: '../../../..' },\n            { label: 'Forms', to: '../../..' },\n            submission && { label: submission.form.name, to: '../..' },\n          ]}\n          title={submission && submission.handle}\n        />\n        <section>\n          <div className=\"data-list data-list--fourths\">\n            <dl>\n              <dt>Submission Label</dt>\n              <dd>{submission.label}</dd>\n            </dl>\n            <dl>\n              <dt>Submission Id</dt>\n              <dd>{submission.id}</dd>\n            </dl>\n            <dl>\n              <dt>Core State</dt>\n              <dd>{submission.coreState}</dd>\n            </dl>\n            <dl>\n              <dt>Time to Close</dt>\n              <dd>\n                {submission.closedAt ? (\n                  moment\n                    .duration(\n                      moment(submission.submittedAt).valueOf() -\n                        moment(submission.closedAt).valueOf(),\n                    )\n                    .humanize()\n                ) : (\n                  <I18n>Not closed yet</I18n>\n                )}\n              </dd>\n            </dl>\n            <dl>\n              <dt>Created</dt>\n              <dd>\n                <TimeAgo timestamp={submission.createdAt} />\n                <br />\n                <small>\n                  <I18n>by</I18n> {submission.createdBy}\n                </small>\n              </dd>\n            </dl>\n            <dl>\n              <dt>Submitted</dt>\n              <dd>\n                {submission.submittedAt ? (\n                  <Fragment>\n                    <TimeAgo timestamp={submission.submittedAt} />\n                    <br />\n                    <small>\n                      <I18n>by</I18n> {submission.submittedBy}\n                    </small>\n                  </Fragment>\n                ) : (\n                  <I18n>N/A</I18n>\n                )}\n              </dd>\n            </dl>\n            <dl>\n              <dt>Updated</dt>\n              <dd>\n                <TimeAgo timestamp={submission.updatedAt} />\n                <br />\n                <small>\n                  <I18n>by</I18n> {submission.updatedBy}\n                </small>\n              </dd>\n            </dl>\n            <dl>\n              <dt>Closed</dt>\n              <dd>\n                {submission.closedAt ? (\n                  <Fragment>\n                    <TimeAgo timestamp={submission.closedAt} />\n                    <br />\n                    <small>\n                      <I18n>by</I18n> {submission.closedBy}\n                    </small>\n                  </Fragment>\n                ) : (\n                  <I18n>N/A</I18n>\n                )}\n              </dd>\n            </dl>\n          </div>\n\n          <h3 className=\"section__title\">\n            <span className=\"title\">\n              <I18n>Fulfillment Process</I18n>\n            </span>\n          </h3>\n          <div className=\"section__content scroll-wrapper-h\">\n            {submission.activities.filter(activity => activity.type === 'Task')\n              .length > 0 ? (\n              <table className=\"table table-sm table-striped settings-table\">\n                <thead className=\"header\">\n                  <tr>\n                    <th>\n                      <I18n>Type</I18n>\n                    </th>\n                    <th>\n                      <I18n>Label</I18n>\n                    </th>\n                    <th>\n                      <I18n>Description</I18n>\n                    </th>\n                    <th>\n                      <I18n>Data</I18n>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {submission.activities\n                    .filter(activity => activity.type === 'Task')\n                    .map((activity, index) => {\n                      const data = activity.data\n                        ? JSON.parse(activity.data)\n                        : {};\n                      return (\n                        <tr key={`task-activity-${index}`}>\n                          <td>{activity.type}</td>\n                          <td>{activity.label}</td>\n                          <td>{activity.description}</td>\n                          <td>\n                            {Object.keys(data).map(key => (\n                              <div key={key}>\n                                {key}: {data[key]}\n                              </div>\n                            ))}\n                          </td>\n                        </tr>\n                      );\n                    })}\n                </tbody>\n              </table>\n            ) : (\n              <I18n>There are no fulfillment steps</I18n>\n            )}\n          </div>\n\n          <h3 className=\"section__title\">\n            <span className=\"title\">\n              <I18n>Submission Activity</I18n>\n            </span>\n          </h3>\n          <div className=\"section__content scroll-wrapper-h\">\n            {submission.activities.filter(activity => activity.type !== 'Task')\n              .length > 0 ? (\n              <table className=\"table table-sm table-striped settings-table\">\n                <thead className=\"header\">\n                  <tr>\n                    <th>\n                      <I18n>Type</I18n>\n                    </th>\n                    <th>\n                      <I18n>Label</I18n>\n                    </th>\n                    <th>\n                      <I18n>Description</I18n>\n                    </th>\n                    <th>\n                      <I18n>Data</I18n>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {submission.activities\n                    .filter(activity => activity.type !== 'Task')\n                    .map((activity, index) => {\n                      const data = activity.data\n                        ? JSON.parse(activity.data)\n                        : {};\n                      return (\n                        <tr key={`activity-${index}`}>\n                          <td>{activity.type}</td>\n                          <td>{activity.label}</td>\n                          <td>{activity.description}</td>\n                          <td>\n                            {Object.keys(data).map(key => (\n                              <div key={key}>\n                                {key}: {data[key]}\n                              </div>\n                            ))}\n                          </td>\n                        </tr>\n                      );\n                    })}\n                </tbody>\n              </table>\n            ) : (\n              <I18n>There is no submission activity</I18n>\n            )}\n          </div>\n\n          <h3 className=\"section__title\">\n            <span className=\"title\">\n              <I18n>Values</I18n>\n            </span>\n          </h3>\n          <div className=\"section__content scroll-wrapper-h\">\n            <table className=\"table table-sm table-striped settings-table\">\n              <thead className=\"header\">\n                <tr>\n                  <th>\n                    <I18n>Field</I18n>\n                  </th>\n                  <th>\n                    <I18n>Value</I18n>\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                {submission.form.fields.map(field => (\n                  <tr key={field.name}>\n                    <td>\n                      <I18n\n                        context={`kapps.${submission.form.kapp.slug}.forms.${\n                          submission.form.slug\n                        }`}\n                      >\n                        {field.name}\n                      </I18n>\n                    </td>\n                    <td>{submission.values[field.name]}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n\nconst mapStateToProps = state => ({\n  loading: state.settingsForms.submissionLoading,\n  submission: state.settingsForms.formSubmission,\n  space: state.app.space,\n  kapp: state.app.kapp,\n  activityLoading: state.settingsForms.submissionActivityLoading,\n});\n\nconst mapDispatchToProps = {\n  fetchFormSubmission: actions.fetchFormSubmission,\n};\n\nexport const FormActivity = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  lifecycle({\n    componentWillMount() {\n      this.props.fetchFormSubmission({\n        id: this.props.id,\n      });\n    },\n  }),\n)(FormActivityContainer);\n","import React, { Fragment } from 'react';\nimport { compose, withHandlers, withState, lifecycle } from 'recompose';\nimport downloadjs from 'downloadjs';\nimport papaparse from 'papaparse';\nimport { actions } from '../../../redux/modules/settingsForms';\nimport { connect } from '../../../redux/store';\nimport { I18n } from '@kineticdata/react';\n\nconst ExportComponent = ({\n  filter,\n  submissions,\n  exportStatus,\n  submissionsCount,\n  handleDownload,\n  form,\n}) => {\n  const filterLabel = Object.entries(filter.props.appliedFilters.toJS()).some(\n    ([key, value]) =>\n      key === 'values' ? Object.values(value).length : !!value,\n  )\n    ? 'Filtered'\n    : 'All';\n  return (\n    submissions && (\n      <Fragment>\n        <div className=\"text-center\">\n          {exportStatus === 'NOT_STARTED' ? (\n            <Fragment>\n              <h2>\n                <I18n>This process will export as a .csv file</I18n>\n              </h2>\n              <h4>\n                <I18n>Please don't close modal until confirmation</I18n>\n              </h4>\n              <button className=\"btn btn-primary\" onClick={handleDownload}>\n                {1 === 2 ? (\n                  <span>\n                    <I18n>Export Records for Query</I18n>\n                  </span>\n                ) : (\n                  <span>\n                    <I18n>Export {filterLabel} Records</I18n>\n                  </span>\n                )}\n              </button>\n            </Fragment>\n          ) : (\n            <Fragment>\n              <h2>\n                <I18n>Retrieving Records</I18n>\n              </h2>\n              <h4>\n                {submissionsCount} <I18n>records retrieved</I18n>\n              </h4>\n              {/* TODO: Warp user feedback in a conditional if exportStatus === Failed */}\n              {exportStatus === 'CONVERT' && (\n                <h4>\n                  <I18n>Converting Records to CSV format</I18n>\n                </h4>\n              )}\n              {exportStatus === 'DOWNLOAD' && (\n                <I18n\n                  render={translate => (\n                    <h4>{`${translate(\n                      'Downloading',\n                    )} ${submissionsCount} ${translate('Records to')} ${\n                      form.name\n                    }.csv`}</h4>\n                  )}\n                />\n              )}\n              {exportStatus === 'COMPLETE' && (\n                <Fragment>\n                  <I18n\n                    render={translate => (\n                      <h2>\n                        {`${submissionsCount} ${translate(\n                          'Records exported to',\n                        )} ${form.name}.csv`}\n                      </h2>\n                    )}\n                  />\n                  <h4>\n                    <I18n>Click Cancel to close the modal</I18n>\n                  </h4>\n                </Fragment>\n              )}\n            </Fragment>\n          )}\n        </div>\n      </Fragment>\n    )\n  );\n};\n\nfunction createCSV(submissions, form) {\n  // Create csv string that will be used for download\n  return papaparse.unparse(\n    submissions.reduce((acc, submission) => {\n      let submissionValues = submission.values;\n      /** Because of the parser use the fields currently on the form to build the csv string.\n       * This will exclude fields (from the csv) that existed on the form but have been removed.\n       */\n      form.fields.forEach(field => {\n        // If older submissions don't have a new field then add it with a value of null.\n        if (submissionValues.hasOwnProperty(field.name)) {\n          // Checkbox Array values must be stringifyed to retain their array brackets.\n          if (Array.isArray(submissionValues[field.name])) {\n            submissionValues[field.name] = JSON.stringify(\n              submissionValues[field.name],\n            );\n          }\n        } else {\n          submissionValues[field.name] = null;\n        }\n        return null;\n      });\n      acc.push({\n        'Submission Record ID': submission.id,\n        ...submissionValues,\n      });\n      return acc;\n    }, []),\n  );\n}\n\nconst handleDownload = props => () => {\n  const filter =\n    props.filter.props.appliedFilters &&\n    props.filter.props.appliedFilters.toJS();\n  const q = {};\n\n  if (filter.submittedBy) {\n    q['submittedBy'] = filter.submittedBy.username;\n  }\n\n  if (filter.values) {\n    Object.entries(filter.values).map(\n      ([key, value]) => (q[`values[${key}]`] = value),\n    );\n  }\n\n  props.fetchAllSubmissions({\n    formSlug: props.form.slug,\n    kappSlug: props.kappSlug,\n    accumulator: [],\n    createdAt:\n      filter.startDate || filter.endDate\n        ? {\n            startDate: filter.startDate ? new Date(filter.startDate) : null,\n            endDate: filter.endDate ? new Date(filter.endDate) : null,\n          }\n        : {},\n    coreState: filter.coreState || undefined,\n    q: q,\n  });\n  props.setExportStatus('FETCHING_RECORDS');\n};\n\nconst mapStateToProps = state => ({\n  kappSlug: state.app.kappSlug,\n  submissions: state.settingsForms.exportSubmissions,\n  submissionsCount: state.settingsForms.exportCount,\n});\n\nconst mapDispatchToProps = {\n  fetchAllSubmissions: actions.fetchAllSubmissions,\n  setExportSubmissions: actions.setExportSubmissions,\n};\n\nexport const Export = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withState('exportStatus', 'setExportStatus', 'NOT_STARTED'),\n  withHandlers({\n    handleDownload,\n  }),\n  lifecycle({\n    componentWillReceiveProps(nextProps) {\n      if (this.props.submissions.length !== nextProps.submissions.length) {\n        nextProps.setExportStatus('CONVERT');\n        const csv = createCSV(nextProps.submissions, nextProps.form);\n        // TODO: If CSV fails setExportStatus to FAILED\n        nextProps.setExportStatus('DOWNLOAD');\n        downloadjs(csv, nextProps.form.name + '.csv', 'text/csv');\n        nextProps.setExportStatus('COMPLETE');\n      }\n    },\n    componentWillUnmount() {\n      this.props.setExportSubmissions([]);\n    },\n  }),\n)(ExportComponent);\n","import React from 'react';\nimport { Modal, ModalBody } from 'reactstrap';\nimport { actions } from '../../../redux/modules/settingsForms';\nimport { connect } from '../../../redux/store';\nimport { Export } from './Export';\nimport { I18n } from '@kineticdata/react';\n\nconst ExportModalComponent = ({ modalIsOpen, closeModal, form, filter }) => (\n  <Modal isOpen={modalIsOpen} toggle={closeModal} size=\"lg\">\n    <div className=\"modal-header\">\n      <div className=\"modal-title\">\n        <button onClick={closeModal} type=\"button\" className=\"btn btn-link\">\n          <I18n>Cancel</I18n>\n        </button>\n        <span>\n          <I18n>Export Records</I18n>\n        </span>\n      </div>\n    </div>\n    <ModalBody className=\"modal-body--import-export\">\n      <div style={{ padding: '1.5rem' }}>\n        <Export filter={filter} form={form} />\n      </div>\n    </ModalBody>\n  </Modal>\n);\n\nconst mapStateToProps = state => ({\n  modalIsOpen: state.settingsForms.modalIsOpen,\n  modalName: state.settingsForms.modalName,\n});\n\nconst mapDispatchToProps = {\n  closeModal: actions.closeModal,\n};\n\nexport const ExportModal = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ExportModalComponent);\n","import React from 'react';\nimport { Link } from '@reach/router';\nimport { compose, withProps, withState, lifecycle } from 'recompose';\nimport { connect } from '../../../redux/store';\nimport {\n  I18n,\n  SubmissionTable,\n  mountTable,\n  unmountTable,\n} from '@kineticdata/react';\nimport { TimeAgo, TableComponents } from '@kineticdata/bundle-common';\nimport { PageTitle } from '../../shared/PageTitle';\nimport { ExportModal } from './ExportModal';\nimport {\n  actions,\n  buildFormConfigurationObject,\n} from '../../../redux/modules/settingsForms';\n\nconst tableKey = 'queue-settings-form-submissions';\n\nconst LinkCell = ({ row, value }) => (\n  <td>\n    <Link to={`submissions/${row.get('id')}`}>{value}</Link>\n  </td>\n);\n\nconst EmptyBodyRow = TableComponents.generateEmptyBodyRow({\n  loadingMessage: 'Loading Submissions...',\n  noSearchResultsMessage:\n    'No submissions were found - please modify your search criteria',\n  noItemsMessage: 'There are no submissions to display.',\n});\n\nexport const FormSubmissionsComponent = ({\n  kapp,\n  form,\n  columns,\n  openModal,\n  filterOpen,\n  setFilterOpen,\n}) => {\n  const FilterFormLayout = TableComponents.generateFilterFormLayout({\n    isOpen: filterOpen,\n    toggle: () => setFilterOpen(open => !open),\n    fieldsLayout: [\n      ['startDate', 'endDate'],\n      'coreState',\n      'submittedBy',\n      'values',\n    ],\n  });\n\n  const visibleSortColumns = columns.filter(\n    c => c.visible && ['createdAt', 'updatedAt'].includes(c.name),\n  );\n\n  const sortField =\n    visibleSortColumns.size > 0\n      ? visibleSortColumns.getIn([0, 'name'])\n      : 'updatedAt';\n\n  const visibleColumns = columns\n    .filter(c => c.visible)\n    .map((c, i) => ({\n      value: c.type === 'value' ? `_${c.name}` : c.name,\n      valueTransform:\n        c.type === 'value'\n          ? (_, row) => row.getIn(['values', c.name])\n          : undefined,\n      title: c.label,\n      sortable: ['createdAt', 'updatedAt'].includes(c.name),\n      components:\n        i === 0\n          ? { BodyCell: LinkCell }\n          : ['createdAt', 'updatedAt'].includes(c.name)\n            ? {\n                BodyCell: TableComponents.TimeAgoCell,\n              }\n            : c.name === 'coreState'\n              ? {\n                  BodyCell: TableComponents.CoreStateBadgeCell,\n                }\n              : undefined,\n    }))\n    .push(\n      visibleSortColumns.size === 0\n        ? {\n            value: 'updatedAt',\n            sortable: true,\n            components: { BodyCell: TableComponents.TimeAgoCell },\n          }\n        : undefined,\n    )\n    .filter(Boolean);\n\n  return (\n    form && (\n      <SubmissionTable\n        tableKey={tableKey}\n        kappSlug={kapp.slug}\n        formSlug={form.slug}\n        include={['values']}\n        components={{\n          EmptyBodyRow,\n          FilterFormLayout,\n          FilterFormButtons: TableComponents.FilterFormButtons,\n        }}\n        columnSet={visibleColumns.map(c => c.value).toJS()}\n        defaultSortColumn={sortField}\n        addColumns={visibleColumns.filter(c => !!c.valueTransform).toJS()}\n        alterColumns={visibleColumns.filter(c => !c.valueTransform).reduce(\n          (alter, { value, valueTransform, ...properties }) => ({\n            ...alter,\n            [value]: properties,\n          }),\n          {},\n        )}\n        filterSet={[\n          'startDate',\n          'endDate',\n          'submittedBy',\n          'coreState',\n          'values',\n        ]}\n        onSearch={() => () => setFilterOpen(false)}\n      >\n        {({ pagination, table, filter, appliedFilters, filterFormKey }) => {\n          return (\n            <div className=\"page-container\">\n              <div className=\"page-panel\">\n                <PageTitle\n                  parts={[form.name, `Forms`]}\n                  settings\n                  breadcrumbs={[\n                    { label: 'Home', to: '/' },\n                    { label: `${kapp.name} Settings`, to: '../..' },\n                    { label: 'Forms', to: '..' },\n                  ]}\n                  title={form.name}\n                  actions={[\n                    {\n                      label: 'Form Settings',\n                      icon: 'cog',\n                      to: 'settings',\n                    },\n                    {\n                      label: 'Export Records',\n                      onClick: () => openModal('export'),\n                      menu: true,\n                    },\n                  ]}\n                />\n                <div>\n                  <div className=\"data-list data-list--fourths\">\n                    <dl>\n                      <dt>Type</dt>\n                      <dd>\n                        {form.type || <em className=\"text-muted\">None</em>}\n                      </dd>\n                    </dl>\n                    <dl>\n                      <dt>Status</dt>\n                      <dd>\n                        {form.status || <em className=\"text-muted\">None</em>}\n                      </dd>\n                    </dl>\n                    <dl>\n                      <dt>Created</dt>\n                      <dd>\n                        <TimeAgo timestamp={form.createdAt} />\n                        <br />\n                        <small>\n                          <I18n>by</I18n> {form.createdBy}\n                        </small>\n                      </dd>\n                    </dl>\n                    <dl>\n                      <dt>Updated</dt>\n                      <dd>\n                        <TimeAgo timestamp={form.updatedAt} />\n                        <br />\n                        <small>\n                          <I18n>by</I18n> {form.updatedBy}\n                        </small>\n                      </dd>\n                    </dl>\n                    {form.description && (\n                      <div>\n                        <dl>\n                          <dt>Description</dt>\n                          <dd>{form.description}</dd>\n                        </dl>\n                      </div>\n                    )}\n                  </div>\n                  <h3 className=\"section__title\">\n                    <span className=\"title\">\n                      <I18n>Submissions</I18n>\n                    </span>\n                    {filter}\n                  </h3>\n                  <div className=\"section__content\">\n                    <TableComponents.FilterPills\n                      filterFormKey={filterFormKey}\n                      appliedFilters={appliedFilters}\n                    />\n                    <div className=\"scroll-wrapper-h\">{table}</div>\n                    {pagination}\n                  </div>\n                </div>\n              </div>\n              <ExportModal form={form} filter={filter} />\n            </div>\n          );\n        }}\n      </SubmissionTable>\n    )\n  );\n};\n\nconst mapStateToProps = state => ({\n  kapp: state.app.kapp,\n});\n\nconst mapDispatchToProps = {\n  openModal: actions.openModal,\n};\n\nexport const FormSubmissions = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withState('filterOpen', 'setFilterOpen', false),\n  withProps(props => ({\n    columns: buildFormConfigurationObject(props.form).columns,\n  })),\n  lifecycle({\n    componentDidMount() {\n      mountTable(tableKey);\n    },\n    componentWillUnmount() {\n      unmountTable(tableKey);\n    },\n  }),\n)(FormSubmissionsComponent);\n","import React from 'react';\nimport { Link, Router } from '@reach/router';\nimport { compose, lifecycle } from 'recompose';\nimport {\n  Card,\n  CardCol,\n  CardRow,\n  ErrorMessage,\n  LoadingMessage,\n} from '@kineticdata/bundle-common';\nimport { QueueSettings } from './QueueSettings';\nimport { actions as formActions } from '../../redux/modules/settingsForms';\nimport { PageTitle } from '../shared/PageTitle';\nimport { FormList } from './forms/FormList';\nimport { FormSettings } from './forms/FormSettings';\nimport { FormActivity } from './forms/FormActivity';\nimport { FormSubmissions } from './forms/FormSubmissions';\nimport { I18n } from '@kineticdata/react';\nimport { connect } from '../../redux/store';\n\n// Wrapper for components that require the form object\nexport const FormSettingsWrapper = compose(\n  connect(\n    state => ({\n      kapp: state.app.kapp,\n      form: state.settingsForms.currentForm,\n      error: state.settingsForms.error,\n    }),\n    { fetchFormRequest: formActions.fetchFormRequest },\n  ),\n  lifecycle({\n    componentWillMount(prev, next) {\n      this.props.fetchFormRequest({\n        kappSlug: this.props.kapp.slug,\n        formSlug: this.props.formSlug,\n      });\n    },\n  }),\n)(\n  ({ form, error, kapp }) =>\n    error || !form ? (\n      <div className=\"page-container\">\n        <div className=\"page-panel\">\n          <PageTitle\n            parts={[form && form.name, 'Forms']}\n            settings\n            breadcrumbs={[\n              { label: 'Home', to: '/' },\n              { label: `${kapp.name} Settings`, to: '../..' },\n              { label: 'Forms', to: '..' },\n            ]}\n          />\n          {error ? (\n            <ErrorMessage message={error.message} />\n          ) : (\n            <LoadingMessage />\n          )}\n        </div>\n      </div>\n    ) : (\n      <Router>\n        <FormSettings form={form} path=\"settings\" />\n        <FormActivity form={form} path=\"submissions/:id\" />\n        <FormSubmissions form={form} default />\n      </Router>\n    ),\n);\n\nexport const Settings = () => (\n  <Router>\n    <QueueSettings path=\"general\" />\n    <FormList path=\"forms\" />\n    <FormSettingsWrapper path=\"forms/:formSlug/*\" />\n    {/* <FormActivity path=\"forms/:id/activity\" /> */}\n    <SettingsNavigation default />\n  </Router>\n);\n\nconst SettingsCard = ({ path, icon, name, description }) => (\n  <Card\n    to={path}\n    color=\"light\"\n    components={{ Link }}\n    bar={true}\n    barColor=\"dark\"\n    barSize=\"xs\"\n  >\n    <CardCol>\n      <CardRow type=\"title\">\n        <span\n          className={`fa fa-${(icon || 'cog').replace(\n            /^fa-/i,\n            '',\n          )} fa-fw fa-rounded bg-dark`}\n        />\n        <span>\n          <I18n>{name}</I18n>\n        </span>\n      </CardRow>\n      <CardRow className=\"text-muted\">{description}</CardRow>\n    </CardCol>\n  </Card>\n);\n\nconst SettingsNavigationComponent = ({ kapp, isSpaceAdmin }) => (\n  <div className=\"page-container\">\n    <div className=\"page-panel\">\n      <PageTitle\n        settings\n        breadcrumbs={[{ label: 'Home', to: '/' }]}\n        title={`${kapp.name} Settings`}\n      />\n\n      <div className=\"cards cards--seconds\">\n        {isSpaceAdmin && (\n          <SettingsCard\n            name=\"General Settings\"\n            path=\"general\"\n            icon=\"fa-gear\"\n            description=\"View and Modify all Queue Settings\"\n          />\n        )}\n        <SettingsCard\n          name=\"Forms\"\n          path=\"forms\"\n          icon=\"fa-gear\"\n          description=\"View Forms and their Submissions.\"\n        />\n      </div>\n    </div>\n  </div>\n);\n\nconst mapStateToProps = state => ({\n  kapp: state.app.kapp,\n  isSpaceAdmin: state.app.profile.spaceAdmin,\n});\n\nexport const SettingsNavigation = compose(connect(mapStateToProps))(\n  SettingsNavigationComponent,\n);\n","import React from 'react';\nimport { Redirect } from '@reach/router';\nimport { compose, withHandlers, withState } from 'recompose';\nimport { CoreForm, I18n } from '@kineticdata/react';\nimport { connect } from '../redux/store';\nimport { PageTitle } from './shared/PageTitle';\nimport classNames from 'classnames';\n\nexport const FormPreviewComponent = ({\n  hasPreviewAccess,\n  kappSlug,\n  formSlug,\n  id,\n  appLocation,\n  handleLoaded,\n  handleCreated,\n  formName,\n}) => (\n  <div className=\"page-container\">\n    <div className={classNames('page-panel')}>\n      <PageTitle\n        parts={['Form Preview']}\n        breadcrumbs={[\n          { label: 'Home', to: '/' },\n          { label: 'Queue', to: appLocation },\n        ]}\n        title={\n          <div>\n            {formName && (\n              <span>\n                <I18n>{formName}</I18n>{' '}\n              </span>\n            )}\n            <small>\n              <I18n>(Form Preview)</I18n>\n            </small>\n          </div>\n        }\n      />\n      {hasPreviewAccess ? (\n        <CoreForm\n          submission={id}\n          kapp={kappSlug}\n          form={formSlug}\n          loaded={handleLoaded}\n          created={handleCreated}\n        />\n      ) : (\n        <Redirect to={appLocation} noThrow />\n      )}\n    </div>\n  </div>\n);\n\nexport const handleLoaded = props => form => {\n  props.setFormName(form.name());\n};\n\nexport const handleCreated = props => response => {\n  props.navigate(response.submission.id);\n};\n\nexport const mapStateToProps = (state, props) => ({\n  kappSlug: state.app.kappSlug,\n  appLocation: state.app.location,\n  hasPreviewAccess:\n    state.app.profile.spaceAdmin ||\n    state.app.kapp.authorization['Form Creation'] ||\n    state.app.kapp.authorization['Modification'],\n});\n\nexport const FormPreview = compose(\n  connect(mapStateToProps),\n  withState('formName', 'setFormName', ''),\n  withHandlers({\n    handleLoaded,\n    handleCreated,\n  }),\n)(FormPreviewComponent);\n","import React from 'react';\nimport { Redirect, Router } from '@reach/router';\nimport { compose, lifecycle, withHandlers } from 'recompose';\nimport { connect } from './redux/store';\nimport { ErrorMessage, LoadingMessage } from '@kineticdata/bundle-common';\nimport { is } from 'immutable';\nimport { I18n } from '@kineticdata/react';\nimport matchPath from 'rudy-match-path';\n\nimport { actions, selectMyTeamForms } from './redux/modules/queueApp';\nimport { actions as queueActions } from './redux/modules/queue';\nimport { actions as formsActions } from './redux/modules/forms';\n\nimport { PageTitle } from './components/shared/PageTitle';\nimport { QueueItemContainer } from './components/queue_item/QueueItem';\nimport { QueueListContainer } from './components/queue_list/QueueListContainer';\nimport { NewItemMenuContainer } from './components/new_item_menu/NewItemMenuContainer';\nimport { WorkMenuContainer } from './components/work_menu/WorkMenu';\nimport { Settings } from './components/settings/Settings';\nimport { FormPreview } from './components/FormPreview';\n\nconst CustomRedirect = props => (\n  <Redirect to={`${props.appLocation}/item/${props.id}`} noThrow />\n);\n\nconst AppComponent = props => {\n  return props.render({\n    classNames: {\n      header: matchPath(props.pathname, {\n        path: `${props.appLocation}/(list|team|custom|adhoc)/:name?`,\n        exact: true,\n      })\n        ? 'app-header--sticky'\n        : '',\n    },\n    main: props.error ? (\n      <ErrorMessage\n        title=\"Unexpected Error\"\n        message=\"Sorry, an unexpected error has occurred!\"\n      />\n    ) : props.loading ? (\n      <LoadingMessage />\n    ) : (\n      <I18n>\n        <main className=\"package-layout package-layout--queue\">\n          <PageTitle parts={['Loading...']} />\n          <Router>\n            <Settings path=\"settings/*\" />\n            <QueueListContainer path=\"list/:filter\" />\n            <QueueListContainer path=\"team/:filter\" />\n            <QueueListContainer path=\"custom/:filter\" />\n            <QueueListContainer path=\"adhoc\" />\n            <QueueItemContainer path=\"list/:filter/item/:id\" />\n            <QueueItemContainer path=\"team/:filter/item/:id\" />\n            <QueueItemContainer path=\"custom/:filter/item/:id\" />\n            <QueueItemContainer path=\"adhoc/item/:id\" />\n            <QueueItemContainer path=\"item/:id\" />\n            <Redirect from=\"/\" to={`${props.appLocation}/list/Mine`} noThrow />\n            <Redirect\n              from=\"submissions/:id\"\n              to={`${props.appLocation}/item/:id`}\n              noThrow\n            />\n            <CustomRedirect\n              path=\"forms/:formSlug/submissions/:id\"\n              appLocation={props.appLocation}\n            />\n            <Redirect\n              from=\"queue/filter/__show__/details/:id/summary\"\n              to={`${props.appLocation}/item/:id`}\n              noThrow\n            />\n            <FormPreview path=\"forms/:formSlug/:id\" />\n            <FormPreview path=\"forms/:formSlug\" />\n          </Router>\n          <NewItemMenuContainer />\n          <WorkMenuContainer />\n        </main>\n      </I18n>\n    ),\n  });\n};\n\nconst mapStateToProps = (state, props) => ({\n  loading: state.queueApp.loading,\n  error: state.queueApp.error,\n  defaultFilters: state.queueApp.filters,\n  teamFilters: state.queueApp.teamFilters,\n  myFilters: state.queueApp.myFilters,\n  counts: state.queueApp.filters\n    .toMap()\n    .mapEntries(([_, filter]) => [filter.name, state.queue.counts.get(filter)]),\n  hasTeams: state.queueApp.myTeams.size > 0,\n  hasForms:\n    selectMyTeamForms(state).filter(form => form.type === 'Task').length > 0,\n  appLocation: state.app.location,\n  pathname: state.router.location.pathname,\n});\n\nconst mapDispatchToProps = {\n  setFilter: actions.setFilter,\n  fetchAppDataRequest: actions.fetchAppDataRequest,\n  resetList: queueActions.fetchListReset,\n  openNewItemMenu: queueActions.openNewItemMenu,\n  fetchListCountRequest: queueActions.fetchListCountRequest,\n  fetchFormsRequest: formsActions.fetchFormsRequest,\n};\n\nconst enhance = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withHandlers({\n    handleOpenNewItemMenu: ({ openNewItemMenu }) => () => openNewItemMenu(),\n  }),\n  lifecycle({\n    componentDidMount() {\n      this.props.fetchAppDataRequest();\n      this.props.fetchFormsRequest();\n    },\n    componentDidUpdate(prevProps) {\n      if (!this.props.loading && prevProps.loading) {\n        // Fetch counts for default lists\n        this.props.defaultFilters\n          .filter(\n            filter => !this.props.filter || !is(filter, this.props.filter),\n          )\n          .forEach(this.props.fetchListCountRequest);\n      }\n    },\n    componentWillUnmount() {\n      this.props.resetList();\n    },\n  }),\n);\n\nexport const App = enhance(AppComponent);\n","import React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport { LocationProvider, Router } from '@reach/router';\nimport {\n  CommonProvider,\n  ModalFormContainer,\n  ToastsContainer,\n} from '@kineticdata/bundle-common';\nimport { is } from 'immutable';\nimport { connectedHistory, context, store } from './redux/store';\nimport { syncAppState } from './redux/modules/app';\nimport { App } from './App';\n\nimport { QueueCard } from './components/queue_list/QueueListItem';\n\nexport { QueueCard };\n\nexport default class extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ready: false };\n    // Listen to the local store to see if the embedded app is ready to be\n    // re-rendered. Currently this just means that the required props have been\n    // synced into the local store.\n    this.unsubscribe = store.subscribe(() => {\n      const ready = store.getState().app.ready;\n      if (ready !== this.state.ready) {\n        this.setState({ ready });\n      }\n    });\n  }\n\n  componentDidMount() {\n    Object.entries(this.props.appState).forEach(syncAppState);\n  }\n\n  componentDidUpdate(prevProps) {\n    Object.entries(this.props.appState)\n      .filter(([key, value]) => !is(value, prevProps.appState[key]))\n      .forEach(syncAppState);\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  render() {\n    return (\n      this.state.ready && (\n        <Provider store={store} context={context}>\n          <CommonProvider>\n            <LocationProvider hashRouting history={connectedHistory}>\n              <ToastsContainer duration={5000} />\n              <ModalFormContainer />\n              <Router>\n                <App\n                  render={this.props.render}\n                  path={`${this.props.appState.location}/*`}\n                />\n              </Router>\n            </LocationProvider>\n          </CommonProvider>\n        </Provider>\n      )\n    );\n  }\n\n  // Set to true if package allows public (unauthenticated) routes\n  static hasPublicRoutes = false;\n\n  // Class that will be added to the body when this package is rendered\n  static bodyClassName = 'package--queue';\n\n  // Relative route to package settings page\n  static settingsRoute = '/settings';\n}\n","import { store } from '../store';\n\nexport const types = {\n  SYNC_APP_STATE: 'SYNC_APP_STATE',\n};\n\nexport const reducer = (state = {}, action) => {\n  let newState = { ...state };\n  if (action.type === types.SYNC_APP_STATE) {\n    newState[action.payload.key] = action.payload.value;\n  }\n  // Conditional statement defining when the package has synced all of the\n  // required state from the app package and is ready\n  if (\n    newState.space &&\n    newState.kapp &&\n    (newState.profile || newState.authenticated === false) &&\n    newState.layoutSize\n  ) {\n    newState.ready = true;\n  } else {\n    newState.ready = false;\n  }\n  return newState;\n};\n\nexport const syncAppState = ([key, value]) => {\n  store.dispatch({ type: types.SYNC_APP_STATE, payload: { key, value } });\n};\n","import { reducer as app } from './modules/app';\n//import sampleReducer from './modules/sample';\nimport { formResponses as values } from './modules/formResponses';\n\nexport default {\n  app,\n  values,\n  // sample: sampleReducer,\n};\n","export const formResponses = (state = {}, action) => {\n  switch (action.type) {\n    case 'FORM_UPDATE':\n      return { ...state, [action.payload.name]: action.payload.response };\n    default:\n      return state;\n  }\n};\n","import { all } from 'redux-saga/effects';\n\n// import { watchSample } from './sagas/sample';\n\nexport default function* () {\n  yield all([\n    // watchSample(),\n  ]);\n}\n","import { createContext } from 'react';\nimport { connect as connectRedux } from 'react-redux';\nimport { applyMiddleware, combineReducers, compose, createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { createReduxHistoryContext, reachify } from 'redux-first-history';\nimport { history } from '@kineticdata/react';\nimport reducers from './reducers';\nimport sagas from './sagas';\n\nconsole.log('Configuring scaffold package redux store');\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({ name: 'SCAFFOLD' })\n  : compose;\n\nconst sagaMiddlware = createSagaMiddleware();\n\nconst {\n  createReduxHistory,\n  routerMiddleware,\n  routerReducer,\n} = createReduxHistoryContext({ history });\n\nexport const store = createStore(\n  combineReducers({\n    ...reducers,\n    router: routerReducer,\n  }),\n  composeEnhancers(applyMiddleware(routerMiddleware, sagaMiddlware)),\n);\n\nexport const connectedHistory = reachify(createReduxHistory(store));\n\nsagaMiddlware.run(sagas);\n\nexport const context = createContext(null);\n\nexport const connect = (\n  mapStateToProps = null,\n  mapDispatchToProps = null,\n  mergeProps = null,\n  options = {},\n) =>\n  connectRedux(mapStateToProps, mapDispatchToProps, mergeProps, {\n    ...options,\n    context,\n  });\n","import React from 'react';\nimport { Paper, Box } from '@mui/material';\n\nconst ComponentWrapper = ({ component, sx, elevation }) => {\n  return <Box sx={{ mt: '1rem' }}>{component}</Box>;\n};\n\nexport default ComponentWrapper;\n","export const styles = {\n  //   background: {\n  //     backgroundColor: '#2f2f2f', //'#f5fcff',\n  //   },\n  background: {\n    backgroundColor: '#f5fcff',\n  },\n  form: {\n    backgroundColor: 'white',\n    margin: '1rem auto',\n    padding: '2rem',\n    width: '80%',\n    borderRadius: '.5rem',\n  },\n  componentList: {\n    h1: {\n      textAlign: 'center',\n      marginTop: '2rem',\n      //   color: 'white',\n    },\n  },\n  divider: {\n    marginBottom: '3rem',\n  },\n};\n","import {\n  createDispatchHook,\n  createSelectorHook,\n} from '../../../node_modules/react-redux';\nimport { context } from '../store';\n\nexport const useSelector = createSelectorHook(context);\nexport const useDispatch = createDispatchHook(context);\n","import React, { useEffect, useState } from 'react';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport Box from '@mui/material/Box';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\nimport TextField from '@mui/material/TextField';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport Radio from '@mui/material/Radio';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Divider from '@mui/material/Divider';\n\nimport { Select, FormControl, InputLabel, MenuItem } from '@mui/material';\n\nimport { useDispatch } from '../../redux/hooks/hooks';\n\nimport { styles } from '../../assets/styles/styles';\n\nexport const CustomCheckbox = ({ element }) => {\n  const dispatch = useDispatch();\n  const [selected, setSelected] = useState([]);\n\n  const toggleSelected = e => {\n    let value = e.currentTarget.value;\n\n    if (selected.includes(value)) {\n      setSelected(selected.filter(el => el !== value));\n    } else {\n      setSelected([...selected, value]);\n    }\n  };\n\n  useEffect(\n    () => {\n      dispatch({\n        type: 'FORM_UPDATE',\n        payload: {\n          name: element.name,\n          response: selected,\n        },\n      });\n    },\n    [selected, dispatch, element.name],\n  );\n\n  return (\n    <>\n      <Typography variant=\"h6\">{element.label}</Typography>\n\n      <FormGroup>\n        {element.choices.map((choice, i) => {\n          let checked = selected.includes(choice.value);\n          return (\n            <FormControlLabel\n              control={<Checkbox value={choice.value} checked={checked} />}\n              label={choice.label}\n              key={i}\n              onChange={toggleSelected}\n            />\n          );\n        })}\n      </FormGroup>\n    </>\n  );\n};\n\nexport const CustomDropdown = ({ element }) => {\n  const [selection, setSelection] = useState('');\n  const dispatch = useDispatch();\n\n  const handleChange = (e, val) => {\n    setSelection(e.target.value);\n  };\n\n  useEffect(\n    () => {\n      dispatch({\n        type: 'FORM_UPDATE',\n        payload: {\n          name: element.name,\n          response: selection,\n        },\n      });\n    },\n    [selection],\n  );\n  return (\n    <>\n      <Typography variant=\"h6\">{element.label}</Typography>\n      <FormControl variant=\"standard\" sx={{ m: 1, minWidth: 180 }}>\n        <InputLabel id=\"demo-simple-select-standard-label\">\n          {element.label}\n        </InputLabel>\n        <Select\n          labelId=\"demo-simple-select-standard-label\"\n          id=\"demo-simple-select-standard\"\n          value={selection}\n          onChange={handleChange}\n          label=\"Age\"\n        >\n          {/* <MenuItem value=\"\">\n                    <em>None</em>\n                </MenuItem> */}\n          {element.choices.map((choice, i) => {\n            return (\n              <MenuItem value={choice.value} key={i}>\n                {choice.label}\n              </MenuItem>\n            );\n          })}\n        </Select>\n      </FormControl>\n    </>\n  );\n};\n\nexport const CustomSectionHeader = ({ element }) => {\n  let level = element.depth > 6 ? 6 : element.depth;\n  let Tag = `h${level}`;\n  return (\n    <>\n      {/* <Divider variant=\"middle\" style={{marginBottom: '1rem'}}/> */}\n      <Tag style={{ textAlign: 'center' }}>{element.title}</Tag>\n    </>\n  );\n};\n\nexport const CustomText = ({ element }) => {\n  return <Typography variant=\"p\">{element.text}</Typography>;\n};\n\nexport const ListPicker = ({ element }) => {\n  const dispatch = useDispatch();\n\n  //Filter already chosen choices out of dropdown\n  const [value, setValue] = useState([]);\n  let choices = element.choices.filter(el => !value.includes(el));\n\n  //dispatch an update to the store on selection\n  const handleSelect = val => {\n    dispatch({\n      type: 'FORM_UPDATE',\n      payload: {\n        name: element.name,\n        response: val,\n      },\n    });\n    setValue([...val]);\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"h6\">{element.label}</Typography>\n      <Autocomplete\n        multiple\n        required={element.required}\n        id=\"tags-standard\"\n        options={choices.map(choice => choice.label)}\n        value={value}\n        onChange={(e, val) => handleSelect(val)}\n        renderInput={params => (\n          <TextField\n            {...params}\n            variant=\"standard\"\n            // label={element.label || ''}\n            placeholder={element.label || ''}\n          />\n        )}\n      />\n    </Box>\n  );\n};\n\nexport const CustomHTML = ({ element }) => {\n  return (\n    <>\n      <div dangerouslySetInnerHTML={{ __html: element.text }} />\n    </>\n  );\n};\n\nexport const CustomRadio = ({ element }) => {\n  const dispatch = useDispatch();\n  const handleChange = (e, val) => {\n    dispatch({\n      type: 'FORM_UPDATE',\n      payload: {\n        name: element.name,\n        response: val,\n      },\n    });\n  };\n  return (\n    <>\n      <Typography variant=\"h6\">{element.label}</Typography>\n      <RadioGroup\n        aria-labelledby=\"demo-radio-buttons-group-label\"\n        defaultValue={element.defaultValue}\n        name={element.name}\n        onChange={handleChange}\n        required={element.required}\n      >\n        {element.choices.map(choice => {\n          return (\n            <FormControlLabel\n              value={choice.value}\n              control={<Radio required={element.required} />}\n              label={choice.label}\n              key={choice.label}\n            />\n          );\n        })}\n      </RadioGroup>\n    </>\n  );\n};\n\nexport const CustomSubmit = ({ element }) => {\n  return (\n    <Button\n      type=\"submit\"\n      variant={element.renderAttributes?.variant}\n      onClick={() => console.log('clicked')}\n    >\n      {element.label}\n    </Button>\n  );\n};\n\nexport const CustomDate = ({ element }) => {\n  let today = new Date();\n  const dispatch = useDispatch();\n  const handleChange = e => {\n    dispatch({\n      type: 'FORM_UPDATE',\n      payload: {\n        name: element.name,\n        response: e.target.value,\n      },\n    });\n  };\n  return (\n    <>\n      <Typography variant=\"h6\">{element.label}</Typography>\n      <TextField\n        type=\"date\"\n        defaultValue={today.toISOString().split('T')[0]}\n        InputLabelProps={{\n          shrink: true,\n        }}\n        onChange={handleChange}\n        required={element.required}\n      />\n    </>\n  );\n};\n\nexport const CustomDivider = () => {\n  return <Divider variant=\"middle\" style={styles.divider} />;\n};\n\nexport const CustomTextInput = ({ element }) => {\n  const dispatch = useDispatch();\n  // const [value, setValue] = useState('');\n\n  const handleChange = e => {\n    // setValue(e.target.value);\n    dispatch({\n      type: 'FORM_UPDATE',\n      payload: {\n        name: element.name,\n        response: e.target.value,\n      },\n    });\n  };\n  return (\n    <>\n      <Typography variant=\"h6\">{element.label}</Typography>\n      <TextField\n        // label={element.label}\n        variant=\"filled\"\n        onChange={handleChange}\n        size=\"small\"\n        required={element.required}\n        // value={value}\n      />\n    </>\n  );\n};\n","import React from 'react';\nimport {\n  ListPicker,\n  CustomCheckbox,\n  CustomDropdown,\n  CustomText,\n  CustomSectionHeader,\n  CustomHTML,\n  CustomRadio,\n  CustomSubmit,\n  CustomDate,\n  CustomDivider,\n  CustomTextInput,\n} from '../components/CustomComponents/CustomComponents.jsx';\n\n/**\n * Takes JSON form element and returns a custom JSX element\n * @param {Obj} element - Element or Section of form JSON\n * @returns {JSX} - Custom JSX form element\n */\nexport const pickComponent = element => {\n  let key = element.key;\n\n  //check for conditional validation\n  if (element.required && typeof element.required !== 'boolean') {\n    return <p>Conditional Validation not supported</p>;\n  }\n\n  // handle sections and dividers\n  if (element.type === 'section') {\n    return <CustomSectionHeader element={element} key={element.name} />;\n  } else if (element.type === 'button') {\n    if (element.renderType === 'submit-page') {\n      return <CustomSubmit element={element} key={element.name} />;\n    }\n  } else if (element.type === 'divider') {\n    return <CustomDivider />;\n  }\n\n  // handle 'field' elements\n  switch (element.renderType) {\n    case 'checkbox':\n      if (element.renderAttributes.variant === 'multiselect') {\n        return <ListPicker element={element} key={key} />;\n      } else {\n        return <CustomCheckbox element={element} key={key} />;\n      }\n    case 'dropdown':\n      return <CustomDropdown element={element} key={key} />;\n    case 'text':\n      if (element.type === 'content') {\n        return <CustomText element={element} key={key} />;\n      } else {\n        return <CustomTextInput element={element} key={key} />;\n      }\n    case 'html':\n      return <CustomHTML element={element} key={key} />;\n    case 'radio':\n      return <CustomRadio element={element} key={key} />;\n    case 'date':\n      return <CustomDate element={element} key={key} />;\n    default:\n      return (\n        <>\n          <p key={key}>Component not supported</p>\n          <pre>{JSON.stringify(element, null, 2)}</pre>\n        </>\n      );\n  }\n};\n","import React, { useEffect, useState } from 'react';\nimport { fetchForm, createSubmission } from '@kineticdata/react';\nimport ComponentWrapper from '../ComponentWrapper/ComponentWrapper';\nimport { FormGroup, Paper } from '@mui/material';\n\nimport { styles } from '../../assets/styles/styles';\nimport { pickComponent } from '../../lib/utils';\n\nimport { useSelector } from '../../redux/hooks/hooks';\n\nconst ComponentList = ({ kappSlug, formSlug }) => {\n  const formValues = useSelector(store => store.values);\n  const [formJson, setFormJson] = useState('');\n  const pages = formJson ? formJson.pages : [];\n  let fields = [];\n\n  // create flattened list of elements, and assign depth to sections\n  const getFormElements = (parent, depth = 1) => {\n    let elements = parent.elements;\n    for (let i = 0; i < elements.length; i++) {\n      let element = elements[i];\n\n      //assign depth to elements, and recursively unwrap contents\n      if (element.type === 'section') {\n        element.depth = depth;\n        fields.push(element);\n        getFormElements(element, depth + 1);\n\n        // add a divider if it's not the list element of the form\n        if (elements[i - 1]?.type !== 'divider' && elements[i + 1]) {\n          fields.push({ type: 'divider', visible: true });\n        }\n      } else {\n        fields.push(element);\n      }\n    }\n  };\n\n  for (let parent of pages) {\n    getFormElements(parent);\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    createSubmission({ kappSlug, formSlug, values: formValues })\n      .then(submission => console.log(submission))\n      .catch(err => console.log(err));\n    console.log('submitted');\n  };\n\n  // fetch supplied form, along with pages containing elements\n  useEffect(\n    () => {\n      fetchForm({\n        kappSlug: kappSlug,\n        formSlug: formSlug,\n        include: 'pages',\n      }).then(({ form }) => setFormJson(form));\n    },\n    [kappSlug, formSlug],\n  );\n\n  return (\n    <div style={styles.background}>\n      <form onSubmit={handleSubmit}>\n        <h1 style={styles.componentList.h1}>ComponentList</h1>\n\n        <FormGroup>\n          <Paper style={styles.form} elevation={8}>\n            {// iterate through form fields, wrapping custom components\n            fields.map(element => {\n              if (!element.visible) return;\n              return (\n                <ComponentWrapper\n                  component={pickComponent(element)}\n                  sx={{ margin: 'auto', width: '80%' }}\n                  key={element.key || Math.random()}\n                />\n              );\n            })}\n          </Paper>\n        </FormGroup>\n        <pre>{JSON.stringify(formJson, null, 2)}</pre>\n      </form>\n    </div>\n  );\n};\n\nexport default ComponentList;\n","import { createTheme } from '@mui/material/styles';\n\nexport let theme = createTheme({\n  palette: {\n    primary: {\n      main: '#3f51b5',\n    },\n    secondary: {\n      main: '#c62828',\n    },\n  },\n});\n","import React from 'react';\nimport { Redirect, Router } from '@reach/router';\nimport { compose, lifecycle } from 'recompose';\nimport {\n  ErrorUnexpected,\n  Loading,\n  PageTitle,\n} from '@kineticdata/bundle-common';\nimport { connect } from './redux/store';\nimport { I18n } from '@kineticdata/react';\nimport ComponentList from './components/ComponentList/ComponentList';\n\nimport { useSelector } from './redux/hooks/hooks';\n\nimport { ThemeProvider } from '@mui/material/styles';\nimport { theme } from './assets/styles/theme';\n\n/*****************************************************************************\n *** PRIVATE APP\n *****************************************************************************/\n\nconst AppComponent = props => {\n  const kapp = useSelector(store => store.app.kapp);\n\n  console.log('app', useSelector(store => store));\n\n  if (props.error) {\n    return <ErrorUnexpected />;\n  } else if (props.loading) {\n    return <Loading text=\"App is loading ...\" />;\n  } else {\n    return props.render({\n      main: (\n        <I18n>\n          <div className=\"package-layout package-layout--scaffold\">\n            <PageTitle parts={['Loading...']} />\n            <ThemeProvider theme={theme}>\n              <Router>\n                <ComponentList\n                  path=\"/\"\n                  kappSlug={kapp.slug}\n                  formSlug={kapp.attributesMap.renderForm}\n                />\n              </Router>\n            </ThemeProvider>\n          </div>\n        </I18n>\n      ),\n    });\n  }\n};\n\nconst mapStateToProps = state => ({\n  loading: false,\n  error: null,\n  appLocation: state.app.location,\n});\n\nconst mapDispatchToProps = {};\n\nexport const App = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  lifecycle({\n    componentDidMount() {},\n  }),\n)(AppComponent);\n\n/*****************************************************************************\n *** PUBLIC APP\n *****************************************************************************/\n\nexport const PublicAppComponent = props => {\n  return props.render({\n    main: (\n      <I18n>\n        <div className=\"package-layout package-layout--scaffold\">\n          <PageTitle parts={['Loading...']} />\n          <Router>\n            <Redirect from=\"*\" to={props.authRoute} noThrow />\n          </Router>\n        </div>\n      </I18n>\n    ),\n  });\n};\n\nconst mapStateToPropsPublic = state => ({\n  authRoute: state.app.authRoute,\n});\n\nexport const PublicApp = compose(connect(mapStateToPropsPublic))(\n  PublicAppComponent,\n);\n","import React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport matchPath from 'rudy-match-path';\nimport { LocationProvider, Router } from '@reach/router';\nimport {\n  CommonProvider,\n  ModalFormContainer,\n  ToastsContainer,\n} from '@kineticdata/bundle-common';\nimport { is } from 'immutable';\nimport { connectedHistory, context, store } from './redux/store';\nimport { syncAppState } from './redux/modules/app';\nimport { App, PublicApp } from './App';\n\nexport default class extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ready: false };\n    // Listen to the local store to see if the embedded app is ready to be\n    // re-rendered. Currently this just means that the required props have been\n    // synced into the local store.\n    this.unsubscribe = store.subscribe(() => {\n      const ready = store.getState().app.ready;\n      if (ready !== this.state.ready) {\n        this.setState({ ready });\n      }\n    });\n  }\n\n  componentDidMount() {\n    Object.entries(this.props.appState).forEach(syncAppState);\n  }\n\n  componentDidUpdate(prevProps) {\n    Object.entries(this.props.appState)\n      .filter(([key, value]) => !is(value, prevProps.appState[key]))\n      .forEach(syncAppState);\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  render() {\n    return (\n      this.state.ready && (\n        <Provider store={store} context={context}>\n          <CommonProvider>\n            <LocationProvider hashRouting history={connectedHistory}>\n              <ToastsContainer duration={5000} />\n              <ModalFormContainer />\n              <Router>\n                {this.props.appState.authenticated ? (\n                  <App\n                    render={this.props.render}\n                    path={`${this.props.appState.location}/*`}\n                  />\n                ) : (\n                  <PublicApp\n                    render={this.props.render}\n                    path={`${this.props.appState.location}/*`}\n                  />\n                )}\n              </Router>\n            </LocationProvider>\n          </CommonProvider>\n        </Provider>\n      )\n    );\n  }\n\n  // Functions for hiding/supressing parts of the default layout\n  static shouldHideHeader = props => true;\n  static shouldHideSidebar = props => true;\n  // static shouldSuppressSidebar = props => false\n\n  // Used for matching pathname to display this AppProvider\n  // Not used if package is set as Bundle Package of a Kapp\n  // static location = '/scaffold';\n\n  // Set to true if package allows public (unauthenticated) routes\n  static hasPublicRoutes = false;\n\n  // Class that will be added to the body when this package is rendered\n  static bodyClassName = 'package--scaffold';\n}\n","import { store } from '../store';\n\nexport const types = {\n  SYNC_APP_STATE: 'SYNC_APP_STATE',\n};\n\nexport const reducer = (state = {}, action) => {\n  let newState = { ...state };\n  if (action.type === types.SYNC_APP_STATE) {\n    newState[action.payload.key] = action.payload.value;\n  }\n  // Conditional statement defining when the package has synced all of the\n  // required state from the app package and is ready\n  if (\n    newState.space &&\n    newState.kapp &&\n    (newState.profile || newState.authenticated === false) &&\n    newState.layoutSize\n  ) {\n    newState.ready = true;\n  } else {\n    newState.ready = false;\n  }\n  return newState;\n};\n\nexport const syncAppState = ([key, value]) => {\n  store.dispatch({ type: types.SYNC_APP_STATE, payload: { key, value } });\n};\n","import { reducer as app } from './modules/app';\n//import sampleReducer from './modules/sample';\nimport { formResponses as values } from './modules/formResponses';\n\nexport default {\n  app,\n  values,\n  // sample: sampleReducer,\n};\n","export const formResponses = (state = {}, action) => {\n  switch (action.type) {\n    case 'FORM_UPDATE':\n      return { ...state, [action.payload.name]: action.payload.response };\n    default:\n      return state;\n  }\n};\n","import { all } from 'redux-saga/effects';\n\n// import { watchSample } from './sagas/sample';\n\nexport default function*() {\n  yield all([\n    // watchSample(),\n  ]);\n}\n","import { createContext } from 'react';\nimport { connect as connectRedux } from 'react-redux';\nimport { applyMiddleware, combineReducers, compose, createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { createReduxHistoryContext, reachify } from 'redux-first-history';\nimport { history } from '@kineticdata/react';\nimport reducers from './reducers';\nimport sagas from './sagas';\n\nconsole.log('Configuring vTeams package redux store');\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({ name: 'VTEAMS' })\n  : compose;\n\nconst sagaMiddlware = createSagaMiddleware();\n\nconst {\n  createReduxHistory,\n  routerMiddleware,\n  routerReducer,\n} = createReduxHistoryContext({ history });\n\nexport const store = createStore(\n  combineReducers({\n    ...reducers,\n    router: routerReducer,\n  }),\n  composeEnhancers(applyMiddleware(routerMiddleware, sagaMiddlware)),\n);\n\nexport const connectedHistory = reachify(createReduxHistory(store));\n\nsagaMiddlware.run(sagas);\n\nexport const context = createContext(null);\n\nexport const connect = (\n  mapStateToProps = null,\n  mapDispatchToProps = null,\n  mergeProps = null,\n  options = {},\n) =>\n  connectRedux(mapStateToProps, mapDispatchToProps, mergeProps, {\n    ...options,\n    context,\n  });\n","import React from 'react';\nimport './Priority.css';\n\nconst Priority = ({ level }) => {\n  if (!level) return <div>None</div>;\n  level = parseInt(level);\n  let text = '';\n  let c = 'dot-';\n  if (level === 4) {\n    text = 'Low';\n    c += 'green';\n  } else if (level === 3) {\n    text = 'Medium';\n    c += 'orange';\n  } else if (level === 2) {\n    text = 'High';\n    c += 'red';\n  } else if (level === 1) {\n    text = 'Critical';\n    c += 'red';\n  }\n\n  return (\n    <div className=\"flex\">\n      <span className={`priority-dot ${c}`} />\n      <span>{text}</span>\n    </div>\n  );\n};\n\nexport default Priority;\n","import React from 'react';\nimport Button from '@mui/material/Button';\nimport { bgColorPrimary, bgColorLight, colorWhite } from '../../App.scss';\nimport { navigate } from '@reach/router';\nimport { history } from '@kineticdata/react';\n/**\n * Props are passed down to the Button component.\n * Mode='light' provides a quick override.\n * @param {*} props\n * @returns\n */\nconst TeamsButton = props => {\n  //default styling\n  let mySx = {\n    height: '1.5rem',\n    margin: 'auto 4px',\n    fontSize: '0.7rem',\n    backgroundColor: bgColorPrimary,\n    '&:hover': {\n      color: colorWhite,\n      backgroundColor: bgColorLight,\n    },\n  };\n\n  //light mode styling\n  if (props.mode === 'light') {\n    mySx.backgroundColor = colorWhite;\n    mySx.color = 'black';\n    mySx['&:hover'] = {\n      color: colorWhite,\n      // border: '1px solid white',\n      boxShadow: 'inset 0px 0px 2px white, inset 0px 0px 2px white',\n      backgroundColor: bgColorLight,\n    };\n  }\n\n  // merge custom mySx with predefined mySx\n  if (props.sx) mySx = { ...mySx, ...props.sx };\n\n  return (\n    <Button\n      variant=\"contained\"\n      size=\"small\"\n      children=\"Submit\"\n      {...props}\n      sx={mySx}\n      onClick={\n        props.onClick || (() => props.linkpath && history.push(props.linkpath))\n      }\n    />\n  );\n};\n\nexport default TeamsButton;\n","import React, { useState } from 'react';\nimport LightbulbOutlinedIcon from '@mui/icons-material/LightbulbOutlined';\nimport ChevronRight from '@mui/icons-material/ChevronRight';\nimport './_KnowledgeWidget.scss';\n\nconst KnowledgeWidget = () => {\n  const [open, setOpen] = useState(false);\n  const widgetOpen = open ? 'knowledge-widget--open' : '';\n\n  const toggleOpen = () => setOpen(!open);\n\n  const iconConfig = {\n    color: 'white',\n    top: 8,\n    left: 5,\n    cursor: 'pointer',\n    opacity: open ? 0 : 1,\n    transition: 'all .8s',\n    position: 'absolute',\n    fontSize: 20,\n  };\n\n  const articles = [\n    {\n      title: 'First Article',\n      content:\n        'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum',\n    },\n    {\n      title: 'Second Article',\n      content:\n        'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum',\n    },\n    {\n      title: 'Third Article',\n      content:\n        'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum',\n    },\n  ];\n\n  return (\n    <div className={`knowledge-widget ${widgetOpen}`}>\n      <div className=\"widget-tab\">\n        <div className=\"widget-icon\">\n          <LightbulbOutlinedIcon\n            sx={{ ...iconConfig, opacity: open ? 0 : 1 }}\n            onClick={toggleOpen}\n          />\n          <ChevronRight\n            sx={{\n              ...iconConfig,\n              opacity: open ? 1 : 0,\n              transform: !open && 'rotate(270deg)',\n            }}\n            onClick={toggleOpen}\n          />\n        </div>\n        <div className=\"widget-title\">Knowledge Center</div>\n      </div>\n\n      <div className=\"knowledge-widget--content\">\n        {articles.map((article, i) => {\n          return (\n            <div className=\"knowledge-article\" key={i}>\n              <div className=\"article-title\">{article.title}</div>\n              <div className=\"article-content\">{article.content}</div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default KnowledgeWidget;\n","export const VTEAMS = {\n  KAPPSLUG: 'vteams',\n  TICKET_FORM_SLUG: 'vteams-ticket',\n  ACTIVITIES_FORM_SLUG: 'activities',\n  CLIENTS_FORM_SLUG: 'clients',\n  INTERNAL_NOTES_FORM_SLUG: 'internal-notes',\n  VERSION: '0.1.2'\n};\n\nexport const FORM_FIELDS = {\n  IS_WORK_LOG: 'isWorkLog',\n  HOURS_WORKED: 'Hours Worked',\n  BILLING_START: 'Billing Start Date',\n  MONTHLY_HOURS: 'Monthly Hours',\n}\n\nexport const ATTRIBUTES = {\n  ORGANIZATION: 'Organization',\n}\n","import React, { useState } from 'react';\nimport { Select, InputLabel, MenuItem, Input } from '@mui/material';\n\nimport Priority from '../Priority/Priority';\nimport TeamsButton from '../TeamsButton/TeamsButton';\nimport { TextField } from '@mui/material';\nimport { bgColorPrimary } from '../../assets/styles/_variables.scss';\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\n\nimport './_TicketSubmission.scss';\nimport KnowledgeWidget from '../KnowledgeWidget/KnowledgeWidget';\nimport { PageTitle } from '@kineticdata/bundle-common';\n\nimport { CoreForm } from '@kineticdata/react';\nimport { VTEAMS } from '../../../globals/globals';\n\nconst TicketSubmission = ({ ticket }) => {\n  const [shortDescription, setShortDescription] = useState('');\n  // const [estimate, setEstimate] = useState(' hours');\n\n  const prioritySelections = [1, 2, 3].map(num => {\n    return (\n      <MenuItem value={num} key={num}>\n        <Priority level={num} />\n      </MenuItem>\n    );\n  });\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(e);\n  };\n\n  const completed = () => <div>Form Submitted!</div>;\n\n  return (\n    <>\n      {/* Knowledge Widget */}\n      <PageTitle parts={['New Ticket']} />\n      <KnowledgeWidget />\n      {/* Main Page Content */}\n      <div className=\"page-panel\">\n        <div className=\"card-wrapper ticket-submission\">\n          <CoreForm\n            kapp={VTEAMS.KAPPSLUG}\n            form={VTEAMS.TICKET_FORM_SLUG}\n            onError={err => alert(err)}\n            onCreated={() => alert('form created')}\n            onCompleted={() => alert('form completed')}\n            components={{}}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default TicketSubmission;\n","import React from 'react';\nimport { compose, lifecycle } from 'recompose';\nimport { connect } from '../redux/store';\nimport TicketSubmission from './TicketSubmission/TicketSubmission';\nimport BreadCrumbContainer from './BreadCrumbs/BreadCrumbs';\n\nconst HomeComponent = props => {\n  const demoTicket = {\n    number: '0003492',\n  };\n\n  return (\n    <div className=\"page-container\">\n      <div className=\"page-panel\">\n        <TicketSubmission ticket={demoTicket} />\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  appLocation: state.app.location,\n});\n\nconst mapDispatchToProps = {};\n\nexport const Home = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  lifecycle({\n    componentDidMount() {},\n  }),\n)(HomeComponent);\n","import { searchSubmissions } from '@kineticdata/react';\n\n/**\n * Counts open tickets of the provided priority level\n * @param {object[]} tickets\n * @param {number} level\n * @param {boolean} countClosed\n * @returns number of tickets\n */\nexport const countPriorityTickets = (tickets, level, countClosed = false) => {\n  return tickets.filter(\n    ({ status, priority }) => (status || countClosed) && priority === level,\n  ).length;\n};\n\nexport const isFulfiller = userProfile =>\n  userProfile.memberships.map(mem => mem.team.name).includes('vTeams');\n\n/**\n * Takes in KD searchSubmissions options,\n * and recursively builds an array aggregated all paginated results\n * @param {object} opts - Kinetic Data searchSubmissions options obj\n * @param {*} results\n * @returns Array of submissions\n */\nexport const getPaginated = async (opts, results = []) => {\n  const response = await searchSubmissions(opts);\n  if (response.nextPageToken) {\n    return getPaginated(\n      { nextPageToken: response.nextPageToken },\n      results.concat(response.submissions),\n    );\n  } else {\n    return results.concat(response.submissions);\n  }\n};\n","import React, { useState } from 'react';\nimport TeamsButton from '../TeamsButton/TeamsButton';\nimport { SearchNormal1 } from 'iconsax-react';\nimport { fontMedium } from '../../App.scss';\nimport { DataGrid } from '@mui/x-data-grid';\nimport {\n  bgColorPrimary,\n  colorWhite,\n} from '../../assets/styles/_variables.scss';\nimport { history } from '@kineticdata/react';\n\nimport './_TicketTable.scss';\n\nimport URLS from '../../../globals/urls.js';\nimport Priority from '../Priority/Priority';\n\nimport { isFulfiller } from '../../lib/utils';\nimport { useSelector } from 'react-redux';\n\nconst TicketTable = ({\n  columns = [],\n  rows = [],\n  createBtn = false,\n  viewAllBtn = false,\n}) => {\n  const [value, setValue] = useState('');\n  const userProfile = useSelector(store => store.app.profile);\n  const fulfiller = isFulfiller(userProfile);\n\n  const handleRowClick = e => {\n    history.push(`${URLS.CLIENT_SUBMIT}/${e.id}`);\n  };\n\n  //Basic search bar functionality\n  const fields = columns.map(col => col.field);\n  const re = new RegExp(value, 'ig');\n  const filteredRows = rows?.filter(row => {\n    return (\n      !value ||\n      fields.some(field => {\n        return typeof row[field] == 'string' && row[field].match(re);\n      })\n    );\n  });\n\n  //massage columns\n  for (let col of columns) {\n    if (col.field === 'Title') {\n      col.flex = 2;\n    }\n    if (col.field === 'Requested Date Due') {\n      col.flex = 1;\n    }\n    if (col.field === 'Description') {\n      col.flex = 2;\n    }\n    if (col.field === 'Estimate') {\n      col.flex = 0.5;\n    }\n    if (col.field === 'Attachments') {\n      col.flex = 0.5;\n      col.renderCell = params => {\n        if (!params.value) return;\n        return (\n          <div>\n            {params.row.Attachments.map((el, key, arr) => {\n              return (\n                <a href={el.link} key={key}>\n                  {el.name}\n                  {key < arr.length - 1 && ', '}\n                </a>\n              );\n            })}\n          </div>\n        );\n      };\n      col.valueGetter = params => {\n        if (params.value.length < 1) {\n          return;\n        } else {\n          return params.value.map(el => el.name).join(', ');\n        }\n      };\n    }\n    if (col.field === 'Priority' || col.field === 'Urgency') {\n      col.renderCell = params => <Priority level={params.value} />;\n    }\n  }\n\n  const colOrder = ['Title', 'Description', 'Requested Date'];\n\n  const filteredColumns = columns.filter(col => {\n    if (colOrder.includes(col.field)) {\n      col.index = colOrder.indexOf(col.field);\n    } else {\n      col.index = 999;\n    }\n\n    const exclude = ['Number', 'Organization ID'];\n    if (!fulfiller) {\n      exclude.push(['Organization']);\n    }\n    return !exclude.some(el => el === col.field);\n  });\n\n  filteredColumns.sort((a, b) => a.index - b.index);\n\n  return (\n    <div className=\"item-container card-wrapper no-padding datagrid-container\">\n      <div className=\"datagrid-header flex\">\n        <div className=\"search-icon-wrapper\">\n          {/* <SearchIcon fontSize=\"inherit\" /> */}\n          <SearchNormal1\n            size={fontMedium}\n            onChange={e => setValue(e.target.value)}\n          />\n        </div>\n        <input\n          type=\"text\"\n          className=\"datagrid-search\"\n          placeholder=\"Search\"\n          value={value}\n          onChange={e => setValue(e.target.value)}\n        />\n        <div className=\"flex-container--right\">\n          {viewAllBtn && <TeamsButton mode=\"dark\">View All</TeamsButton>}\n          {createBtn && (\n            <TeamsButton mode=\"light\" linkpath={URLS.CLIENT_SUBMIT}>\n              Create New\n            </TeamsButton>\n          )}\n        </div>\n      </div>\n      <div style={{ display: 'flex', height: '100%' }}>\n        <div style={{ flexGrow: 1 }}>\n          <DataGrid\n            rows={filteredRows}\n            columns={filteredColumns}\n            onRowClick={handleRowClick}\n            sx={{\n              bgcolor: 'white',\n              borderTop: 'none',\n              '.MuiDataGrid-columnHeaders': {\n                backgroundColor: bgColorPrimary,\n                color: colorWhite,\n                borderTopLeftRadius: 0,\n                borderTopRightRadius: 0,\n              },\n              '.MuiDataGrid-menuIconButton': {\n                color: colorWhite,\n                opacity: 1,\n              },\n              '.MuiDataGrid-filterIcon': {\n                color: colorWhite,\n                opacity: 1,\n              },\n              '.MuiDataGrid-sortIcon': {\n                color: colorWhite,\n                opacity: 1,\n              },\n            }}\n            density=\"compact\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TicketTable;\n","/**\n * Parses list of submissions retrieved with the Kinetic searchSubmission API,\n * and formats them for use in a MUI tablegrid component\n * \n * @param {array} submissions Array of kinetic submissions with included values \n * @returns {array} array with format [columnHeaders, rows]\n */\nexport const parseSubsToTablegrid = (submissions) => {\n    const [cs, rs] = [[], []];\n\n    if (submissions.length > 0) {\n        for (let key in submissions[0].values) {\n            cs.push({ field: key, headerName: key, flex: 1})\n        }\n        for (let sub of submissions) {\n            let vals = {\n                ...sub.values,\n                id: sub.id,\n            }\n\n            // for (let key in vals) {\n            //   console.log(vals[key]);\n            //   // if (Array.isArray(vals[key])) {\n\n            //   // }\n            // }\n            rs.push(vals);\n        }\n    }\n    return [cs, rs];\n}\n\n/**\n * Takes in a number 1-3 and returns a string priority\n * @param {number} num Priority level, 1 as lowest\n * @returns String value representing priority\n */\nexport const parsePriority = (num) => {\n    const priorities = ['Low', 'Medium', 'High'];\n    return priorities[num];\n}","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport './DashboardV2.scss';\nimport {\n  bgColorPrimary,\n  colorWhite,\n} from '../../assets/styles/_variables.scss';\nimport { Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n\nimport { PageTitle } from '@kineticdata/bundle-common';\n\nimport TicketTable from '../TicketTable/TicketTable';\n\nimport { searchSubmissions, SubmissionSearch } from '@kineticdata/react';\nimport { parseSubsToTablegrid } from '../../../../customUtils/utils.js';\n\nimport { Utils } from '@kineticdata/bundle-common';\nimport { isFulfiller } from '../../lib/utils';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n);\n\nconst Dashboard = () => {\n  const [rowData, setRowData] = useState('');\n  let [columns, rows] = parseSubsToTablegrid(rowData);\n  const userProfile = useSelector(store => store.userProfile);\n\n  const fulfiller = isFulfiller(userProfile);\n  // fetch submissions\n  useEffect(() => {\n    const search = new SubmissionSearch().include('values').build();\n\n    searchSubmissions({ kapp: 'vteams', form: 'tickets', search }).then(\n      result => setRowData(result.submissions),\n    );\n  }, []);\n\n  return (\n    <>\n      <PageTitle parts={['Home']} />\n      <div className=\"dashboard page-panel\">\n        <div className=\"table-wrapper\">\n          <TicketTable columns={columns} rows={rows} createBtn />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Dashboard;\n","import React from 'react';\nimport { VTEAMS } from '../../../globals/globals';\nimport './Footer.scss';\n\nexport const Footer = () => {\n  return (\n    <footer className=\"flex flex-align-vert flex-center\">\n      <div>\n        <div>esolutionsONE - vTEAMS</div>\n        <div className=\"flex flex-center footer-link-container\">\n          -\n          <a>Contact Us</a>\n          -\n          <a>Privacy Policy</a>\n          -\n          <a>Report an Issue</a>\n          -\n        </div>\n        <div>Version {VTEAMS.VERSION}</div>\n      </div>\n    </footer>\n  );\n};\n","import React from 'react';\nimport './_Activity.scss';\n\nconst Activity = ({ submission }) => {\n  const { values, submittedAt, submittedBy } = submission;\n  const [date, time] = submittedAt.split('T');\n  const hours = submission.values['Hours Worked'];\n\n  //assign conditional classes to activity items\n  const classes = [\n    `${values.isFulfiller === 'true' && 'isFulfiller'}`,\n    `${values.isInternal && 'isInternal'}`,\n  ].join(' ');\n\n  return (\n    <div className={`activity-container ${classes}`}>\n      <div className=\"comment-header\">\n        <div>\n          {values['Commenter']}: {date} {time.split('.')[0]}\n        </div>\n        {hours && <div>Hours Worked: {submission.values['Hours Worked']}</div>}\n      </div>\n      <div className=\"comment-content\">{values['Comment']}</div>\n    </div>\n  );\n};\n\nexport default Activity;\n","export const projects = [\n  {\n    name: 'IT Portal Project',\n    client: 'Hazelden',\n    overallTime: 136,\n    timeLeft: 43,\n    countOpen() {\n      return this.tickets.filter(({ status }) => status === 'open').length;\n    },\n    tickets: [\n      {\n        status: 'open',\n        date: new Date(),\n        priority: 3,\n        shortDescription: 'Lorem Ipsum',\n        ticketOwner: null,\n        assignedTo: 'Eric N.',\n        id: 320401,\n      },\n      {\n        status: 'open',\n        date: new Date(),\n        priority: 3,\n        shortDescription: 'Lorem Ipsum',\n        ticketOwner: null,\n        assignedTo: 'Noah B.',\n        id: 320415,\n      },\n      {\n        status: 'open',\n        date: new Date(),\n        priority: 2,\n        shortDescription: 'Lorem Ipsum',\n        ticketOwner: null,\n        assignedTo: 'Daniel H.',\n        id: 593592,\n      },\n      {\n        status: 'open',\n        date: new Date(),\n        priority: 3,\n        shortDescription: 'Lorem Ipsum',\n        ticketOwner: null,\n        assignedTo: 'Matthew H.',\n        id: 249495,\n      },\n    ],\n  },\n  {\n    name: 'Portal Project',\n    client: 'Hazelden',\n    overallTime: 400,\n    timeLeft: 234,\n    countOpen() {\n      return this.tickets.filter(({ status }) => status === 'open').length;\n    },\n    tickets: [\n      {\n        status: 'open',\n        date: new Date(),\n        priority: 3,\n        shortDescription: 'Lorem Ipsum',\n        ticketOwner: null,\n        assignedTo: 'Eric N.',\n        id: 320401,\n      },\n      {\n        status: 'open',\n        date: new Date(),\n        priority: 3,\n        shortDescription: 'Lorem Ipsum',\n        ticketOwner: null,\n        assignedTo: 'Noah B.',\n        id: 320415,\n      },\n      {\n        status: 'open',\n        date: new Date(),\n        priority: 2,\n        shortDescription: 'Lorem Ipsum',\n        ticketOwner: null,\n        assignedTo: 'Daniel H.',\n        id: 593592,\n      },\n      {\n        status: 'open',\n        date: new Date(),\n        priority: 3,\n        shortDescription: 'Lorem Ipsum',\n        ticketOwner: null,\n        assignedTo: 'Matthew H.',\n        id: 249495,\n      },\n    ],\n  },\n  {\n    name: 'UI Builder Project',\n    client: 'Hazelden',\n    overallTime: 400,\n    timeLeft: 234,\n    countOpen() {\n      return this.tickets.filter(({ status }) => status === 'open').length;\n    },\n    tickets: [\n      {\n        status: 'open',\n        date: new Date(),\n        priority: 3,\n        shortDescription: 'Lorem Ipsum',\n        ticketOwner: null,\n        assignedTo: 'Eric N.',\n        id: 320401,\n      },\n      {\n        status: 'open',\n        date: new Date(),\n        priority: 3,\n        shortDescription: 'Lorem Ipsum',\n        ticketOwner: null,\n        assignedTo: 'Noah B.',\n        id: 320415,\n      },\n      {\n        status: 'open',\n        date: new Date(),\n        priority: 2,\n        shortDescription: 'Lorem Ipsum',\n        ticketOwner: null,\n        assignedTo: 'Daniel H.',\n        id: 593592,\n      },\n      {\n        status: 'open',\n        date: new Date(),\n        priority: 3,\n        shortDescription: 'Lorem Ipsum',\n        ticketOwner: null,\n        assignedTo: 'Matthew H.',\n        id: 249495,\n      },\n    ],\n  },\n];\n","import React, { useEffect, useState } from 'react';\nimport {\n  SubmissionSearch,\n  searchSubmissions,\n  createSubmission,\n  fetchSubmission,\n} from '@kineticdata/react';\nimport Activity from './Activity/Activity.jsx';\nimport './_Activities.scss';\nimport TeamsButton from '../TeamsButton/TeamsButton.jsx';\nimport { useSelector } from 'react-redux';\nimport { getPaginated } from '../../lib/utils.js';\nimport { FORM_FIELDS, VTEAMS } from '../../../globals/globals.js';\n\nconst Activities = ({ id }) => {\n  const [activities, setActivities] = useState([]);\n  const [commentText, setCommentText] = useState('');\n  const [hoursSpent, setHoursSpent] = useState('');\n  const [reFetch, setReFetch] = useState(false);\n  const [internalMode, setInternalMode] = useState(false);\n  const [ticketOrg, setTicketOrg] = useState('');\n  const [workLogChecked, setWorkLogChecked] = useState(false);\n\n  const userProfile = useSelector(store => store.app.profile);\n  const isFulfiller = userProfile.memberships\n    .map(mem => {\n      return mem.team.name;\n    })\n    .includes('vTeams');\n  const textareaClasses = internalMode ? 'internal' : '';\n\n  const handleSubmit = e => {\n    const formSlug = internalMode\n      ? VTEAMS.INTERNAL_NOTES_FORM_SLUG\n      : VTEAMS.ACTIVITIES_FORM_SLUG;\n    const kappSlug = VTEAMS.KAPPSLUG;\n    const { IS_WORK_LOG, HOURS_WORKED } = FORM_FIELDS;\n\n    e.preventDefault();\n\n    let values = {\n      'Ticket ID': id,\n      Comment: commentText,\n      Commenter: userProfile.displayName,\n      isFulfiller: isFulfiller,\n      Organization: ticketOrg,\n      [IS_WORK_LOG]: workLogChecked,\n    };\n\n    // Append hoursSpent if necessary\n    if (hoursSpent) {\n      values[HOURS_WORKED] = hoursSpent;\n    }\n\n    createSubmission({ kappSlug, formSlug, values })\n      .then(submission => {\n        console.log('submitted:', submission);\n        setCommentText('');\n        setHoursSpent('');\n        setReFetch(!reFetch);\n      })\n      .catch(err => console.log(err));\n  };\n\n  useEffect(\n    () => {\n      // Retrieve Ticket Data\n      fetchSubmission({ id, include: 'values' })\n        .then(result => setTicketOrg(result.submission.values['Organization']))\n        .catch(err => console.log(err));\n\n      // Retrieve comments\n      const fetchActivities = async () => {\n        const search = new SubmissionSearch()\n          .eq('values[Ticket ID]', id)\n          .include('values')\n          .build();\n\n        try {\n          const comments = await getPaginated({\n            kapp: VTEAMS.KAPPSLUG,\n            form: VTEAMS.ACTIVITIES_FORM_SLUG,\n            search,\n          });\n\n          let internalComments;\n          let results;\n          if (isFulfiller) {\n            internalComments = await getPaginated({\n              kapp: VTEAMS.KAPPSLUG,\n              form: VTEAMS.INTERNAL_NOTES_FORM_SLUG,\n              search,\n            });\n\n            //Tag internalComments for conditional display\n            internalComments.forEach(submission => {\n              submission.values.isInternal = true;\n            });\n\n            results = [...comments, ...internalComments];\n          } else {\n            results = comments;\n          }\n\n          //sort comments by date\n          results.sort((a, b) => {\n            return new Date(b.submittedAt) - new Date(a.submittedAt);\n          });\n\n          setActivities(results);\n          setInternalMode(false);\n        } catch (e) {\n          console.log(e);\n        }\n      };\n      fetchActivities();\n    },\n    [id, reFetch],\n  );\n\n  const toggleInternal = () => {\n    setHoursSpent('');\n    setWorkLogChecked(false);\n    setInternalMode(!internalMode);\n  };\n\n  return (\n    <div className=\"card-wrapper activities\">\n      <h2>Notes and Comments</h2>\n\n      <div>\n        {/* <div>Add new Comment:</div> */}\n        <form onSubmit={handleSubmit}>\n          {isFulfiller && (\n            <div className=\"hours-container\">\n              {!internalMode && (\n                <div className=\"comment-label__checkbox\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"isWorkLog\"\n                    checked={workLogChecked}\n                    onChange={() => setWorkLogChecked(!workLogChecked)}\n                  />\n                  <label htmlFor=\"isWorkLog\"> Mark as Work Log</label>\n                </div>\n              )}\n\n              {workLogChecked && (\n                <>\n                  <label htmlFor=\"hoursSpent\">Hours:</label>\n                  <input\n                    type=\"number\"\n                    value={hoursSpent}\n                    name=\"hoursSpent\"\n                    onChange={e => setHoursSpent(e.target.value)}\n                  />\n                </>\n              )}\n            </div>\n          )}\n          <label htmlFor=\"comment\">\n            Comment{workLogChecked && ' (Work Notes)'}:\n          </label>\n          <textarea\n            rows={3}\n            value={commentText}\n            onChange={e => setCommentText(e.target.value)}\n            className={textareaClasses}\n            placeholder={\n              internalMode ? 'Visible to vTeams' : 'Visible To Client'\n            }\n            name=\"comment\"\n          />\n          <TeamsButton mode=\"dark\" sx={{ margin: '10px' }} type=\"submit\" />\n          {isFulfiller && (\n            <TeamsButton mode=\"light\" onClick={toggleInternal}>\n              Toggle Internal\n            </TeamsButton>\n          )}\n        </form>\n      </div>\n\n      <div className=\"activity-feed-container\">\n        <div className=\"activity-feed\">\n          {// Activity log\n          activities.length > 0 &&\n            activities.map(submission => {\n              return (\n                <Activity key={submission.handle} submission={submission} />\n              );\n            })}\n\n          {activities.length === 0 && (\n            <div className=\"message-no-comments\">No Comments to display</div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Activities;\n","import React, { useState } from 'react';\nimport { CoreForm } from '@kineticdata/react';\nimport { VTEAMS } from '../../../globals/globals.js';\nimport URL from '../../../globals/urls.js';\nimport TeamsButton from '../TeamsButton/TeamsButton.jsx';\nimport './_CoreTicketView.scss';\nimport Activities from '../Activities/Activities.jsx';\n\nconst CoreTicketView = ({ id }) => {\n  const [submission, setSubmission] = useState({});\n\n  const header = id ? (\n    <h1>Ticket Handle: {id.substr(id.length - 6)}</h1>\n  ) : (\n    <h1>Submit a Ticket</h1>\n  );\n\n  return (\n    <div className=\"page-panel\">\n      {header}\n\n      <div className=\"card-wrapper no-padding\">\n        <CoreForm\n          submission={id || submission.id}\n          kapp={VTEAMS.KAPPSLUG}\n          form={VTEAMS.TICKET_FORM_SLUG}\n          onCompleted={e => setSubmission(e.submission)}\n          components={{\n            Button: TeamsButton,\n          }}\n        />\n      </div>\n\n      {// After form submission success, prompt return to CLIENT_HOME\n      !id &&\n        submission.handle && (\n          <>\n            <div className=\"flex flex-center\">\n              Your Ticket Has Been Successfully Submitted.\n            </div>\n            <div className=\"flex flex-center\">\n              <TeamsButton mode=\"dark\" linkpath={URL.CLIENT_HOME}>\n                Back to Home\n              </TeamsButton>\n            </div>\n          </>\n        )}\n\n      {//if existing form, show comments\n      (id || submission.id) && <Activities id={id || submission.id} />}\n    </div>\n  );\n};\n\nexport default CoreTicketView;\n","// Example Data\n// Table\nexport const columns = [\n  { field: 'id', headerName: 'ID', width: 30 },\n  {\n    field: 'firstName',\n    headerName: 'First name',\n    width: 140,\n    editable: true,\n  },\n  {\n    field: 'lastName',\n    headerName: 'Last name',\n    width: 150,\n    editable: true,\n  },\n  {\n    field: 'age',\n    headerName: 'Age',\n    type: 'number',\n    width: 50,\n    editable: true,\n  },\n  {\n    field: 'fullName',\n    headerName: 'Full name',\n    description: 'This column has a value getter and is not sortable.',\n    sortable: false,\n    width: 160,\n    valueGetter: params =>\n      `${params.row.firstName || ''} ${params.row.lastName || ''}`,\n  },\n];\n\nexport const rows = [\n  { id: 1, lastName: 'Snow', firstName: 'Jon', age: 35 },\n  { id: 2, lastName: 'Lannister', firstName: 'Cersei', age: 42 },\n  { id: 3, lastName: 'Lannister', firstName: 'Jaime', age: 45 },\n  { id: 4, lastName: 'Stark', firstName: 'Arya', age: 16 },\n  { id: 5, lastName: 'Targaryen', firstName: 'Daenerys', age: null },\n  { id: 6, lastName: 'Melisandre', firstName: null, age: 150 },\n  { id: 7, lastName: 'Clifford', firstName: 'Ferrara', age: 44 },\n  { id: 8, lastName: 'Frances', firstName: 'Rossini', age: 36 },\n  { id: 9, lastName: 'Roxie', firstName: 'Harvey', age: 65 },\n];\n\n// Burndown graph\nexport const data = [\n  { x: 1, y: 50 },\n  { x: 10, y: 45 },\n  { x: 13, y: 24 },\n  { x: 16, y: 20 },\n  { x: 24, y: 12 },\n];\n// ^^^^^^^^^^^End Example Data\n\nexport const daysArr = [...Array(31).keys()];\n","import React from 'react';\nimport './_BurndownChart.scss';\n\nimport {\n  bgColorPrimary,\n  colorWhite,\n} from '../../assets/styles/_variables.scss';\nimport { Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\nimport { addBackground } from './plugins';\nimport { data, daysArr } from './modules';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n);\n\nconst BurndownChart = () => {\n  return (\n    <div className=\"chart-wrapper\">\n      <Line\n        plugins={[addBackground]}\n        options={{\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            x: {\n              grid: {\n                display: false,\n              },\n            },\n            y: {\n              grid: {\n                // borderWidth: 2,\n                color: 'rgba(180,180,180,.1)',\n                lineWidth: 2,\n                borderDash: [6, 6],\n              },\n            },\n          },\n          plugins: {\n            legend: {\n              display: false,\n            },\n          },\n          elements: {\n            point: {\n              radius: 0,\n              hitRadius: 3,\n            },\n            line: {\n              borderWidth: 1,\n            },\n          },\n        }}\n        data={{\n          labels: daysArr,\n          datasets: [\n            {\n              label: 'Hours Remaining',\n              data: data,\n              backgroundColor: bgColorPrimary,\n              borderColor: bgColorPrimary,\n            },\n          ],\n        }}\n      />\n    </div>\n  );\n};\n\nexport default BurndownChart;\n","import React, { useEffect, useState } from 'react';\nimport { SubmissionSearch, searchSubmissions } from '@kineticdata/react';\nimport { getPaginated } from '../../lib/utils';\nimport { VTEAMS } from '../../../globals/globals';\nimport './BurndownFulfiller.scss';\nimport WorkLogList from './WorkLogList/WorkLogList';\nimport { history } from '@kineticdata/react';\nimport TeamsButton from '../TeamsButton/TeamsButton';\n\nconst BurndownFulfiller = () => {\n  const [data, setData] = useState({});\n  //   const [modal, setModal] = useState({ show: true, submissions: [] });\n\n  useEffect(() => {\n    const fetchBurndownInfo = async () => {\n      let search = new SubmissionSearch().include('values').build();\n\n      const clientInfo = await getPaginated({\n        kapp: VTEAMS.KAPPSLUG,\n        form: VTEAMS.CLIENTS_FORM_SLUG,\n        search,\n      });\n\n      // Init hashmap to track burndown data\n      const hash = {};\n      for (let submission of clientInfo) {\n        const org = submission.values['Organization'];\n        if (!org) continue;\n\n        if (!hash[org]) {\n          hash[org] = {\n            submissions: [],\n            ['Hours Worked']: 0,\n            ['Monthly Hours']: Number(submission.values['Monthly Hours']),\n            logo: submission.values['Logo Url'],\n            name: org,\n            id: submission.id,\n          };\n        }\n      }\n\n      search = new SubmissionSearch()\n        .eq('values[isWorkLog]', 'true')\n        .include('values')\n        .build();\n\n      const workLogs = await getPaginated({\n        kapp: VTEAMS.KAPPSLUG,\n        form: VTEAMS.ACTIVITIES_FORM_SLUG,\n        search,\n      });\n\n      for (let log of workLogs) {\n        if (!log) continue;\n        const org = log.values['Organization'];\n        hash[org].submissions.push(log);\n        hash[org]['Hours Worked'] += Number(log.values['Hours Worked']);\n      }\n\n      setData(hash);\n    };\n\n    fetchBurndownInfo();\n  }, []);\n\n  return (\n    <>\n      <div className=\"burndown-dashboard page-panel\">\n        <div className=\"burndown-dashboard__header\">\n          <div>Clients Dashboard</div>\n          <div>\n            <TeamsButton\n              linkpath={`/kapps/${VTEAMS.KAPPSLUG}/forms/${\n                VTEAMS.CLIENTS_FORM_SLUG\n              }`}\n            >\n              Add New Client\n            </TeamsButton>\n          </div>\n        </div>\n\n        <div className=\"client-container\">\n          {Object.keys(data).map((org, i) => {\n            const { logo, submissions, name, id } = data[org];\n            return (\n              <div key={i} className=\"burndown-panel\">\n                <div className=\"burndown-header\">\n                  <img src={logo} />\n                  <div className=\"burndown-organization\">{name}</div>\n                </div>\n                <div className=\"burndown-body\">\n                  <div className=\"burndown-item\">\n                    <span className=\"burndown-item--header\">Total Hours: </span>\n                    <span>{data[org]['Monthly Hours']}</span>\n                  </div>\n                  <div className=\"burndown-item\">\n                    <span className=\"burndown-item--header\">Hours Used: </span>\n                    <span>{data[org]['Hours Worked']}</span>\n                  </div>\n                  <div className=\"burndown-item\">\n                    <span className=\"burndown-item--header\">\n                      Hours Remaining:{' '}\n                    </span>\n                    <span>\n                      {data[org]['Monthly Hours'] - data[org]['Hours Worked']}\n                    </span>\n                  </div>\n                </div>\n                <div\n                  className=\"burndown-footer\"\n                  // onClick={()=>setModal({show: true, submissions})}\n                  onClick={() =>\n                    history.push(\n                      `/kapps/${VTEAMS.KAPPSLUG}/forms/${\n                        VTEAMS.CLIENTS_FORM_SLUG\n                      }/${id}`,\n                    )\n                  }\n                >\n                  View Details\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* {modal.show && <WorkLogList \n        submissions={modal.submissions}\n        setModal={setModal}\n        />} */}\n    </>\n  );\n};\n\nexport default BurndownFulfiller;\n","import React, { useState, useEffect } from 'react';\nimport TicketTable from '../TicketTable/TicketTable';\nimport { parseSubsToTablegrid } from '../../../../customUtils/utils';\nimport { PageTitle } from '@kineticdata/bundle-common';\nimport { searchSubmissions, SubmissionSearch } from '@kineticdata/react';\nimport './_ClientHome.scss';\nimport BurndownChart from '../BurndownChart/BurndownChart';\nimport BurndownClient from '../BurndownClient/BurndownClient';\nimport BurndownFulfiller from '../BurndownFulfiller/BurndownFulfiller';\nimport { getPaginated, isFulfiller } from '../../lib/utils';\nimport { useSelector } from 'react-redux';\n\nconst ClientHome = () => {\n  const [rowData, setRowData] = useState('');\n  let [columns, rows] = parseSubsToTablegrid(rowData);\n  const userProfile = useSelector(store => store.app.profile);\n  const fulfiller = isFulfiller(userProfile);\n  console.log('profile', userProfile);\n  console.log('isFulfiller', fulfiller);\n\n  // fetch submissions\n  useEffect(() => {\n    // Get all tickets for current client\n    const getSubmissions = async () => {\n      const search = new SubmissionSearch().include('values').build();\n      let submissions = await getPaginated({\n        kapp: 'vteams',\n        form: 'vteams-ticket',\n        search,\n      });\n      setRowData(submissions);\n    };\n    getSubmissions();\n  }, []);\n\n  return (\n    <div>\n      <PageTitle parts={['Home']} />\n      {/* <div className=\"page-panel\">\n        {!fulfiller ? <BurndownClient /> : <BurndownFulfiller />}\n      </div> */}\n      <div className=\"dashboard page-panel\">\n        <h1>Your Tickets</h1>\n        <div className=\"table-wrapper\">\n          <TicketTable columns={columns} rows={rows} createBtn />\n        </div>\n      </div>\n      {/* <div className=\"dashboard page-panel\">\n        <h1>Burndown Chart</h1>\n        <BurndownChart />\n      </div> */}\n    </div>\n  );\n};\n\nexport default ClientHome;\n","// Example Data\n// Table\nexport const columns = [\n  { field: 'id', headerName: 'ID', width: 30 },\n  {\n    field: 'firstName',\n    headerName: 'First name',\n    width: 140,\n    editable: true,\n  },\n  {\n    field: 'lastName',\n    headerName: 'Last name',\n    width: 150,\n    editable: true,\n  },\n  {\n    field: 'age',\n    headerName: 'Age',\n    type: 'number',\n    width: 50,\n    editable: true,\n  },\n  {\n    field: 'fullName',\n    headerName: 'Full name',\n    description: 'This column has a value getter and is not sortable.',\n    sortable: false,\n    width: 160,\n    valueGetter: params =>\n      `${params.row.firstName || ''} ${params.row.lastName || ''}`,\n  },\n];\n\nexport const rows = [\n  { id: 1, lastName: 'Snow', firstName: 'Jon', age: 35 },\n  { id: 2, lastName: 'Lannister', firstName: 'Cersei', age: 42 },\n  { id: 3, lastName: 'Lannister', firstName: 'Jaime', age: 45 },\n  { id: 4, lastName: 'Stark', firstName: 'Arya', age: 16 },\n  { id: 5, lastName: 'Targaryen', firstName: 'Daenerys', age: null },\n  { id: 6, lastName: 'Melisandre', firstName: null, age: 150 },\n  { id: 7, lastName: 'Clifford', firstName: 'Ferrara', age: 44 },\n  { id: 8, lastName: 'Frances', firstName: 'Rossini', age: 36 },\n  { id: 9, lastName: 'Roxie', firstName: 'Harvey', age: 65 },\n];\n\n// Burndown graph\nexport const data = [\n  { x: 1, y: 50 },\n  { x: 10, y: 45 },\n  { x: 13, y: 24 },\n  { x: 16, y: 20 },\n  { x: 24, y: 12 },\n];\n// ^^^^^^^^^^^End Example Data\n\nexport const daysArr = [...Array(31).keys()];\n","import React, { useEffect, useState } from 'react';\n\nimport './Dashboard.scss';\nimport {\n  bgColorPrimary,\n  colorWhite,\n} from '../../assets/styles/_variables.scss';\nimport { Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n\nimport RecentlyViewed from '../RecentlyViewed/RecentlyViewed';\nimport { PageTitle } from '@kineticdata/bundle-common';\n\nimport { columns as c, rows as r, data, daysArr } from './modules.js';\n\nimport { addBackground } from './plugins.js';\nimport TicketTable from '../TicketTable/TicketTable';\n\nimport {\n  searchSubmissions,\n  SubmissionSearch,\n  SubmissionTable,\n} from '@kineticdata/react';\nimport { parseSubsToTablegrid } from '../../../../customUtils/utils.js';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n);\n\nconst DashboardV1 = () => {\n  const [rowData, setRowData] = useState('');\n  let [columns, rows] = parseSubsToTablegrid(rowData);\n\n  useEffect(() => {\n    const search = new SubmissionSearch().include('values').build();\n\n    searchSubmissions({ kapp: 'vteams', form: 'tickets', search }).then(\n      result => setRowData(result.submissions),\n    );\n  }, []);\n\n  return (\n    <>\n      <PageTitle parts={['Home']} />\n      <div className=\"dashboard page-panel\">\n        <div className=\"grid\" id=\"dashboard-grid\">\n          <TicketTable columns={columns || c} rows={rows || r} createBtn />\n          <div className=\"flex flex-column\" id=\"dashboard-col-report\">\n            <RecentlyViewed />\n            {/* <div className=\"card-wrapper\">\n            <div className=\"card-title\">Weekly Reports</div>\n            \n          </div> */}\n            <div className=\"card-wrapper\">\n              <div className=\"card-title\">Burn Down</div>\n              <div className=\"chart-wrapper\">\n                <Line\n                  plugins={[addBackground]}\n                  options={{\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    scales: {\n                      x: {\n                        grid: {\n                          display: false,\n                        },\n                      },\n                      y: {\n                        grid: {\n                          // borderWidth: 2,\n                          color: 'rgba(180,180,180,.1)',\n                          lineWidth: 2,\n                          borderDash: [6, 6],\n                        },\n                      },\n                    },\n                    plugins: {\n                      legend: {\n                        display: false,\n                      },\n                    },\n                    elements: {\n                      point: {\n                        radius: 0,\n                        hitRadius: 3,\n                      },\n                      line: {\n                        borderWidth: 1,\n                      },\n                    },\n                  }}\n                  data={{\n                    labels: daysArr,\n                    datasets: [\n                      {\n                        label: 'Hours Remaining',\n                        data: data,\n                        backgroundColor: bgColorPrimary,\n                        borderColor: bgColorPrimary,\n                      },\n                    ],\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default DashboardV1;\n","import React from 'react';\nimport { CoreForm } from '@kineticdata/react';\n\nconst FormView = ({ formSlug, formId }) => {\n  console.log(formSlug);\n  if (formId) {\n    return <CoreForm submission={formId} />;\n  } else {\n    return <CoreForm kapp=\"vteams\" form={formSlug} />;\n  }\n};\n\nexport default FormView;\n","import React, { useEffect } from 'react';\nimport { Redirect, Router } from '@reach/router';\nimport { compose, lifecycle } from 'recompose';\nimport {\n  ErrorUnexpected,\n  Loading,\n  PageTitle,\n} from '@kineticdata/bundle-common';\nimport { connect } from './redux/store';\nimport { I18n } from '@kineticdata/react';\n\nimport WebFont from 'webfontloader';\nimport { ThemeProvider, createTheme } from '@mui/material';\n\nimport { Home } from './components/Home';\nimport Navbar from './components/Navbar/Navbar';\nimport './App.scss';\nimport BreadCrumbContainer from './components/BreadCrumbs/BreadCrumbs';\nimport TicketSubmission from './components/TicketSubmission/TicketSubmission';\n// import Dashboard from './components/Dashboard/Dashboard';\nimport Dashboard from './components/Dashboard_v2/DashboardV2';\nimport TicketUserView from './components/TicketUserView./TicketUserView';\nimport Queue from './components/Queue/Queue';\nimport { Footer } from './components/Footer/Footer';\nimport ClientManagement from './components/ClientManagement/ClientManagement';\nimport CoreTicket from './components/CoreTicketView/CoreTicketView';\nimport { Provider, useSelector } from 'react-redux';\nimport { store } from './redux/store';\nimport ClientHome from './components/ClientHome/ClientHome';\nimport DashboardV1 from './components/Dashboard/Dashboard';\nimport FormView from './components/FormView/FormView';\nimport BurndownFulfiller from './components/BurndownFulfiller/BurndownFulfiller';\n\n/*****************************************************************************\n *** PRIVATE APP\n *****************************************************************************/\n\nconst AppComponent = props => {\n  const THEME = createTheme({\n    typography: {\n      fontFamily: `\"Inter\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif`,\n      fontSize: 12,\n      fontWeightLight: 300,\n      fontWeightRegular: 400,\n      fontWeightMedium: 500,\n    },\n  });\n\n  // Load inter font for just custom app\n  useEffect(() => {\n    WebFont.load({\n      google: {\n        families: ['Inter:300,400,500,700,900'],\n      },\n    });\n  }, []);\n\n  if (props.error) {\n    return <ErrorUnexpected />;\n  } else if (props.loading) {\n    return <Loading text=\"App is loading ...\" />;\n  } else {\n    return props.render({\n      main: (\n        <I18n>\n          <Provider store={store}>\n            <ThemeProvider theme={THEME}>\n              <div className=\"package-layout package-layout--vteams\">\n                <PageTitle parts={['Loading...']} />\n                {/* <Navbar /> */}\n                <div className=\"page-container\">\n                  {/* <BreadCrumbContainer /> */}\n                  <Router>\n                    {/* <TicketSubmission path=\"/\" /> */}\n                    <FormView path=\"/forms/:formSlug\" />\n                    <FormView path=\"/forms/:formSlug/:formId\" />\n                    <Redirect from=\"/\" to=\"/kapps/vteams/home\" noThrow />\n                    {/* <Dashboard path=\"/dashboard\" /> */}\n                    {/* <DashboardV1 path=\"/dashboard/v1\" /> */}\n                    <CoreTicket path=\"/ticket\" />\n                    <CoreTicket path=\"/ticket/:id\" />\n                    {/* <TicketSubmission path=\"/ticket/draft\" /> */}\n                    {/* <Queue path=\"/queue\" /> */}\n                    {/* <ClientManagement path=\"/clients\" /> */}\n                    <ClientHome path=\"/home\" />\n                    <BurndownFulfiller path=\"/clients\" />\n                  </Router>\n                </div>\n                <Footer />\n              </div>\n            </ThemeProvider>\n          </Provider>\n        </I18n>\n      ),\n    });\n  }\n};\n\nconst mapStateToProps = state => ({\n  loading: false,\n  error: null,\n  appLocation: state.app.location,\n});\n\nconst mapDispatchToProps = {};\n\nexport const App = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  lifecycle({\n    componentDidMount() {},\n  }),\n)(AppComponent);\n\n/*****************************************************************************\n *** PUBLIC APP\n *****************************************************************************/\n\nexport const PublicAppComponent = props => {\n  return props.render({\n    main: (\n      <I18n>\n        <div className=\"package-layout package-layout--scaffold\">\n          <PageTitle parts={['Loading...']} />\n          <Router>\n            <Redirect from=\"*\" to={props.authRoute} noThrow />\n          </Router>\n        </div>\n      </I18n>\n    ),\n  });\n};\n\nconst mapStateToPropsPublic = state => ({\n  authRoute: state.app.authRoute,\n});\n\nexport const PublicApp = compose(connect(mapStateToPropsPublic))(\n  PublicAppComponent,\n);\n","import React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport matchPath from 'rudy-match-path';\nimport { LocationProvider, Router } from '@reach/router';\nimport {\n  CommonProvider,\n  ModalFormContainer,\n  ToastsContainer,\n} from '@kineticdata/bundle-common';\nimport { is } from 'immutable';\nimport { connectedHistory, context, store } from './redux/store';\nimport { syncAppState } from './redux/modules/app';\nimport { App, PublicApp } from './App';\n\nexport default class extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ready: false };\n    // Listen to the local store to see if the embedded app is ready to be\n    // re-rendered. Currently this just means that the required props have been\n    // synced into the local store.\n    this.unsubscribe = store.subscribe(() => {\n      const ready = store.getState().app.ready;\n      if (ready !== this.state.ready) {\n        this.setState({ ready });\n      }\n    });\n  }\n\n  componentDidMount() {\n    Object.entries(this.props.appState).forEach(syncAppState);\n  }\n\n  componentDidUpdate(prevProps) {\n    Object.entries(this.props.appState)\n      .filter(([key, value]) => !is(value, prevProps.appState[key]))\n      .forEach(syncAppState);\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  render() {\n    return (\n      this.state.ready && (\n        <Provider store={store} context={context}>\n          <CommonProvider>\n            <LocationProvider hashRouting history={connectedHistory}>\n              <ToastsContainer duration={5000} />\n              <ModalFormContainer />\n              <Router>\n                {this.props.appState.authenticated ? (\n                  <App\n                    render={this.props.render}\n                    path={`${this.props.appState.location}/*`}\n                  />\n                ) : (\n                  <PublicApp\n                    render={this.props.render}\n                    path={`${this.props.appState.location}/*`}\n                  />\n                )}\n              </Router>\n            </LocationProvider>\n          </CommonProvider>\n        </Provider>\n      )\n    );\n  }\n\n  // Functions for hiding/supressing parts of the default layout\n  // static shouldHideHeader = props => true;\n  // static shouldHideSidebar = props => true;\n  // static shouldSuppressSidebar = props => true;\n\n  // Used for matching pathname to display this AppProvider\n  // Not used if package is set as Bundle Package of a Kapp\n  // static location = '/scaffold';\n\n  // Set to true if package allows public (unauthenticated) routes\n  static hasPublicRoutes = false;\n\n  // Class that will be added to the body when this package is rendered\n  static bodyClassName = 'package--scaffold';\n}\n","// import '@fortawesome/fontawesome-free/css/all.css';\n// import '@fortawesome/fontawesome-free/css/v4-shims.css';\nimport 'font-awesome/css/font-awesome.css';\nimport 'typeface-open-sans/index.css';\nimport './assets/styles/master.scss';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { matchPath } from 'react-router-dom';\nimport { push } from 'connected-react-router';\nimport { compose, lifecycle, withHandlers, withProps } from 'recompose';\nimport { Utils } from '@kineticdata/bundle-common';\nimport { actions } from './redux/modules/app';\nimport { actions as alertsActions } from './redux/modules/alerts';\n\nimport LayoutRenderer from './components/layout';\nimport { AppProvider } from './AppProvider';\n// Import available packages\nimport ServicesApp from '@kineticdata/bundle-services';\nimport QueueApp from '@kineticdata/bundle-queue-custom';\nimport TechBarApp from '@kineticdata/bundle-tech-bar';\nimport DiscussionsApp from '@kineticdata/bundle-discussions';\nimport SettingsApp from '@kineticdata/bundle-settings';\nimport SurveyApp from '@kineticdata/bundle-survey';\nimport Scaffold from 'scaffold';\nimport VTeams from 'vTeams';\n\n/**\n * The git repo name to be used for fetching deployed versions of this bundle.\n * Set if this repo is connected to the codefresh pipeline for auto building and\n * publishing the bundle. Otherwise, set to undefined.\n */\nconst BUNDLE_NAME = 'customer-project-default';\n\n// Mapping of Bundle Package kapp attribute values to App Components\nconst BUNDLE_PACKAGE_PROVIDERS = {\n  services: ServicesApp,\n  queue: QueueApp,\n  'tech-bar': TechBarApp,\n  survey: SurveyApp,\n  scaffold: Scaffold,\n  vTeams: VTeams,\n};\n\n// List of available static packages\nconst STATIC_PACKAGE_PROVIDERS = [SettingsApp, DiscussionsApp];\n\n// Determine the correct AppProvider based on the kapp/route\nconst getAppProvider = ({ kapp, pathname }) => {\n  if (kapp) {\n    return (\n      BUNDLE_PACKAGE_PROVIDERS[\n        Utils.getAttributeValue(kapp, 'Bundle Package', kapp.slug)\n      ] || AppProvider\n    );\n  } else {\n    return (\n      STATIC_PACKAGE_PROVIDERS.find(provider =>\n        matchPath(pathname, { path: provider.location }),\n      ) || AppProvider\n    );\n  }\n};\n\nexport const AppComponent = props =>\n  !props.loading && (\n    <props.AppProvider\n      appState={{\n        ...props.app.toObject(),\n        location: props.appLocation,\n        actions: {\n          refreshApp: props.refreshApp,\n          refreshProfile: props.refreshProfile,\n        },\n        layoutSize: props.layoutSize,\n        bundleName: BUNDLE_NAME,\n      }}\n      location={props.location}\n      render={appProps => (\n        <LayoutRenderer\n          mobile={props.layoutSize === 'small'}\n          shouldHideHeader={props.shouldHideHeader}\n          shouldHideSidebar={props.shouldHideSidebar}\n          shouldSuppressSidebar={props.shouldSuppressSidebar}\n          {...appProps}\n        />\n      )}\n    />\n  );\n\nexport const mapStateToProps = state => ({\n  loading: state.app.loading,\n  authenticated: state.app.authenticated,\n  authRoute: state.app.authRoute,\n  kapps: state.app.kapps,\n  layoutSize: state.layout.size,\n  kappSlug: state.app.kappSlug,\n  kapp: state.app.kapp,\n  location: state.router.location,\n  app: state.app,\n});\n\nexport const mapDispatchToProps = {\n  push,\n  loadApp: actions.fetchApp,\n  loadProfile: actions.fetchProfileRequest,\n  fetchAlertsRequest: alertsActions.fetchAlertsRequest,\n};\n\nexport const App = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withHandlers({\n    getLocation: ({ kappSlug }) => app =>\n      `${kappSlug !== null ? `/kapps/${kappSlug}` : app.location || '/'}`,\n  }),\n  withProps(({ authenticated, location, kapp, profile, ...props }) => {\n    const AppProvider = getAppProvider({ kapp, pathname: location.pathname });\n    const appLocation = props.getLocation(AppProvider);\n    const shouldHideHeader = AppProvider\n      ? AppProvider.shouldHideHeader &&\n        !!AppProvider.shouldHideHeader({\n          appLocation,\n          authenticated,\n          location,\n          kapp,\n        })\n      : true;\n    const shouldHideSidebar = AppProvider\n      ? AppProvider.shouldHideSidebar &&\n        !!AppProvider.shouldHideSidebar({\n          appLocation,\n          authenticated,\n          location,\n          kapp,\n        })\n      : true;\n    const shouldSuppressSidebar =\n      AppProvider &&\n      AppProvider.shouldSuppressSidebar &&\n      !!AppProvider.shouldSuppressSidebar({\n        appLocation,\n        authenticated,\n        location,\n        kapp,\n      });\n    return {\n      AppProvider,\n      bodyClassName: AppProvider.bodyClassName || '',\n      shouldHideHeader,\n      shouldHideSidebar,\n      shouldSuppressSidebar,\n      appLocation,\n    };\n  }),\n  withHandlers({\n    refreshApp: props => () => props.loadApp(),\n    refreshProfile: props => () => props.loadProfile(),\n  }),\n  lifecycle({\n    componentDidMount() {\n      this.props.authenticated !== null && this.props.loadApp(true);\n      if (this.props.bodyClassName) {\n        document.body.className = this.props.bodyClassName;\n      }\n    },\n    componentDidUpdate(prevProps) {\n      if (this.props.authenticated !== prevProps.authenticated) {\n        this.props.loadApp(true);\n      }\n      if (\n        !this.props.loading &&\n        !this.props.authenticated &&\n        !this.props.AppProvider.hasPublicRoutes\n      ) {\n        this.props.push(this.props.authRoute);\n      }\n      if (this.props.bodyClassName !== prevProps.bodyClassName) {\n        document.body.className = this.props.bodyClassName;\n      }\n    },\n  }),\n)(AppComponent);\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport { matchPath } from 'react-router';\nimport { Provider, connect } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { store } from './redux/store';\nimport { Helmet } from 'react-helmet';\nimport { KineticLib, history } from '@kineticdata/react';\nimport { actions as layoutActions } from './redux/modules/layout';\nimport { actions } from './redux/modules/app';\nimport { Authentication } from './components/authentication/Authentication';\nimport { App } from './App';\n\n// Shared Components\nimport {\n  FormComponents,\n  TableComponents,\n  CoreFormComponents,\n} from '@kineticdata/bundle-common';\n\n// Asynchronously import the global dependencies that are used in the embedded\n// forms. Note that we deliberately do this as a const so that it should start\n// immediately without making the application wait but it will likely be ready\n// before users nagivate to the actual forms.\nconst globals = import('./globals');\n\nif (process.env.NODE_ENV === 'development') {\n  const axe = require('react-axe');\n  axe(React, ReactDOM, 1000);\n}\n\nconst ConnectedKineticLib = connect(state => ({\n  locale: state.app.locale,\n}))(KineticLib);\n\nReactDOM.render(\n  <Fragment>\n    <Helmet>\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    </Helmet>\n    <Provider store={store}>\n      <ConnectedKineticLib\n        globals={globals}\n        components={{\n          fields: {\n            ...FormComponents.defaults,\n          },\n          ...TableComponents.defaults,\n          coreForm: { ...CoreFormComponents.defaults },\n        }}\n      >\n        {({ initialized, ...authProps }) =>\n          initialized && (\n            <ConnectedRouter history={history}>\n              <Authentication {...authProps}>\n                <App />\n              </Authentication>\n            </ConnectedRouter>\n          )\n        }\n      </ConnectedKineticLib>\n    </Provider>\n  </Fragment>,\n  document.getElementById('root'),\n);\n\n// Initialize the kappSlug state which is normally set on location change but\n// since location changes are not fired on first load we need to do this\n// manually.\nconst match = matchPath(history.location.pathname, {\n  path: '/kapps/:kappSlug',\n});\nstore.dispatch(actions.setKappSlug(match && match.params.kappSlug));\n\n// Add global listeners\n[\n  ['small', window.matchMedia('(max-width: 767px)')],\n  ['medium', window.matchMedia('(min-width: 768px) and (max-width: 991px)')],\n  ['large', window.matchMedia('(min-width: 992px) and (max-width: 1199px)')],\n  ['xlarge', window.matchMedia('(min-width: 1200px)')],\n].forEach(([size, mql]) => {\n  mql.addListener(event => {\n    if (event.matches) {\n      store.dispatch(layoutActions.setSize(size));\n    }\n  });\n  if (mql.matches) {\n    store.dispatch(layoutActions.setSize(size));\n  }\n});\n","// Export all common components from the aliased pre-built components package\nexport * from '@kineticdata/bundle-components-default';\n\n// Export any custom components you defined to override the default ones\n// export CustomComponent from './components/CustomComponent';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgColorPrimary\":\"#012b3f\",\"bgColorLight\":\"#488dad\",\"bgOffWhiteDarker\":\"#f7f7f8\",\"colorWhite\":\"#fff\",\"line-dividers\":\"1px solid #c4c4c4\",\"fontSmall\":\"12px\",\"fontMedium\":\"16px\",\"fontLarge\":\"24px\"};","module.exports = __webpack_public_path__ + \"static/media/esolutions_logo_green.55d9aa8f.svg\";","module.exports = __webpack_public_path__ + \"static/media/esolutions_logo_white.01a91fe5.svg\";"],"sourceRoot":""}